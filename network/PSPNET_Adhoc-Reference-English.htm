<html lang="en">
<head>
<title>PSPNET_Adhoc-Reference</title>
<meta http-equiv="Content-Type" content= text/html; charset=iso-8859-1>
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta http-equiv="Content-Style-Type" content="Text/css>
<meta name="Author"Content=" Sony Computer Entertainment Inc.">
</head>
<body bgcolor="#ffffff" text="#000000" >
<a name=TOP></a>
<table WIDTH="100%">
<tr><td>
<h3>PSP&trade; Programmer Tool Runtime Library Release 6.3.0</h3>
</td>
</tr>
</table>
<hr noshade size=6>
<center><h1>
pspnet_adhoc Reference
</h1></center>
</a>
<!-- sce_hd1 -->
<div style="margin-left:50px;"><br></div>

<!-- sce_hd2 -->
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="SceNetAdhocPollSd"></a>
<table width="100%"><td width="70%"><font size=6>SceNetAdhocPollSd<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[Structure]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>Poll socket descriptor structure<br></div><br>

<!-- Structure -->
<div style="margin-left:10px;"><b>Structure</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

struct <b>SceNetAdhocPollSd</b> {
	int <i>id</i>;
	int <i>events</i>;
	int <i>revents</i>;
};

</font></pre></div>

<!-- Members -->
<div style="margin-left:10px;"><b>Members</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>id</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Socket ID&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>events</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Target events&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>revents</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Generated events&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- Description -->
<div style="margin-left:10px;"><b>Description</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">This structure is used for specifying a socket ID and associated target events in order to perform synchronous I/O for multiple sockets. The result is returned in <i>revents</i>.<br><br>Types of <i>events </i>and <i>revents </i>are as follows:<br><br></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>Macro</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>Target Event / Generated Event</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_EV_SEND&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;OK to send&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_EV_RECV&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;OK to receive&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_EV_CONNECT&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Connection established (active open)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_EV_ACCEPT&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Connection established (passive open)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_EV_FLUSH&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Send complete&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_EV_INVALID&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Invalid socket ID (only used with generated event)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_EV_DELETE&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Target socket has been deleted (only used with generated event)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_EV_ALERT&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Target socket is in alert state (only used with generated event)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_EV_DISCONNECT&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Connection terminated.&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>

<!-- See Also -->
<div style="margin-left:10px;"><b>See Also</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-English.htm#sceNetAdhocPollSocket">sceNetAdhocPollSocket</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="SceNetAdhocPdpStat"></a>
<table width="100%"><td width="70%"><font size=6>SceNetAdhocPdpStat<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[Structure]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>PDP control block structure<br></div><br>

<!-- Structure -->
<div style="margin-left:10px;"><b>Structure</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

struct <b>SceNetAdhocPdpStat</b> {
	struct <b>SceNetAdhocPdpStat</b> *<i>next</i>;
	int <i>id</i>;
	struct <a href="../network/PSPNET_Core-Reference-English.htm#SceNetEtherAddr">SceNetEtherAddr</a> <i>laddr</i>;
	<a href="../kernel/Types-Reference-English.htm#SceUShort16">SceUShort16</a> <i>lport</i>;
	<a href="../kernel/Types-Reference-English.htm#SceUInt32">SceUInt32</a> <i>rcv_sb_cc</i>;
};

</font></pre></div>

<!-- Members -->
<div style="margin-left:10px;"><b>Members</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>next</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Pointer to next entry in list (NULL indicates end)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>id</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Socket ID&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>laddr</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Local address&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>lport</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Local port number&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>rcv_sb_cc</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Size of data in receive buffer&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- Description -->
<div style="margin-left:10px;"><b>Description</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">This structure is used for obtaining a list of PDP control blocks<br><br></div>

<!-- See Also -->
<div style="margin-left:10px;"><b>See Also</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-English.htm#sceNetAdhocGetPdpStat">sceNetAdhocGetPdpStat</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="SceNetAdhocPtpStat"></a>
<table width="100%"><td width="70%"><font size=6>SceNetAdhocPtpStat<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[Structure]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>PTP control block structure<br></div><br>

<!-- Structure -->
<div style="margin-left:10px;"><b>Structure</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

struct <b>SceNetAdhocPtpStat</b> {
	struct <b>SceNetAdhocPtpStat</b> *<i>next</i>;
	int <i>id</i>;
	struct <a href="../network/PSPNET_Core-Reference-English.htm#SceNetEtherAddr">SceNetEtherAddr</a> <i>laddr</i>;
	struct <a href="../network/PSPNET_Core-Reference-English.htm#SceNetEtherAddr">SceNetEtherAddr</a> <i>paddr</i>;
	<a href="../kernel/Types-Reference-English.htm#SceUShort16">SceUShort16</a> <i>lport</i>;
	<a href="../kernel/Types-Reference-English.htm#SceUShort16">SceUShort16</a> <i>pport</i>;
	<a href="../kernel/Types-Reference-English.htm#SceUInt32">SceUInt32</a> <i>snd_sb_cc</i>;
	<a href="../kernel/Types-Reference-English.htm#SceUInt32">SceUInt32</a> <i>rcv_sb_cc</i>;
	int <i>state</i>;
};

</font></pre></div>

<!-- Members -->
<div style="margin-left:10px;"><b>Members</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>next</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Pointer to next entry in list (NULL indicates end))&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>id</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Socket ID&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>laddr</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Local address&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>paddr</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Peer address&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>lport</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Local port number&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>pport</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Peer port number&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>snd_sb_cc</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Size of data in send buffer&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>rcv_sb_cc</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Size of data in receive buffer&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>state</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Connection state&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- Description -->
<div style="margin-left:10px;"><b>Description</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">This structure is used for obtaining a list of PTP control blocks.<br><br><i>state</i> can be of the following types.<br><br></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<i><b>state</b></i>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>Description</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_PTP_STATE_CLOSED&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;CLOSED&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_PTP_STATE_LISTEN&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;LISTEN&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_PTP_STATE_SYN_SENT&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;SYN_SENT&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_PTP_STATE_SYN_RCVD&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;SYN_RCVD&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_PTP_STATE_ESTABLISHED&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ESTABLISHED&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- See Also -->
<div style="margin-left:10px;"><b>See Also</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-English.htm#sceNetAdhocGetPtpStat">sceNetAdhocGetPtpStat</a>()<br><br></div>

<!-- sce_hd2 -->
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocInit"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocInit<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[Function]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>Initialize library<br></div><br>

<!-- Syntax -->
<div style="margin-left:10px;"><b>Syntax</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocInit</b>(
	void
);

</font></pre></div>

<!-- Calling Conditions -->
<div style="margin-left:10px;"><b>Calling Conditions</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">Cannot be called from an interrupt handler.<br>Can be called from a thread (must be called in interrupt-enabled state).<br>Multithread safe.<br><br></div>

<!-- Arguments -->
<div style="margin-left:10px;"><b>Arguments</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">None<br><br></div>

<!-- Return Value -->
<div style="margin-left:10px;"><b>Return Value</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">Returns 0 on normal completion.<br>If an error occurs, the following error code is returned.<br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_ALREADY_INITIALIZED">SCE_ERROR_NET_ADHOC_ALREADY_INITIALIZED</a><br><br></div>

<!-- Description -->
<div style="margin-left:10px;"><b>Description</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">This function initializes the library.<br><br></div>

<!-- Example -->
<div style="margin-left:10px;"><b>Example</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>int ret;

ret = sceNetAdhocInit(void);
if (ret &lt; 0) {
	// Error handling
}

</font></pre></div>

<!-- See Also -->
<div style="margin-left:10px;"><b>See Also</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-English.htm#sceNetAdhocTerm">sceNetAdhocTerm</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocTerm"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocTerm<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[Function]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>Terminate library<br></div><br>

<!-- Syntax -->
<div style="margin-left:10px;"><b>Syntax</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocTerm</b>(
	void
);

</font></pre></div>

<!-- Calling Conditions -->
<div style="margin-left:10px;"><b>Calling Conditions</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">Cannot be called from an interrupt handler.<br>Can be called from a thread (must be called in interrupt-enabled state).<br>Multithread safe.<br><br></div>

<!-- Arguments -->
<div style="margin-left:10px;"><b>Arguments</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">None<br><br></div>

<!-- Return Value -->
<div style="margin-left:10px;"><b>Return Value</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">Returns 0 on normal completion.<br>If an error occurs, the following error code is returned.<br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_BUSY">SCE_ERROR_NET_ADHOC_BUSY</a><br><br></div>

<!-- Description -->
<div style="margin-left:10px;"><b>Description</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">This function terminates the library. If any APIs were called that have not yet completed, this function fails and returns <a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_BUSY">SCE_ERROR_NET_ADHOC_BUSY</a>. Before calling this function, be sure to abort all API calls in progress.<br><br></div>

<!-- Example -->
<div style="margin-left:10px;"><b>Example</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>int ret;

ret = sceNetAdhocTerm();
if (ret &lt; 0) {
	// Error handling
}

</font></pre></div>

<!-- See Also -->
<div style="margin-left:10px;"><b>See Also</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-English.htm#sceNetAdhocInit">sceNetAdhocInit</a>()<br><br></div>

<!-- sce_hd2 -->
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocPdpCreate"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocPdpCreate<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[Function]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>Create PDP socket<br></div><br>

<!-- Syntax -->
<div style="margin-left:10px;"><b>Syntax</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocPdpCreate</b>(
	const struct <a href="../network/PSPNET_Core-Reference-English.htm#SceNetEtherAddr">SceNetEtherAddr</a> *<i>saddr</i>,
	<a href="../kernel/Types-Reference-English.htm#SceUShort16">SceUShort16</a> <i>sport</i>,
	int <i>bufsize</i>,
	int <i>flag</i>
);

</font></pre></div>

<!-- Calling Conditions -->
<div style="margin-left:10px;"><b>Calling Conditions</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">Cannot be called from an interrupt handler.<br>Can be called from a thread (must be called in interrupt-enabled state).<br>Multithread safe.<br><br></div>

<!-- Arguments -->
<div style="margin-left:10px;"><b>Arguments</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>saddr</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Local MAC address&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>sport</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Local port number&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>bufsize</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Socket buffer size&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>flag</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Not used (set to 0)&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- Return Value -->
<div style="margin-left:10px;"><b>Return Value</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">When the function completes normally, a nonnegative socket ID is returned.<br>If an error occurs, one of the following error codes is returned.<br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_ARG">SCE_ERROR_NET_ADHOC_INVALID_ARG</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_NOT_INITIALIZED">SCE_ERROR_NET_ADHOC_NOT_INITIALIZED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_SOCKET_ID_NOT_AVAIL">SCE_ERROR_NET_ADHOC_SOCKET_ID_NOT_AVAIL</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_NO_SPACE">SCE_ERROR_NET_NO_SPACE</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_ADDR">SCE_ERROR_NET_ADHOC_INVALID_ADDR</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_PORT_NOT_AVAIL">SCE_ERROR_NET_ADHOC_PORT_NOT_AVAIL</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_PORT">SCE_ERROR_NET_ADHOC_INVALID_PORT</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_PORT_IN_USE">SCE_ERROR_NET_ADHOC_PORT_IN_USE</a><br><br></div>

<!-- Description -->
<div style="margin-left:10px;"><b>Description</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">This function creates a PDP socket. If the local port number is set to 0, an arbitrary port number will be allocated. Only one socket can be created for each combination of one MAC address and one port number.<br><br></div>

<!-- Example -->
<div style="margin-left:10px;"><b>Example</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>int ret, id;
struct <a href="../network/PSPNET_Core-Reference-English.htm#SceNetEtherAddr">SceNetEtherAddr</a> addr;

// Get local MAC address
ret = <a href="../network/PSPNET_Core-Reference-English.htm#sceNetGetLocalEtherAddr">sceNetGetLocalEtherAddr</a>(&amp;addr);
if (ret &lt; 0) {
	// Error handling
	return;
}

// Use arbitrary local port number
// Set socket buffer to 8192 bytes
id = sceNetAdhocPdpCreate(&amp;addr, 0, 8192, 0);
if (id &lt; 0) {
	// Error handling
}

</font></pre></div>

<!-- Notes -->
<div style="margin-left:10px;"><b>Notes</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">Socket IDs range from 1 to 255.<br>This function will return <a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_ADDR">SCE_ERROR_NET_ADHOC_INVALID_ADDR</a> if no connection has been established to the ad hoc network. Be sure to call this function only after a connection is established.<br><br></div>

<!-- See Also -->
<div style="margin-left:10px;"><b>See Also</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-English.htm#sceNetAdhocPdpDelete">sceNetAdhocPdpDelete</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocPdpSend"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocPdpSend<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[Function]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>Send PDP packet<br></div><br>

<!-- Syntax -->
<div style="margin-left:10px;"><b>Syntax</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocPdpSend</b>(
	int <i>id</i>,
	const struct <a href="../network/PSPNET_Core-Reference-English.htm#SceNetEtherAddr">SceNetEtherAddr</a> *<i>daddr</i>,
	<a href="../kernel/Types-Reference-English.htm#SceUShort16">SceUShort16</a> <i>dport</i>,
	const void *<i>data</i>,
	int <i>len</i>,
	<a href="../kernel/Types-Reference-English.htm#SceUInt32">SceUInt32</a> <i>timeout</i>,
	int <i>flag</i>
);

</font></pre></div>

<!-- Calling Conditions -->
<div style="margin-left:10px;"><b>Calling Conditions</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">Cannot be called from an interrupt handler.<br>Can be called from a thread (must be called in interrupt-enabled state).<br>Multithread safe.<br><br></div>

<!-- Arguments -->
<div style="margin-left:10px;"><b>Arguments</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>id</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Socket ID&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>daddr</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Destination MAC address&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>dport</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Destination port number&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>data</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Pointer to send data&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>len</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Length of send data&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>timeout</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Timeout (&micro;sec)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>flag</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Send options&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- Return Value -->
<div style="margin-left:10px;"><b>Return Value</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">Returns 0 on normal completion.<br>If an error occurs, one of the following error codes is returned.<br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_ARG">SCE_ERROR_NET_ADHOC_INVALID_ARG</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_NOT_INITIALIZED">SCE_ERROR_NET_ADHOC_NOT_INITIALIZED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID">SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_SOCKET_DELETED">SCE_ERROR_NET_ADHOC_SOCKET_DELETED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_ADDR">SCE_ERROR_NET_ADHOC_INVALID_ADDR</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_PORT">SCE_ERROR_NET_ADHOC_INVALID_PORT</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_DATALEN">SCE_ERROR_NET_ADHOC_INVALID_DATALEN</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_NO_SPACE">SCE_ERROR_NET_NO_SPACE</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_SOCKET_ALERTED">SCE_ERROR_NET_ADHOC_SOCKET_ALERTED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_TIMEOUT">SCE_ERROR_NET_ADHOC_TIMEOUT</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_INTERNAL">SCE_ERROR_NET_INTERNAL</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_THREAD_ABORTED">SCE_ERROR_NET_ADHOC_THREAD_ABORTED</a><br><br></div>

<!-- Description -->
<div style="margin-left:10px;"><b>Description</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">This function sends a PDP packet. If there is no room in the interface's send queue, the function call is blocked until there is room or until the interval specified by the timeout elapses. If 0 is specified for the timeout, the function will wait indefinitely. When a timeout occurs, <a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_TIMEOUT">SCE_ERROR_NET_ADHOC_TIMEOUT</a> is returned.<br>If the sending option has been set to SCE_NET_ADHOC_F_NONBLOCK and if there is no room in the send queue, the function immediately returns <a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_WOULD_BLOCK">SCE_ERROR_NET_ADHOC_WOULD_BLOCK</a> regardless of the timeout specification.<br>The maximum data length which can be sent is 65,523 bytes.<br><i>flag</i> types are as follows.<br><br></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<i><b>flag</b></i>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>Description</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_NONBLOCK&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Non-blocking mode&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>

<!-- Example -->
<div style="margin-left:10px;"><b>Example</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>void *data;        
int ret, id, datalen;
struct <a href="../network/PSPNET_Core-Reference-English.htm#SceNetEtherAddr">SceNetEtherAddr</a> daddr;
<a href="../kernel/Types-Reference-English.htm#SceUShort16">SceUShort16</a> dport;

// Provide datalen bytes of data
// Set addr and port
...

ret = sceNetAdhocPdpSend(id, &amp;daddr, dport, data, len, 0, 0);
if (ret &lt; 0) {
	// Error handling
}

</font></pre></div>

<!-- Notes -->
<div style="margin-left:10px;"><b>Notes</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">The maximum fragment size is 1444 bytes. Data that exceeds 1444 bytes is sent by dividing (fragmenting) it into multiple packets. Data that has been fragmented and sent can be received once all fragments have been received. If one or more fragments are lost, this data is discarded.<br><br></div>

<!-- See Also -->
<div style="margin-left:10px;"><b>See Also</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-English.htm#sceNetAdhocPdpRecv">sceNetAdhocPdpRecv</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocPdpRecv"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocPdpRecv<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[Function]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>Receive PDP packet<br></div><br>

<!-- Syntax -->
<div style="margin-left:10px;"><b>Syntax</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocPdpRecv</b>(
	int <i>id</i>,
	struct <a href="../network/PSPNET_Core-Reference-English.htm#SceNetEtherAddr">SceNetEtherAddr</a> *<i>saddr</i>,
	<a href="../kernel/Types-Reference-English.htm#SceUShort16">SceUShort16</a> *<i>sport</i>,
	void *<i>buf</i>,
	int *<i>len</i>,
	<a href="../kernel/Types-Reference-English.htm#SceUInt32">SceUInt32</a> <i>timeout</i>,
	int <i>flag</i>
);

</font></pre></div>

<!-- Calling Conditions -->
<div style="margin-left:10px;"><b>Calling Conditions</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">Cannot be called from an interrupt handler.<br>Can be called from a thread (must be called in interrupt-enabled state).<br>Multithread safe.<br><br></div>

<!-- Arguments -->
<div style="margin-left:10px;"><b>Arguments</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>id</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Socket ID&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>saddr</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Sender's MAC address&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>sport</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Sender port number&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>buf</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Pointer to receive buffer&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>len</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Receive buffer size (IN), receive data length (OUT)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>timeout</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Timeout (&micro;sec)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>flag</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Receive options&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- Return Value -->
<div style="margin-left:10px;"><b>Return Value</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">Returns 0 on normal completion.<br>If an error occurs, one of the following error codes is returned.<br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_ARG">SCE_ERROR_NET_ADHOC_INVALID_ARG</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_NOT_INITIALIZED">SCE_ERROR_NET_ADHOC_NOT_INITIALIZED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID">SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_SOCKET_DELETED">SCE_ERROR_NET_ADHOC_SOCKET_DELETED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_SOCKET_ALERTED">SCE_ERROR_NET_ADHOC_SOCKET_ALERTED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_WOULD_BLOCK">SCE_ERROR_NET_ADHOC_WOULD_BLOCK</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_TIMEOUT">SCE_ERROR_NET_ADHOC_TIMEOUT</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_INTERNAL">SCE_ERROR_NET_INTERNAL</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_NOT_ENOUGH_SPACE">SCE_ERROR_NET_ADHOC_NOT_ENOUGH_SPACE</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_THREAD_ABORTED">SCE_ERROR_NET_ADHOC_THREAD_ABORTED</a><br><br></div>

<!-- Description -->
<div style="margin-left:10px;"><b>Description</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">This function receives PDP packets. It returns the sender's MAC address, port number, and data length for the received packets. If no data can be received, the function call is blocked until a packet is received or until the interval specified by the timeout elapses. If 0 is specified for the timeout, the function will wait indefinitely. When a timeout occurs, <a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_TIMEOUT">SCE_ERROR_NET_ADHOC_TIMEOUT</a> is returned.<br>If SCE_NET_ADHOC_F_NONBLOCK is set as a receive option and if no data can be received, the function immediately returns <a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_WOULD_BLOCK">SCE_ERROR_NET_ADHOC_WOULD_BLOCK</a> regardless of the timeout specification.<br>If the socket buffer size is exceeded when a packet is received, the packet is discarded without being written to the socket buffer.<br><i>flag</i> can be the following type.<br><br></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<i><b>flag</b></i>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>Description</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_NONBLOCK&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Non-blocking mode&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>

<!-- Example -->
<div style="margin-left:10px;"><b>Example</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>char buf[1024];
int ret, id, len;
struct <a href="../network/PSPNET_Core-Reference-English.htm#SceNetEtherAddr">SceNetEtherAddr</a> saddr;
<a href="../kernel/Types-Reference-English.htm#SceUShort16">SceUShort16</a> sport;

len = 1024;
ret = sceNetAdhocPdpRecv(id, &amp;saddr, &amp;sport, buf, &amp;len, 0, 0);
if (ret &lt; 0) {
	// Error handling
}

</font></pre></div>

<!-- See Also -->
<div style="margin-left:10px;"><b>See Also</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-English.htm#sceNetAdhocPdpSend">sceNetAdhocPdpSend</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocPdpDelete"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocPdpDelete<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[Function]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>Delete PDP socket<br></div><br>

<!-- Syntax -->
<div style="margin-left:10px;"><b>Syntax</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocPdpDelete</b>(
	int <i>id</i>,
	int <i>flag</i>
);

</font></pre></div>

<!-- Calling Conditions -->
<div style="margin-left:10px;"><b>Calling Conditions</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">Cannot be called from an interrupt handler.<br>Can be called from a thread (must be called in interrupt-enabled state).<br>Multithread safe.<br><br></div>

<!-- Arguments -->
<div style="margin-left:10px;"><b>Arguments</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>id</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Socket ID&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>flag</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Not used (set to 0)&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- Return Value -->
<div style="margin-left:10px;"><b>Return Value</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">Returns 0 on normal completion.<br>If an error occurs, one of the following error codes is returned.<br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_ARG">SCE_ERROR_NET_ADHOC_INVALID_ARG</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_NOT_INITIALIZED">SCE_ERROR_NET_ADHOC_NOT_INITIALIZED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID">SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID</a><br><br></div>

<!-- Description -->
<div style="margin-left:10px;"><b>Description</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">This function deletes a PDP socket. If the socket in question is in a waiting-to-send or waiting-to-receive state, this function returns an error (<a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_SOCKET_DELETED">SCE_ERROR_NET_ADHOC_SOCKET_DELETED</a>). Packets in the receive buffer are discarded.<br><br></div>

<!-- Example -->
<div style="margin-left:10px;"><b>Example</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>int ret, id;

ret = sceNetAdhocPdpDelete(id, 0);
if (ret &lt; 0) {
	// Error handling
}

</font></pre></div>

<!-- See Also -->
<div style="margin-left:10px;"><b>See Also</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-English.htm#sceNetAdhocPdpCreate">sceNetAdhocPdpCreate</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocGetPdpStat"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocGetPdpStat<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[Function]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>Get PDP control blocks<br></div><br>

<!-- Syntax -->
<div style="margin-left:10px;"><b>Syntax</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocGetPdpStat</b>(
	int *<i>buflen</i>,
	void *<i>buf</i>
);

</font></pre></div>

<!-- Calling Conditions -->
<div style="margin-left:10px;"><b>Calling Conditions</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">Cannot be called from an interrupt handler.<br>Can be called from a thread (must be called in interrupt-enabled state).<br>Multithread safe.<br><br></div>

<!-- Arguments -->
<div style="margin-left:10px;"><b>Arguments</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>buflen</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Buffer size of <i>buf </i>(IN), list size (OUT)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>buf</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Pointer to area where the list of PDP control block structures will be stored&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- Return Value -->
<div style="margin-left:10px;"><b>Return Value</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">Returns 0 on normal completion.<br>If an error occurs, one of the following error codes is returned.<br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_ARG">SCE_ERROR_NET_ADHOC_INVALID_ARG</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_NOT_INITIALIZED">SCE_ERROR_NET_ADHOC_NOT_INITIALIZED</a><br><br></div>

<!-- Description -->
<div style="margin-left:10px;"><b>Description</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">This function gets a list of PDP control block structures.<br>You must allocate <i>buflen </i>bytes in the memory area indicated by <i>buf</i>.<br><br>This function takes two kinds of action, depending on the value of <i>buf</i>.<br></div>
</ol>
<div style="margin-left:50px;"><ol>
<li VALUE=1> If <i>buf </i>is NULL, the function returns in <i>buflen</i> the size of the buffer needed to store the list of structures.</li>
<li VALUE=2> If <i>buf</i> contains an address, a list of <a href="../network/PSPNET_Adhoc-Reference-English.htm#SceNetAdhocPdpStat">SceNetAdhocPdpStat</a> PDP control block structures is created up to the maximum buffer size specified in <i>buflen</i>, in the area specified by <i>buf</i>. The list has <i>buf</i> as its starting location, is linked using the <i>next</i> member, and is terminated by NULL.</li>
</ol></div>
<div style="margin-left:50px;"><br></div>

<!-- Example -->
<div style="margin-left:10px;"><b>Example</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>int ret, buflen;
struct <a href="../network/PSPNET_Adhoc-Reference-English.htm#SceNetAdhocPdpStat">SceNetAdhocPdpStat</a> *buf, *ptr;

ret = sceNetAdhocGetPdpStat(&amp;buflen, NULL);
if (ret &lt; 0) {
	// Error handling
	return;
}
else if (buflen == 0) {
	// No data
	return;
}

buf = malloc(buflen);
if (buf == NULL) {
	// Could not allocate memory
	return;
}

ret = sceNetAdhocGetPdpStat(&amp;buflen, buf);
if (ret &lt; 0) {
	// Error handling
}
else if (buflen == 0) {
	// No data
}        
else {
	for (ptr = buf; ptr != NULL; ptr = ptr-&gt;next) {
		// Process acquired control block
		...
	}
}

free(buf);

</font></pre></div>

<!-- See Also -->
<div style="margin-left:10px;"><b>See Also</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-English.htm#SceNetAdhocPdpStat">SceNetAdhocPdpStat</a><br></div>

<!-- sce_hd2 -->
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocPtpOpen"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocPtpOpen<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[Function]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>Create PTP socket and open connection<br></div><br>

<!-- Syntax -->
<div style="margin-left:10px;"><b>Syntax</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocPtpOpen</b>(
	const struct <a href="../network/PSPNET_Core-Reference-English.htm#SceNetEtherAddr">SceNetEtherAddr</a> *<i>saddr</i>,
	<a href="../kernel/Types-Reference-English.htm#SceUShort16">SceUShort16</a> <i>sport</i>,
	const struct <a href="../network/PSPNET_Core-Reference-English.htm#SceNetEtherAddr">SceNetEtherAddr</a> *<i>daddr</i>,
	<a href="../kernel/Types-Reference-English.htm#SceUShort16">SceUShort16</a> <i>dport</i>,
	<a href="../kernel/Types-Reference-English.htm#SceUInt32">SceUInt32</a> <i>bufsize,</i>
	<a href="../kernel/Types-Reference-English.htm#SceUInt32">SceUInt32</a> <i>rexmt_int</i>,
	int <i>rexmt_cnt</i>,
	int <i>flag</i>
); 

</font></pre></div>

<!-- Calling Conditions -->
<div style="margin-left:10px;"><b>Calling Conditions</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">Cannot be called from an interrupt handler.<br>Can be called from a thread (must be called in interrupt-enabled state).<br>Multithread safe.<br><br></div>

<!-- Arguments -->
<div style="margin-left:10px;"><b>Arguments</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>saddr</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Local MAC address&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>sport</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Local port number&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>daddr</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Destination MAC address&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>dport</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Destination port number&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>bufsize</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Socket buffer size&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>rexmt_int</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Retransmit interval (&micro;sec)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>rexmt_cnt</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Retransmit count&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>flag</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Not used (set to 0)&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- Return Value -->
<div style="margin-left:10px;"><b>Return Value</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">When this function completes normally, a nonnegative socket ID is returned.<br>If an error occurs, one of the following error codes is returned.<br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_ARG">SCE_ERROR_NET_ADHOC_INVALID_ARG</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_NOT_INITIALIZED">SCE_ERROR_NET_ADHOC_NOT_INITIALIZED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_ADDR">SCE_ERROR_NET_ADHOC_INVALID_ADDR</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_PORT">SCE_ERROR_NET_ADHOC_INVALID_PORT</a><br><br></div>

<!-- Description -->
<div style="margin-left:10px;"><b>Description</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">This function creates a PTP socket and opens a connection to the specified destination MAC address and port number.If the local port number is set to 0, an arbitrary port number will be allocated. If the local port number is already in use, a new socket cannot be allocated to that port.<br><br></div>

<!-- Example -->
<div style="margin-left:10px;"><b>Example</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>int ret, id;
struct <a href="../network/PSPNET_Core-Reference-English.htm#SceNetEtherAddr">SceNetEtherAddr</a> saddr, daddr;
<a href="../kernel/Types-Reference-English.htm#SceUShort16">SceUShort16</a> dport;

// Get Local MAC address
ret = <a href="../network/PSPNET_Core-Reference-English.htm#sceNetGetLocalEtherAddr">sceNetGetLocalEtherAddr</a>(&amp;saddr);
if (ret &lt; 0) {
	// Error handling
	return;
}

// Set destination address and port number (daddr, dport).
...

// Use an arbitrary local port number
// Set the socket buffer to 8192 bytes.
// Set the retransmit interval to 500 ms, retransmit count to 20.
id = sceNetAdhocPtpOpen(&amp;saddr, 0, &amp;daddr, dport, 8192, 500*1000, 20, 0);
if (id &lt; 0) {
	// Error handling
}

</font></pre></div>

<!-- Notes -->
<div style="margin-left:10px;"><b>Notes</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">This function will return <a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_ADDR">SCE_ERROR_NET_ADHOC_INVALID_ADDR</a> if no connection has been established to the ad hoc network. Be sure to call this function only after a connection is established.<br><br></div>

<!-- See Also -->
<div style="margin-left:10px;"><b>See Also</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-English.htm#sceNetAdhocPtpConnect">sceNetAdhocPtpConnect</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocPtpConnect"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocPtpConnect<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[Function]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>Establish PTP connection<br></div><br>

<!-- Syntax -->
<div style="margin-left:10px;"><b>Syntax</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocPtpConnect</b>(
	int <i>id</i>,
	<a href="../kernel/Types-Reference-English.htm#SceUInt32">SceUInt32</a> <i>timeout</i>,
	int <i>flag</i>
);

</font></pre></div>

<!-- Calling Conditions -->
<div style="margin-left:10px;"><b>Calling Conditions</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">Cannot be called from an interrupt handler.<br>Can be called from a thread (must be called in interrupt-enabled state).<br>Multithread safe.<br><br></div>

<!-- Arguments -->
<div style="margin-left:10px;"><b>Arguments</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>id</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Socket ID&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>timeout</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Timeout (&micro;sec)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>flag</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Option&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- Return Value -->
<div style="margin-left:10px;"><b>Return Value</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">Returns 0 on normal completion.<br>If an error occurs, one of the following error codes is returned.<br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_ARG">SCE_ERROR_NET_ADHOC_INVALID_ARG</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_NOT_INITIALIZED">SCE_ERROR_NET_ADHOC_NOT_INITIALIZED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID">SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_SOCKET_DELETED">SCE_ERROR_NET_ADHOC_SOCKET_DELETED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_CONNECTION_REFUSED">SCE_ERROR_NET_ADHOC_CONNECTION_REFUSED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_SOCKET_ALERTED">SCE_ERROR_NET_ADHOC_SOCKET_ALERTED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_WOULD_BLOCK">SCE_ERROR_NET_ADHOC_WOULD_BLOCK</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_TIMEOUT">SCE_ERROR_NET_ADHOC_TIMEOUT</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_INTERNAL">SCE_ERROR_NET_INTERNAL</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_NOT_OPENED">SCE_ERROR_NET_ADHOC_NOT_OPENED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_THREAD_ABORTED">SCE_ERROR_NET_ADHOC_THREAD_ABORTED</a><br><br></div>

<!-- Description -->
<div style="margin-left:10px;"><b>Description</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">This function waits for a connection to be established on the socket created by <a href="../network/PSPNET_Adhoc-Reference-English.htm#sceNetAdhocPtpOpen">sceNetAdhocPtpOpen</a>(). If no connection is active, the function blocks until a connection is established or until the interval specified by the timeout elapses. If 0 is specified for the timeout, the function will wait indefinitely. When a timeout occurs, this function returns <a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_TIMEOUT">SCE_ERROR_NET_ADHOC_TIMEOUT</a>. If SCE_NET_ADHOC_F_NONBLOCK is specified as an option and if no connection has been established, <a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_WOULD_BLOCK">SCE_ERROR_NET_ADHOC_WOULD_BLOCK</a> is returned immediately.<br><i>flag</i> can be set to the following type<br><br></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<i><b>flag</b></i>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>Description</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_NONBLOCK&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Non-blocking mode&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>

<!-- Example -->
<div style="margin-left:10px;"><b>Example</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>int ret, id;

while (1) {
	// Other tasks

	// Call in non-blocking mode (poll)
	ret = sceNetAdhocPtpConnect(id, 0, SCE_NET_ADHOC_F_NONBLOCK);
	if (ret == <a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_WOULD_BLOCK">SCE_ERROR_NET_ADHOC_WOULD_BLOCK</a>) {
		// No connection yet
		continue;
	}
	else if (ret &lt; 0) {
		// Error handling
		break;
	}
	else {
		// Connection succeeded
		break;
	}        
}

</font></pre></div>

<!-- See Also -->
<div style="margin-left:10px;"><b>See Also</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-English.htm#sceNetAdhocPtpOpen">sceNetAdhocPtpOpen</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocPtpListen"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocPtpListen<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[Function]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>Create PTP socket and wait for connection<br></div><br>

<!-- Syntax -->
<div style="margin-left:10px;"><b>Syntax</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocPtpListen</b>(
	const struct <a href="../network/PSPNET_Core-Reference-English.htm#SceNetEtherAddr">SceNetEtherAddr</a> *<i>saddr</i>,
	<a href="../kernel/Types-Reference-English.htm#SceUShort16">SceUShort16</a> <i>sport</i>,
	<a href="../kernel/Types-Reference-English.htm#SceUInt32">SceUInt32</a> <i>bufsize</i>,
	<a href="../kernel/Types-Reference-English.htm#SceUInt32">SceUInt32</a> <i>rexmt_int</i>,
	int <i>rexmt_cnt</i>,
	int <i>backlog</i>,
	int <i>flag</i>
);

</font></pre></div>

<!-- Calling Conditions -->
<div style="margin-left:10px;"><b>Calling Conditions</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">Cannot be called from an interrupt handler.<br>Can be called from a thread (must be called in interrupt-enabled state).<br>Multithread safe.<br><br></div>

<!-- Arguments -->
<div style="margin-left:10px;"><b>Arguments</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>saddr</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Local MAC address&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>sport</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Local port number&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>bufsize</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Socket buffer size&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>rexmt_int</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Retransmit interval (&micro;sec)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>rexmt_cnt</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Retransmit count&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>backlog</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Connection queue length&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>flag</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Not used (set to 0)&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- Return Value -->
<div style="margin-left:10px;"><b>Return Value</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">When the function completes normally, the socket ID (&gt;0) is returned.<br>If an error occurs, one of the following error codes is returned.<br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_ARG">SCE_ERROR_NET_ADHOC_INVALID_ARG</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_NOT_INITIALIZED">SCE_ERROR_NET_ADHOC_NOT_INITIALIZED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_SOCKET_ID_NOT_AVAIL">SCE_ERROR_NET_ADHOC_SOCKET_ID_NOT_AVAIL</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_NO_SPACE">SCE_ERROR_NET_NO_SPACE</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_ADDR">SCE_ERROR_NET_ADHOC_INVALID_ADDR</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_PORT_NOT_AVAIL">SCE_ERROR_NET_ADHOC_PORT_NOT_AVAIL</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_PORT">SCE_ERROR_NET_ADHOC_INVALID_PORT</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_PORT_IN_USE">SCE_ERROR_NET_ADHOC_PORT_IN_USE</a><br><br></div>

<!-- Description -->
<div style="margin-left:10px;"><b>Description</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">This function creates a PTP socket and waits for a connection. <br>If the local port number is set to 0, an arbitrary port number will be allocated. If the local port number is already in use, a new socket cannot be allocated to that port.<br><br></div>

<!-- Example -->
<div style="margin-left:10px;"><b>Example</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>int ret, id;
struct <a href="../network/PSPNET_Core-Reference-English.htm#SceNetEtherAddr">SceNetEtherAddr</a> saddr;
<a href="../kernel/Types-Reference-English.htm#SceUShort16">SceUShort16</a> sport;

// Get local MAC address
ret = <a href="../network/PSPNET_Core-Reference-English.htm#sceNetGetLocalEtherAddr">sceNetGetLocalEtherAddr</a>(&amp;addr);
if (ret &lt; 0) {
	// Error handling
	return;
}
// Set the waiting port number to 80
sport = 80;

// Set the socket buffer to 8192 bytes
// Set the retransmit interval to 500 ms, the retransmit count to 20
// Set the connection queue to 5
id = sceNetAdhocPtpListen(&amp;saddr, sport, 8192, 500*1000, 20, 5, 0);
if (id &lt; 0) {
	// Error handling
}

</font></pre></div>

<!-- Notes -->
<div style="margin-left:10px;"><b>Notes</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">This function will return <a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_ADDR">SCE_ERROR_NET_ADHOC_INVALID_ADDR</a> if no connection has been established to the ad hoc network. Be sure to call this function only after a connection is established.<br><br></div>

<!-- See Also -->
<div style="margin-left:10px;"><b>See Also</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-English.htm#sceNetAdhocPtpAccept">sceNetAdhocPtpAccept</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocPtpAccept"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocPtpAccept<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[Function]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>Establish PTP connection<br></div><br>

<!-- Syntax -->
<div style="margin-left:10px;"><b>Syntax</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocPtpAccept</b>(
	int <i>id</i>,
	struct <a href="../network/PSPNET_Core-Reference-English.htm#SceNetEtherAddr">SceNetEtherAddr</a> *<i>addr</i>,
	<a href="../kernel/Types-Reference-English.htm#SceUShort16">SceUShort16</a> *<i>port</i>,
	<a href="../kernel/Types-Reference-English.htm#SceUInt32">SceUInt32</a> <i>timeout</i>,
	int <i>flag</i>
);

</font></pre></div>

<!-- Calling Conditions -->
<div style="margin-left:10px;"><b>Calling Conditions</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">Cannot be called from an interrupt handler.<br>Can be called from a thread (must be called in interrupt-enabled state).<br>Multithread safe.<br><br></div>

<!-- Arguments -->
<div style="margin-left:10px;"><b>Arguments</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>id</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Socket ID&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>addr</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Peer MAC address&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>port</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Peer port number&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>timeout</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Timeout (&micro;sec)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>flag</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Option&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- Return Value -->
<div style="margin-left:10px;"><b>Return Value</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">When the function completes normally, the socket ID (&gt;0) is returned.<br>If an error occurs, one of the following error codes is returned.<br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_ARG">SCE_ERROR_NET_ADHOC_INVALID_ARG</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_NOT_INITIALIZED">SCE_ERROR_NET_ADHOC_NOT_INITIALIZED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID">SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_SOCKET_DELETED">SCE_ERROR_NET_ADHOC_SOCKET_DELETED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_SOCKET_ALERTED">SCE_ERROR_NET_ADHOC_SOCKET_ALERTED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_SOCKET_ID_NOT_AVAIL">SCE_ERROR_NET_ADHOC_SOCKET_ID_NOT_AVAIL</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_WOULD_BLOCK">SCE_ERROR_NET_ADHOC_WOULD_BLOCK</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_TIMEOUT">SCE_ERROR_NET_ADHOC_TIMEOUT</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_INTERNAL">SCE_ERROR_NET_INTERNAL</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_NOT_LISTENED">SCE_ERROR_NET_ADHOC_NOT_LISTENED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_THREAD_ABORTED">SCE_ERROR_NET_ADHOC_THREAD_ABORTED</a><br><br></div>

<!-- Description -->
<div style="margin-left:10px;"><b>Description</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">This function waits for a connection on the socket created by <a href="../network/PSPNET_Adhoc-Reference-English.htm#sceNetAdhocPtpListen">sceNetAdhocPtpListen</a>(). If no connection has been established, the function blocks until a connection is established or until the interval specified by the timeout elapses. If 0 is specified for the timeout, the function will wait indefinitely. When a timeout occurs, <a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_TIMEOUT">SCE_ERROR_NET_ADHOC_TIMEOUT</a> is returned.<br>If SCE_NET_ADHOC_F_NONBLOCK is set as an option and if no connection is active, this function will immediately return <a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_WOULD_BLOCK">SCE_ERROR_NET_ADHOC_WOULD_BLOCK</a> regardless of the timeout specification.<br>Once a connection is established, this function returns the newly created socket ID.<br>The connected peer's MAC address and port number are returned in <i>addr</i> and <i>port</i>.<br><i>flag</i> can be the following type:<br><br></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<i><b>flag</b></i>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>Description</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_NONBLOCK&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Non-blocking mode&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>

<!-- Example -->
<div style="margin-left:10px;"><b>Example</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>int id, newid;
struct <a href="../network/PSPNET_Core-Reference-English.htm#SceNetEtherAddr">SceNetEtherAddr</a> addr;
<a href="../kernel/Types-Reference-English.htm#SceUShort16">SceUShort16</a> port;

while (1) {
	// Other tasks

	// Call in non-blocking mode (poll)
	newid = sceNetAdhocPtpAccept(id, &amp;addr, &amp;port, 0, SCE_NET_ADHOC_F_NONBLOCK);
	if (newid == <a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_WOULD_BLOCK">SCE_ERROR_NET_ADHOC_WOULD_BLOCK</a>) {
		// Not yet connected
		continue;
	}
	else if (newid &lt; 0) {
		// Error handling
		break;
	}
	else {
		// Connection succeeded
		break;
	}
}

</font></pre></div>

<!-- See Also -->
<div style="margin-left:10px;"><b>See Also</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-English.htm#sceNetAdhocPtpListen">sceNetAdhocPtpListen</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocPtpSend"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocPtpSend<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[Function]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>Send data<br></div><br>

<!-- Syntax -->
<div style="margin-left:10px;"><b>Syntax</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocPtpSend</b>(
	int <i>id</i>,
	const void *<i>data</i>,
	int *<i>len</i>,
	<a href="../kernel/Types-Reference-English.htm#SceUInt32">SceUInt32</a> <i>timeout</i>,
	int <i>flag</i>
);

</font></pre></div>

<!-- Calling Conditions -->
<div style="margin-left:10px;"><b>Calling Conditions</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">Cannot be called from an interrupt handler.<br>Can be called from a thread (must be called in interrupt-enabled state).<br>Multithread safe.<br><br></div>

<!-- Arguments -->
<div style="margin-left:10px;"><b>Arguments</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>id</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Socket ID&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>data</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Pointer to send data&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>len</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Size of send data (IN)&nbsp;&nbsp;<br>&nbsp;&nbsp;Actual size of the socket buffer that is stored (OUT)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>timeout</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Timeout (&micro;sec)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>flag</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Option&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- Return Value -->
<div style="margin-left:10px;"><b>Return Value</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">Returns 0 on normal completion.<br>If an error occurs, one of the following error codes is returned.<br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_ARG">SCE_ERROR_NET_ADHOC_INVALID_ARG</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_NOT_INITIALIZED">SCE_ERROR_NET_ADHOC_NOT_INITIALIZED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID">SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_NOT_CONNECTED">SCE_ERROR_NET_ADHOC_NOT_CONNECTED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_SOCKET_DELETED">SCE_ERROR_NET_ADHOC_SOCKET_DELETED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_DATALEN">SCE_ERROR_NET_ADHOC_INVALID_DATALEN</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_DISCONNECTED">SCE_ERROR_NET_ADHOC_DISCONNECTED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_SOCKET_ALERTED">SCE_ERROR_NET_ADHOC_SOCKET_ALERTED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_WOULD_BLOCK">SCE_ERROR_NET_ADHOC_WOULD_BLOCK</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_TIMEOUT">SCE_ERROR_NET_ADHOC_TIMEOUT</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_INTERNAL">SCE_ERROR_NET_INTERNAL</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_NO_SPACE">SCE_ERROR_NET_NO_SPACE</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_THREAD_ABORTED">SCE_ERROR_NET_ADHOC_THREAD_ABORTED</a><br><br></div>

<!-- Description -->
<div style="margin-left:10px;"><b>Description</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">This function sends data. If there is not enough space in the socket buffer, the function call blocks until space becomes available or until the interval specified by the timeout elapses. If 0 is specified for the timeout, the function will wait indefinitely. When a timeout occurs, <a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_TIMEOUT">SCE_ERROR_NET_ADHOC_TIMEOUT</a> is returned.<br>If the sending option has been set to SCE_NET_ADHOC_F_NONBLOCK and if there is not enough space in the socket buffer, this function immediately returns <a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_WOULD_BLOCK">SCE_ERROR_NET_ADHOC_WOULD_BLOCK</a> regardless of the timeout specification.<br>When the return value indicates normal completion or is<br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_NO_SPACE">SCE_ERROR_NET_NO_SPACE</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_TIMEOUT">SCE_ERROR_NET_ADHOC_TIMEOUT</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_SOCKET_ALERTED">SCE_ERROR_NET_ADHOC_SOCKET_ALERTED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_WOULD_BLOCK">SCE_ERROR_NET_ADHOC_WOULD_BLOCK</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_DISCONNECTED">SCE_ERROR_NET_ADHOC_DISCONNECTED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_THREAD_ABORTED">SCE_ERROR_NET_ADHOC_THREAD_ABORTED</a><br>then the actual size of the socket buffer that is stored is returned in <i>len</i>. When this function is used to send data successively, move the send-data position in <i>len</i>-sized increments before calling it again. <br><i>flag</i> can be the following type:<br><br></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<i><b>flag</b></i>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>Description</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_NONBLOCK&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Non-blocking mode&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>

<!-- Example -->
<div style="margin-left:10px;"><b>Example</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>void *data;
int ret, id, datalen, offset, len;

// Prepare datalen bytes of data
...

offset = 0;
while (offset &lt; datalen) {
	// Other tasks      

	len = datalen - offset;
	// Send in non-blocking mode (poll)
	ret = sceNetAdhocPtpSend(id, data + offset, &amp;len, 0, SCE_NET_ADHOC_F_NONBLOCK);
	if (ret &lt; 0 &amp;&amp; ret != <a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_WOULD_BLOCK">SCE_ERROR_NET_ADHOC_WOULD_BLOCK</a>) {
		// Error handling
	}
	offset += len;
}

</font></pre></div>

<!-- See Also -->
<div style="margin-left:10px;"><b>See Also</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-English.htm#sceNetAdhocPtpRecv">sceNetAdhocPtpRecv</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocPtpRecv"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocPtpRecv<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[Function]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>Receive data<br></div><br>

<!-- Syntax -->
<div style="margin-left:10px;"><b>Syntax</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocPtpRecv</b>(
	int <i>id</i>,
	void *<i>buf</i>,
	int *<i>len</i>,
	<a href="../kernel/Types-Reference-English.htm#SceUInt32">SceUInt32</a> <i>timeout</i>,
	int <i>flag</i>
);

</font></pre></div>

<!-- Calling Conditions -->
<div style="margin-left:10px;"><b>Calling Conditions</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">Cannot be called from an interrupt handler.<br>Can be called from a thread (must be called in interrupt-enabled state).<br>Multithread safe.<br><br></div>

<!-- Arguments -->
<div style="margin-left:10px;"><b>Arguments</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>id</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Socket ID&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>buf</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Pointer to receive data buffer&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>len</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Receive buffer size (IN) receive data size (OUT)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>timeout</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Timeout (&micro;sec)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>flag</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Option&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- Return Value -->
<div style="margin-left:10px;"><b>Return Value</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">Returns 0 on normal completion.<br>If an error occurs, one of the following error codes is returned.<br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_ARG">SCE_ERROR_NET_ADHOC_INVALID_ARG</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_NOT_INITIALIZED">SCE_ERROR_NET_ADHOC_NOT_INITIALIZED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID">SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_DISCONNECTED">SCE_ERROR_NET_ADHOC_DISCONNECTED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_SOCKET_DELETED">SCE_ERROR_NET_ADHOC_SOCKET_DELETED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_SOCKET_ALERTED">SCE_ERROR_NET_ADHOC_SOCKET_ALERTED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_WOULD_BLOCK">SCE_ERROR_NET_ADHOC_WOULD_BLOCK</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_TIMEOUT">SCE_ERROR_NET_ADHOC_TIMEOUT</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_INTERNAL">SCE_ERROR_NET_INTERNAL</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_THREAD_ABORTED">SCE_ERROR_NET_ADHOC_THREAD_ABORTED</a><br><br></div>

<!-- Description -->
<div style="margin-left:10px;"><b>Description</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">This function receives data. If there is no data to be received, the function call blocks until data is received or until the interval specified by the timeout elapses. If 0 is specified for the timeout, processing waits indefinitely. When a timeout occurs, <a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_TIMEOUT">SCE_ERROR_NET_ADHOC_TIMEOUT</a> is returned.<br>If SCE_NET_ADHOC_F_NONBLOCK is specified as a receive option, and if there is no data to be received, <a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_WOULD_BLOCK">SCE_ERROR_NET_ADHOC_WOULD_BLOCK</a> is returned immediately regardless of the timeout specification. <br>When the function completes normally, the actual size of the contents of the receive buffer is returned in <i>len</i>.<br><i>flag </i>can be the following type: <br><br></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<i><b>flag</b></i>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>Description</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_NONBLOCK&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Non-blocking mode&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>

<!-- Example -->
<div style="margin-left:10px;"><b>Example</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>char buf[1024];
int ret, id, len;
struct <a href="../network/PSPNET_Core-Reference-English.htm#SceNetEtherAddr">SceNetEtherAddr</a> addr;
<a href="../kernel/Types-Reference-English.htm#SceUShort16">SceUShort16</a> port;

// receive 1024 bytes
needlen = 1024;
if (offset &lt; needlen) {
	// Other tasks

	len = needlen - offset; 
	// Receive in non-blocking mode (poll)
	ret = sceNetAdhocPtpRecv(id, buf + offset, &amp;len, 0, SCE_NET_ADHOC_F_NONBLOCK);
	if (ret &lt; 0) {
		// Error handling
		break;
	}
	offset += len;
}

</font></pre></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocPtpFlush"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocPtpFlush<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[Function]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>Flush send buffer<br></div><br>

<!-- Syntax -->
<div style="margin-left:10px;"><b>Syntax</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocPtpFlush</b>(
	int <i>id</i>,
	<a href="../kernel/Types-Reference-English.htm#SceUInt32">SceUInt32</a> <i>timeout</i>,
	int <i>flag</i>
);

</font></pre></div>

<!-- Calling Conditions -->
<div style="margin-left:10px;"><b>Calling Conditions</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">Cannot be called from an interrupt handler.<br>Can be called from a thread (must be called in interrupt-enabled state).<br>Multithread safe.<br><br></div>

<!-- Arguments -->
<div style="margin-left:10px;"><b>Arguments</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>id</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Socket ID&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>timeout</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Timeout (&micro;sec)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>flag</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Option&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- Return Value -->
<div style="margin-left:10px;"><b>Return Value</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">Returns 0 on normal completion.<br>If an error occurs, one of the following error codes is returned.<br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_ARG">SCE_ERROR_NET_ADHOC_INVALID_ARG</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_NOT_INITIALIZED">SCE_ERROR_NET_ADHOC_NOT_INITIALIZED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID">SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_NOT_CONNECTED">SCE_ERROR_NET_ADHOC_NOT_CONNECTED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_SOCKET_DELETED">SCE_ERROR_NET_ADHOC_SOCKET_DELETED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_DISCONNECTED">SCE_ERROR_NET_ADHOC_DISCONNECTED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_SOCKET_ALERTED">SCE_ERROR_NET_ADHOC_SOCKET_ALERTED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_WOULD_BLOCK">SCE_ERROR_NET_ADHOC_WOULD_BLOCK</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_TIMEOUT">SCE_ERROR_NET_ADHOC_TIMEOUT</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_INTERNAL">SCE_ERROR_NET_INTERNAL</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_THREAD_ABORTED">SCE_ERROR_NET_ADHOC_THREAD_ABORTED</a><br><br></div>

<!-- Description -->
<div style="margin-left:10px;"><b>Description</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">This function waits for data in the send buffer to be sent. If the data in the send buffer has not been completely sent, this function blocks until the transmission has completed or until the interval specified by the timeout elapses. If 0 is specified for the timeout, the function will wait indefinitely. When a timeout occurs, <a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_TIMEOUT">SCE_ERROR_NET_ADHOC_TIMEOUT</a> is returned.<br>If SCE_NET_ADHOC_F_NONBLOCK is specified as an option, and if the data in the send buffer has not been completely sent, <a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_WOULD_BLOCK">SCE_ERROR_NET_ADHOC_WOULD_BLOCK</a> is returned immediately regardless of the timeout specification. <br><i>flag</i> can be the following type:<br><br></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<i><b>flag</b></i>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>Description</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_NONBLOCK&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Non-blocking mode&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>

<!-- Example -->
<div style="margin-left:10px;"><b>Example</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>int ret, id;

while (1) {
	// Other tasks

	// Call in non-blocking mode (poll)
	ret = sceNetAdhocPtpFlush(id, 0, SCE_NET_ADHOC_F_NONBLOCK);
	if (ret == <a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_WOULD_BLOCK">SCE_ERROR_NET_ADHOC_WOULD_BLOCK</a>) {
		// Sending
		continue;
	}
	else if (ret &lt; 0) {
		// Error handling
		break;
	}
	else {
		// Send complete
		break;
	}        
}
</font></pre></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocPtpClose"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocPtpClose<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[Function]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>Break connection and delete PTP socket<br></div><br>

<!-- Syntax -->
<div style="margin-left:10px;"><b>Syntax</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocPtpClose</b>(
	int <i>id</i>,
	int <i>flag</i>
);

</font></pre></div>

<!-- Calling Conditions -->
<div style="margin-left:10px;"><b>Calling Conditions</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">Cannot be called from an interrupt handler.<br>Can be called from a thread (must be called in interrupt-enabled state).<br>Multithread safe.<br><br></div>

<!-- Arguments -->
<div style="margin-left:10px;"><b>Arguments</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>id</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Socket ID&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>flag</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Not used (set to 0)&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- Return Value -->
<div style="margin-left:10px;"><b>Return Value</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">Returns 0 on normal completion.<br>If an error occurs, one of the following error codes is returned.<br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_ARG">SCE_ERROR_NET_ADHOC_INVALID_ARG</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_NOT_INITIALIZED">SCE_ERROR_NET_ADHOC_NOT_INITIALIZED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID">SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID</a><br><br></div>

<!-- Description -->
<div style="margin-left:10px;"><b>Description</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">This function breaks the PTP connection and deletes the socket. Any data present in either the send buffer or receive buffer is discarded.<br>If the relevant socket is in a wait state, the function will return an <a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_SOCKET_DELETED">SCE_ERROR_NET_ADHOC_SOCKET_DELETED</a> error.<br><br></div>

<!-- Example -->
<div style="margin-left:10px;"><b>Example</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>int ret, id;

ret = sceNetAdhocPtpClose(id, 0);
if (ret &lt; 0) {
	// Error handling
}

</font></pre></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocGetPtpStat"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocGetPtpStat<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[Function]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>Get PTP control blocks<br></div><br>

<!-- Syntax -->
<div style="margin-left:10px;"><b>Syntax</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocGetPtpStat</b>(
	int *<i>buflen</i>,
	void *<i>buf</i>
);

</font></pre></div>

<!-- Calling Conditions -->
<div style="margin-left:10px;"><b>Calling Conditions</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">Cannot be called from an interrupt handler.<br>Can be called from a thread (must be called in interrupt-enabled state).<br>Multithread safe.<br><br></div>

<!-- Arguments -->
<div style="margin-left:10px;"><b>Arguments</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>buflen</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Buffer size of <i>buf</i> (IN), list size (OUT)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>buf</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Pointer to area for storing the list of PTP control block structures.&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- Return Value -->
<div style="margin-left:10px;"><b>Return Value</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">Returns 0 on normal completion.<br>If an error occurs, one of the following error codes is returned.<br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_ARG">SCE_ERROR_NET_ADHOC_INVALID_ARG</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_NOT_INITIALIZED">SCE_ERROR_NET_ADHOC_NOT_INITIALIZED</a><br><br></div>

<!-- Description -->
<div style="margin-left:10px;"><b>Description</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">This function gets a list of PTP control block structures.<br><i>buflen </i>bytes in the area specified by <i>buf</i> must be allocated.<br><br>This function takes two kinds of action, depending on the value of <i>buf</i>.<br></div>
<div style="margin-left:50px;"><ol>
<li VALUE=1> If <i>buf </i>is NULL, the function returns in <i>buflen</i> the size of the buffer needed to store the list of structures.</li>
<li VALUE=2> If <i>buf</i> contains an address, a list of <a href="../network/PSPNET_Adhoc-Reference-English.htm#SceNetAdhocPtpStat">SceNetAdhocPtpStat</a> PTP control block structures is created up to the maximum buffer size specified in <i>buflen</i>, in the area specified by <i>buf</i>. The list has <i>buf</i> as its starting location, is linked using the next member, and is terminated by NULL.</li>
</ol></div>
<div style="margin-left:50px;"><br></div>

<!-- Example -->
<div style="margin-left:10px;"><b>Example</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>int ret, buflen;
struct <a href="../network/PSPNET_Adhoc-Reference-English.htm#SceNetAdhocPtpStat">SceNetAdhocPtpStat</a> *buf, *ptr;

ret = sceNetAdhocGetPtpStat(&amp;buflen, NULL);
if (ret &lt; 0) {
	// Error handling
	return;
}
else if (buflen == 0) {
	// No data
	return;
}

buf = malloc(buflen);
if (buf == NULL) {
	// Could not allocate memory
	return;
}

ret = sceNetAdhocGetPtpStat(&amp;buflen, buf);
if (ret &lt; 0) {
	// Error handling
}
else if (buflen == 0) {
	// No data
}        
else {
	for (ptr = buf; ptr != NULL; ptr = ptr-&gt;next) {
		// Process acquired control block
		...
	}
}

free(buf);

</font></pre></div>

<!-- See Also -->
<div style="margin-left:10px;"><b>See Also</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-English.htm#SceNetAdhocPtpStat">SceNetAdhocPtpStat</a><br></div>

<!-- sce_hd2 -->
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocPollSocket"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocPollSocket<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[Function]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>Synchronous I/O over multiple sockets<br></div><br>

<!-- Syntax -->
<div style="margin-left:10px;"><b>Syntax</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocPollSocket</b>(
	struct <a href="../network/PSPNET_Adhoc-Reference-English.htm#SceNetAdhocPollSd">SceNetAdhocPollSd</a> *<i>sds</i>,
	int <i>nsds</i>,
	<a href="../kernel/Types-Reference-English.htm#SceUInt32">SceUInt32</a> <i>timeout</i>,
	int <i>flags</i>
);

</font></pre></div>

<!-- Calling Conditions -->
<div style="margin-left:10px;"><b>Calling Conditions</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">Cannot be called from an interrupt handler.<br>Can be called from a thread (must be called in interrupt-enabled state).<br>Multithread safe.<br><br></div>

<!-- Arguments -->
<div style="margin-left:10px;"><b>Arguments</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>sds</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Pointer to poll socket descriptor array&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>nsds</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;<i>sds</i> array count&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>timeout</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Timeout (&micro;sec)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>flags</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Option&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- Return Value -->
<div style="margin-left:10px;"><b>Return Value</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">When this function completes normally it returns a nonnegative value indicating the number of socket IDs which generated the target event.<br>If an error occurs, one of the following error codes is returned.<br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_ARG">SCE_ERROR_NET_ADHOC_INVALID_ARG</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_NOT_INITIALIZED">SCE_ERROR_NET_ADHOC_NOT_INITIALIZED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_NO_SPACE">SCE_ERROR_NET_NO_SPACE</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID">SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_EXCEPTION_EVENT">SCE_ERROR_NET_ADHOC_EXCEPTION_EVENT</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_TIMEOUT">SCE_ERROR_NET_ADHOC_TIMEOUT</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_INTERNAL">SCE_ERROR_NET_INTERNAL</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_THREAD_ABORTED">SCE_ERROR_NET_ADHOC_THREAD_ABORTED</a><br><br></div>

<!-- Description -->
<div style="margin-left:10px;"><b>Description</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">This function performs synchronous I/O across multiple PDP sockets. The socket ID to be synchronized and the target events are specified through the array of poll socket descriptors. The function blocks until at least one event is generated. If SCE_NET_ADHOC_F_NONBLOCK is set as an option, the function returns 0 without waiting for an event to be generated. The generated events are stored in the <i>revents</i> member of the poll socket descriptor.<br><br><i>flags</i> can be the following type:<br><br></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>flags</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>Description</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_NONBLOCK&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Non-blocking mode&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>

<!-- Example -->
<div style="margin-left:10px;"><b>Example</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>int ret, id0, id1, nsds;
struct <a href="../network/PSPNET_Adhoc-Reference-English.htm#SceNetAdhocPollSd">SceNetAdhocPollSd</a> sds[2];



// Wait for a receive event on sockets id0 and id1
sd[0].id = id0;
sd[0].events |= SCE_NET_ADHOC_EV_RECV;
sd[1].id = id1;
sd[1].events |= SCE_NET_ADHOC_EV_RECV;

nsds = 2;

while (1) {
	ret = sceNetAdhocPollSocket(sds, nsds, 0, 0);
	if (ret &lt; 0) {
		// Error handling
		break;
	}

	for (i = 0; i &lt; nsds; i++) {
	if (sds[i].revents &amp; SCE_NET_ADHOC_EV_RECV) {
			// Perform receive processing for sds[i].id
		}                  
	}
}

</font></pre></div>

<!-- Notes -->
<div style="margin-left:10px;"><b>Notes</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">Even if a synchronous I/O call is executed immediately after the events returned by the array of poll socket descriptors have been generated, processing is not necessarily handled without blocking. To call synchronous I/O without blocking, always specify non-blocking mode.<br>If a target socket is in alert state or has been deleted, the function returns <a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_EXCEPTION_EVENT">SCE_ERROR_NET_ADHOC_EXCEPTION_EVENT</a>. To find out if any socket is in alert state or has been deleted, check <i>revents</i> for the SCE_NET_ADHOC_EV_ALERT or SCE_NET_ADHOC_EV_DELETE flag.<br><br></div>

<!-- See Also -->
<div style="margin-left:10px;"><b>See Also</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-English.htm#SceNetAdhocPollSd">SceNetAdhocPollSd</a><br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocSetSocketAlert"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocSetSocketAlert<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[Function]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>Set alert state<br></div><br>

<!-- Syntax -->
<div style="margin-left:10px;"><b>Syntax</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocSetSocketAlert</b>(
	int <i>id</i>,
	int <i>flag</i>
);

</font></pre></div>

<!-- Calling Conditions -->
<div style="margin-left:10px;"><b>Calling Conditions</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">Cannot be called from an interrupt handler.<br>Can be called from a thread (must be called in interrupt-enabled state).<br>Multithread safe.<br><br></div>

<!-- Arguments -->
<div style="margin-left:10px;"><b>Arguments</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>id</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Socket ID&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>flag</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Alert setting option&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- Return Value -->
<div style="margin-left:10px;"><b>Return Value</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">Returns 0 on normal completion.<br>If an error occurs, one of the following error codes is returned.<br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_NOT_INITIALIZED">SCE_ERROR_NET_ADHOC_NOT_INITIALIZED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID">SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID</a><br><br></div>

<!-- Description -->
<div style="margin-left:10px;"><b>Description</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">This function sets the target socket to an alert state. The desired type of call can be set using the alert-setting option. An error (<a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_SOCKET_ALERTED">SCE_ERROR_NET_ADHOC_SOCKET_ALERTED</a>) is returned until the alert state has been cleared for the specified call. Blocking is removed on blocked calls.<br><br><i>flag</i> can be one of the following types:<br><br></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<i><b>flag</b></i>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>Description</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_ALERTSEND&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Send&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_ALERTRECV&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Receive&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_ALERTCONNECT&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Connection established (active open)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_ALERTACCEPT&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Connection established (passive open)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_ALERTFLUSH&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Send complete&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_ALERTPOLL&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Polling&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_ALERTALL&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;All&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>

<!-- Example -->
<div style="margin-left:10px;"><b>Example</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>int ret, id;

// Set all alert flags on the socket ID 
ret = sceNetAdhocSetSocketAlert(id, SCE_NET_ADHOC_F_ALERTALL);
if (ret &lt; 0) {
	// Error handling
}

</font></pre></div>

<!-- See Also -->
<div style="margin-left:10px;"><b>See Also</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-English.htm#sceNetAdhocGetSocketAlert">sceNetAdhocGetSocketAlert</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocGetSocketAlert"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocGetSocketAlert<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[Function]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>Get alert state<br></div><br>

<!-- Syntax -->
<div style="margin-left:10px;"><b>Syntax</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocGetSocketAlert</b>(
	int <i>id</i>,
	int *<i>flag</i>
);

</font></pre></div>

<!-- Calling Conditions -->
<div style="margin-left:10px;"><b>Calling Conditions</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">Cannot be called from an interrupt handler.<br>Can be called from a thread (must be called in interrupt-enabled state).<br>Multithread safe.<br><br></div>

<!-- Arguments -->
<div style="margin-left:10px;"><b>Arguments</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>id</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Socket ID&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>flag</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Alert setting option&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- Return Value -->
<div style="margin-left:10px;"><b>Return Value</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">Returns 0 on normal completion.<br>If an error occurs, one of the following error codes is returned.<br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_ARG">SCE_ERROR_NET_ADHOC_INVALID_ARG</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_NOT_INITIALIZED">SCE_ERROR_NET_ADHOC_NOT_INITIALIZED</a><br><a href="../network/PSPNET_Error-Reference-English.htm#SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID">SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID</a><br><br></div>

<!-- Description -->
<div style="margin-left:10px;"><b>Description</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">This function gets the specified alert state for a socket.<br><br><i>flag</i> can be one of the following types:<br><br></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<i><b>flag</b></i>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>Explanation</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_ALERTSEND&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Send&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_ALERTRECV&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Receive&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_ALERTCONNECT&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Connection established (active open)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_ALERTACCEPT&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Connection established (passive open)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_ALERTFLUSH&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Send complete&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_ALERTPOLL&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Polling&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>

<!-- Example -->
<div style="margin-left:10px;"><b>Example</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>int ret, id, flag;

// Store alert flag for socket id in flag
ret = sceNetAdhocGetSocketAlert(id, &amp;flag);
if (ret &lt; 0) {
	// Error handling
}

</font></pre></div>

<!-- See Also -->
<div style="margin-left:10px;"><b>See Also</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-English.htm#sceNetAdhocSetSocketAlert">sceNetAdhocSetSocketAlert</a>()<br><br><br></div>
<p><p><hr>
<div ALIGN="right">
    &copy;2009 Sony Computer Entertainment Inc.  All Rights Reserved.<br>
    SCE CONFIDENTIAL
</div>
</body>
</html>
