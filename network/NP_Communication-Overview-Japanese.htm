<html lang="jp">
<head>
<title>NP_Communication-Overview</title>
<meta http-equiv="Content-Type" content= text/html; charset=Shift_JIS>
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta http-equiv="Content-Style-Type" content="Text/css>
<meta name="Author"Content=" Sony Computer Entertainment Inc.">
</head>
<body bgcolor="#ffffff" text="#000000" >
<a name=TOP></a>
<table WIDTH="100%">
<tr><td>
<h3>PSP&reg; Programmer Tool Runtime Library Release 6.6.0</h3>
</td>
</tr>
</table>
<hr noshade size=6>
<center><h1>
PlayStation&reg;Network コミュニケーションサービスの概要
</h1></center>
</a>
<!-- sce_hd1 -->

<!-- sce_hd3 -->
<a name="Heading3_1">
<h2>
 1 <!-- hp --><b>コミュニケーションサービスの機能概要</b>
<hr noshade>
</h2>

<div style="margin-left:50px;">PlayStation&reg;Network（通称NP）はコミュニケーションサービスとして、ネットワーク対戦ゲームをサポートする次のような機能を提供します。<br></div>
<div style="margin-left:40px;"><ul>
<li> フレンドリスト、ブロックリスト
<li> ネットワーク対戦を行うためのマッチング機能、P2P通信機能
</ul></div>

<!-- sce_hd4 -->
<a name="Heading4_1_1">
<h3>
<a href="#Heading3_1"> 1. </a>1 
<!-- hp1 --><b>フレンドリスト、ブロックリスト</b><br>
</a>
</h3>
<div style="margin-left:50px;">PlayStation&reg;Networkのユーザは、他のユーザを50人まで、自分のフレンドとして登録することができます。登録には双方向の承認が必要となります。<br>またフレンド登録依頼をブロックしたい他のユーザを50人まで、ブロックリストに登録することができます。<br></div>

<!-- sce_title -->
<a Name ="HeadingT_1_1_1">
<div style="margin-left:40px;"><h4><b>注意</b><br><br></h4></div></a>

<div style="margin-left:67px;">フレンドリスト、ブロックリストは同一アカウントであればPlayStation&reg;3と共通となります。<br></div>

<!-- sce_hd4 -->
<a name="Heading4_1_2">
<h3>
<a href="#Heading3_1"> 1. </a>2 
<!-- hp1 --><b>プロファイル</b><br>
</a>
</h3>
<div style="margin-left:50px;">PlayStation&reg;Networkのユーザは、それぞれ個人のプロファイルを持ちます。プロファイルにはアバター、自己紹介、よく使う言語などの情報があります。<br></div>

<!-- sce_hd4 -->
<a name="Heading4_1_3">
<h3>
<a href="#Heading3_1"> 1. </a>3 
<!-- hp1 --><b>マッチング2</b><br>
</a>
</h3>
<div style="margin-left:50px;">マッチング2は、オンライン対戦を実装するアプリケーションを支援する機能です。<br>ユーザはルームと呼ばれるセッションを作成したり、他のユーザが作成したセッションを検索して参加します。ひとつのルームには最大64人のユーザが参加することができます。セッションやセッションに参加しているユーザには様々な付随する情報があり、アプリケーションはそれらの情報を参照・操作することができます。<br>セッション内ではユーザのセッションへの入室、退室などの情報が通知されます。また、セッションに参加するユーザ間でメッセージを送受信することができます。<br></div>

<!-- sce_hd4 -->
<a name="Heading4_1_4">
<h3>
<a href="#Heading3_1"> 1. </a>4 
<!-- hp1 --><b>シグナリング</b><br>
</a>
</h3>
<div style="margin-left:50px;">シグナリングは、ネットワーク対戦ゲームにおいてP2P通信を行うための機能です。<br>NATトラバーサル機能や相手のIPアドレスやポート番号などの接続情報を取得する機能を提供します。通信プロトコルとしては、UDPを拡張したUDPP2P、またTCPでP2P通信を実現するためのTCP over UDPP2Pを提供しています。これらのプロトコルは、暗号化、署名検証などのセキュアな通信にも対応しています。<br>シグナリングはマッチング2の機能の一部として提供されます。<br></div>

<!-- sce_hd4 -->
<a name="Heading4_1_5">
<h3>
<a href="#Heading3_1"> 1. </a>5 
<!-- hp1 --><b>タイトルスモールストレージ</b><br>
</a>
</h3>
<div style="margin-left:50px;">アプリケーション独自のデータをscpでサーバーに設置し、参照することのできるサーバーストレージサービスです。<br><br></div>

<!-- sce_hd3 -->
<a name="Heading3_2">
<h2>
 2 <!-- hp --><b>NPコミュニケーションID</b>
<hr noshade>
</h2>

<div style="margin-left:50px;">NPコミュニケーションIDは、PlayStation&reg;Networkのコミュニケーションサービスにおいてゲームを区別するための識別子です。開発開始前にNPコミュニケーションIDを取得していただき、プログラム中で各ライブラリのAPIを呼び出す際に<a href="../network/NP_Common-Reference-Japanese.htm#SceNpCommunicationId">SceNpCommunicationId</a>構造体に格納して使用します。<br>基本的には1つのタイトルで1つのNPコミュニケーションIDを使用しますが、以下のような使い方もできます。<br></div>
<div style="margin-left:40px;"><ul>
<li> 1つのタイトルで複数のNPコミュニケーションIDを使い分ける。たとえば販売地域ごとにNPコミュニケーションIDを分けて販売地域ごとにマッチングを行う。
</ul></div>

<!-- sce_title -->
<a Name ="HeadingT_2_2">
<div style="margin-left:40px;"><h4><b>フォーマット</b><br><br></h4></div></a>

<div style="margin-left:67px;">NPコミュニケーションIDのフォーマットは以下のとおりです。<br></div>
<div style="margin-left:80px;">（アルファベット4文字）＋（数字5文字）＋"_"（アンダースコア）+（数字2文字）<br>例）"ABCD12345_00"<br><br></div>

<!-- sce_hd3 -->
<a name="Heading3_3">
<h2>
 3 <!-- hp --><b>コミュニケーションサービスに関連するライブラリ</b>
<hr noshade>
</h2>

<div style="margin-left:50px;">アプリケーションからコミュニケーションサービスを利用するために、現在提供されているライブラリは以下のとおりです。<br>機能の詳細については、各ライブラリの概要およびリファレンスドキュメントを参照してください。<br></div>

<!-- sce_hd4 -->
<a name="Heading4_3_1">
<h3>
<a href="#Heading3_3"> 3. </a>1 
<!-- hp1 --><b>NP Rosterライブラリ</b><br>
</a>
</h3>
<div style="margin-left:50px;">NP Rosterライブラリは、フレンドリスト、ブロックリストに関する機能を提供します。<br></div>
<div style="margin-left:40px;"><ul>
<li> フレンドリストの取得
<li> フレンド登録依頼の送信
<li> フレンド登録依頼の拒否、フレンド削除
<li> フレンド登録依頼の承認
<li> ブロックリストの取得
<li> ブロックリストへの追加
<li> ブロックリストからの削除
</ul></div>

<!-- sce_hd4 -->
<a name="Heading4_3_2">
<h3>
<a href="#Heading3_3"> 3. </a>2 
<!-- hp1 --><b>NPマッチング2ライブラリ</b><br>
</a>
</h3>
<div style="margin-left:50px;">NPマッチング2ユーティリティは、マッチングに関する機能を提供します。<br></div>
<div style="margin-left:40px;"><ul>
<li> ルームの作成
<li> ルームの検索
<li> ルームの動的な作成
<li> ルーム内でのテキストチャット<br>バルガリティフィルタ（不適切な言葉を隠蔽するフィルタ）を適用可能
<li> ルーム内のユーザ間でのデータの送受信
<li> ルームの入室制限
<li> チーム対戦のサポート
<li> オンラインIDによるユーザ検索
<li> ルームメンバ間のP2Pコネクション確立
<li> ルームメンバのIPアドレスとポート番号情報の取得
</ul></div>

<!-- sce_hd4 -->
<a name="Heading4_3_3">
<h3>
<a href="#Heading3_3"> 3. </a>3 
<!-- hp1 --><b>NPルックアップライブラリ</b><br>
</a>
</h3>
<div style="margin-left:50px;">NPルックアップライブラリは、プロファイルおよびタイトルスモールストレージに関する機能を提供します。<br></div>
<div style="margin-left:40px;"><ul>
<li> 指定したオンラインIDのNP IDの取得
<li> 指定したユーザのプロファイル情報の取得
<li> タイトルスモールストレージの参照
</ul></div>
<div style="margin-left:67px;"><br></div>

<!-- sce_hd3 -->
<a name="Heading3_4">
<h2>
 4 <!-- hp --><b>開発工程の概略</b>
<hr noshade>
</h2>

<div style="margin-left:50px;">PlayStation&reg;Networkのコミュニケーションサービスを利用するアプリケーションの開発について、以下の順に開発工程を追って説明します。<br></div>
</ul>
<div style="margin-left:55px;"><ol>
<li VALUE=1> NPコミュニケーションIDの取得とサーバー設定の申請</li>
<li VALUE=2> アプリケーション開発とPlayStation&reg;Network Server Management Toolsの利用</li>
<li VALUE=3> PlayStation&reg;Network QAサーバー登録</li>
<li VALUE=4> 本番用サーバーの運用管理</li>
</ol></div>
<div style="margin-left:50px;">各段階についてユースケースを示してありますので参考にしてください。<br></div>

<!-- sce_hd4 -->
<a name="Heading4_4_1">
<h3>
<a href="#Heading3_4"> 4. </a>1 
<!-- hp1 --><b>NPコミュニケーションIDの取得とサーバー設定の申請</b><br>
</a>
</h3>

<!-- sce_title -->
<a Name ="HeadingT_4_1_3">
<div style="margin-left:40px;"><h4><b>NPコミュニケーションIDの役割</b><br><br></h4></div></a>

<div style="margin-left:67px;">PlayStation&reg;Networkのコミュニケーションサービスでは、タイトルの識別子としてNPコミュニケーションIDを使用します。NPコミュニケーションIDを使用するライブラリは以下のとおりです。<br></div>
</ol>
<div style="margin-left:70px;"><ul>
<li> NPマッチング2ライブラリ
<li> NPルックアップライブラリ
</ul></div>
<div style="margin-left:67px;">これらのライブラリでは、NPコミュニケーションIDにより同一サーバーへのアクセスを保証しています。したがって、これらのライブラリを通じてサービスを利用する場合は、基本的にタイトルごとに固有のNPコミュニケーションIDを取得し、使用していただくことになります。<br></div>

<!-- sce_title -->
<a Name ="HeadingT_4_1_4">
<div style="margin-left:40px;"><h4><b>固有でないNPコミュニケーションIDを使用するケース</b><br><br></h4></div></a>

<div style="margin-left:67px;">特別な目的がある場合は、ひとつのタイトルが複数のNPコミュニケーションIDを使用したり、複数のタイトルがひとつのNPコミュニケーションIDを使用したりすることができます。<br></div>

<!-- sce_hd6 -->
<a name="Heading6_4_1_1">
<div style="margin-left:63px;"><h4><b>同一タイトルを複数のリージョンでリリースする場合</b><br><br></h4></a></div>
<div style="margin-left:80px;">ワールドワイドでマッチングを行う場合は、リージョン間で共通のNPコミュニケーションIDを使用してください。逆に、リージョンごとに分けて行いたい場合は、リージョンごとに異なるNPコミュニケーションIDを使用してください。<br></div>

<!-- sce_title -->
<a Name ="HeadingT_4_1_1_5">
<div style="margin-left:40px;"><h4><b>サーバー設定の必要なサービス</b><br><br></h4></div></a>

<div style="margin-left:67px;">PlayStation&reg;Networkのコミュニケーションサービスの中には、タイトルに応じたサーバー設定が必要なものがあります。以下のライブラリを使用する場合はサーバー設定の申請を行ってください。<br></div>
<div style="margin-left:70px;"><ul>
<li> NPマッチング2ライブラリ
<li> NPルックアップライブラリ(タイトルスモールストレージ)
</ul></div>

<!-- sce_title -->
<a Name ="HeadingT_4_1_1_6">
<div style="margin-left:40px;"><h4><b>PlayStation&reg;Networkコミュニケーションサービスのリクエスト</b><br><br></h4></div></a>

<div style="margin-left:67px;">PSP&reg; Developer NetworkウェブサイトのPlayStation&reg;Networkタイトル登録ページで「PlayStation&reg;Networkコミュニケーションサービスのリクエスト」を選択してください。新規申請の場合は、「NPコミュニケーションIDを取得していない」を選択し、必要な情報を記入します。申請に必要な情報は以下のとおりです。<br></div>
</ol>
<div style="margin-left:40px;"><ul>
<li> リクエストタイプ
<li> 御社名
<li> タイトル名
<li> パブリッシャ名
<li> 連絡先のメールアドレス
<li> リリース予定日
<li> タイトルのリージョン
<li> NPコミュニケーションID
<li> 使用するサービス
</ul></div>
<div style="margin-left:70px;"><ul>
<li> マッチング2（ワールド数設定を含む）
<li> タイトルスモールストレージ
</ul></div>
</ul>
<div style="margin-left:67px;">申請はタイトルおよびNPコミュニケーションIDごとに行います。サーバーの設定が完了すると、申請者のPSP&reg; Developer Network登録のメールアドレスに通知されます。これでコミュニケーションサービスを利用したアプリケーション開発に必要な準備は完了です。<br></div>

<!-- sce_hd6 -->
<a name="Heading6_4_1_2">
<div style="margin-left:63px;"><h4><b>複数のタイトルで同一のNPコミュニケーションIDを使用する場合</b><br><br></h4></a></div>
<div style="margin-left:80px;">取得済みのNPコミュニケーションIDを他のタイトルでも使用する場合は、新規申請と同様に新しいタイトルに関する情報を記入し、加えて使用する取得済みのNPコミュニケーションIDを記入してください。追加コメント欄には共有の申請である旨を記入してください。<br></div>

<!-- sce_hd6 -->
<a name="Heading6_4_1_3">
<div style="margin-left:63px;"><h4><b>新規申請後に内容を変更・追加する場合</b><br><br></h4></a></div>
<div style="margin-left:80px;">タイトル名の修正やリージョンの追加、連絡先メールアドレスの追加、使用するサービスおよびサーバー設定などの変更・追加を行う場合は、PSP&reg; Developer NetworkウェブサイトのPlayStation&reg;Networkタイトル登録ページで「PlayStation&reg;Networkコミュニケーションサービスのリクエスト」を選択し、「NPコミュニケーションIDを取得していない」を選択した上で、対象のNPコミュニケーションIDを記入してください。<br></div>

<!-- sce_hd4 -->
<a name="Heading4_4_2">
<h3>
<a href="#Heading3_4"> 4. </a>2 
<!-- hp1 --><b>アプリケーション開発とPlayStation&reg;Network Server Management Toolsの利用</b><br>
</a>
</h3>

<!-- sce_title -->
<a Name ="HeadingT_4_2_7">
<div style="margin-left:40px;"><h4><b>PlayStation&reg;Network Server Management Toolsとは</b><br><br></h4></div></a>

<div style="margin-left:67px;">PlayStation&reg;Network Server Management Tools（SMT）とは、PlayStation&reg;Networkのコミュニケーションサービスを利用するアプリケーション開発を支援するWebベースのツール群です。以下のライブラリに対応したツールがあります。<br></div>
<div style="margin-left:70px;"><ul>
<li> NPマッチング2ユーティリティ
<li> NPルックアップライブラリ(タイトルスモールストレージ)
</ul></div>
<div style="margin-left:67px;">マッチングの設定など、各サービスに関する仕様詳細の設定は、SMTを通じて行います。<br>またアプリケーションの動作をテストするため、サーバーの設定を変更したり登録されたデータを確認したりする機能も提供します。マッチングでのダミールーム作成やルームリストの取得などを行うことができます。<br></div>

<!-- sce_hd6 -->
<a name="Heading6_4_2_1">
<div style="margin-left:63px;"><h4><b>注意</b><br><br></h4></a></div>
<div style="margin-left:80px;">SMTの操作方法の詳細は、「PlayStation&reg;Network SMT Portal ユーザガイド」および各ツールのユーザガイドを参照してください。PSP&reg; Developer NetworkウェブサイトのPlayStation&reg;Networkサーバー管理ページの「PlayStation&reg;Network Server Management Toolsユーザガイド」から、これらのドキュメントを取得・閲覧することができます。<br></div>

<!-- sce_title -->
<a Name ="HeadingT_4_2_1_8">
<div style="margin-left:40px;"><h4><b>PlayStation&reg;Network Server Management Toolsの使用方法</b><br><br></h4></div></a>

<div style="margin-left:67px;">PSP&reg; Developer NetworkウェブサイトのPlayStation&reg;Networkサーバー管理ツールページで「PlayStation&reg;Networkサーバー管理サイトに入る。」を選択すると、別ウィンドウでServer Management Tools Portal Menuが表示されます。このメニューは「NP Communication ID Tools」と「Title ID Tools」に分かれていますが、マッチングやタイトルスモールストレージなどのコミュニケーションサービスでは「NP Communication ID Tools」を利用します。<br></div>

<!-- sce_hd6 -->
<a name="Heading6_4_2_2">
<div style="margin-left:63px;"><h4><b>Select Tool</b><br><br></h4></a></div>
<div style="margin-left:80px;">ツールを選択するメニューです。現在ログイン中のPSP&reg; Developer Networkアカウントで操作が許可されているNP Communication ID、EnvironmentおよびToolが表示されますので、操作対象を指定してください。<br></div>

<!-- sce_hd6 -->
<a name="Heading6_4_2_3">
<div style="margin-left:63px;"><h4><b>Privilege Management</b><br><br></h4></a></div>
<div style="margin-left:80px;">アクセス権限を管理するメニューです。サーバー設定の申請を行った方のPSP&reg; Developer Networkアカウントに対して、申請されたNPコミュニケーションIDおよびサービスに対する管理権限が与えられ、その方が他のユーザ（PSP&reg; Developer Network上の同一グループ内のユーザ）に管理権限やアクセス権限を与えることができます。<br></div>

<!-- sce_hd6 -->
<a name="Heading6_4_2_4">
<div style="margin-left:63px;"><h4><b>注意</b><br><br></h4></a></div>
<div style="margin-left:80px;">PSP&reg; Developer Network上の他のグループ、あるいは他のグループに所属する特定のアカウントに対して権限を付与する場合は、PSP&reg; Developer Networkアカウントの情報とともにテクニカルサポートまでご連絡ください。<br></div>

<!-- sce_hd4 -->
<a name="Heading4_4_3">
<h3>
<a href="#Heading3_4"> 4. </a>3 
<!-- hp1 --><b>PlayStation&reg;Network QAサーバー登録</b><br>
</a>
</h3>
<div style="margin-left:50px;">タイトルQAを行う際には、SMTを通じて設定されたコミュニケーションサービスのサーバー設定をQA用サーバーに反映させ、同一設定にしたうえでQAを行います。そのため、マスター提出の1週間前までに、サーバー設定を確定してQAサーバー登録申請を行っていただく必要があります。<br></div>

<!-- sce_title -->
<a Name ="HeadingT_4_3_9">
<div style="margin-left:40px;"><h4><b>QAサーバー登録の申請方法</b><br><br></h4></div></a>

<div style="margin-left:67px;">PSP&reg; Developer NetworkウェブサイトのPlayStation&reg;Networkタイトル登録ページで「PlayStation&reg;Network QAサーバー登録」を選択してください。申請に必要な情報は以下のとおりです。<br></div>
</ol>
<div style="margin-left:40px;"><ul>
<li> QAマスター提出日
<li> タイトルID
<li> 御社名
<li> タイトル名
<li> パブリッシャ名
<li> 連絡先のメールアドレス
<li> リリース予定日
<li> タイトルのリージョン
<li> NPコミュニケーションID
<li> 使用するサービス
</ul></div>
<div style="margin-left:70px;"><ul>
<li> マッチング2
</ul></div>
</ul>
<div style="margin-left:67px;">QAサーバー登録申請を行うと、SMTによるサーバー設定変更が一部ロックされます。必ずサーバー設定が確定した後にQAサーバー登録申請を行ってください。<br></div>

<!-- sce_hd6 -->
<a name="Heading6_4_3_1">
<div style="margin-left:63px;"><h4><b>注意</b><br><br></h4></a></div>
<div style="margin-left:80px;">QA用サーバーの登録申請後にサーバー設定を変更するには、ロック解除の申請を行ってください。「PlayStation&reg;Networkコミュニケーションサービスのリクエスト」で、追加コメント欄にロック解除の旨を記入して申請を行ってください。<br></div>

<!-- sce_title -->
<a Name ="HeadingT_4_3_1_10">
<div style="margin-left:40px;"><h4><b>QAサーバー登録申請に関する注意</b><br><br></h4></div></a>


<!-- sce_hd6 -->
<a name="Heading6_4_3_2">
<div style="margin-left:63px;"><h4><b>同一タイトルを複数のリージョンでリリースする場合</b><br><br></h4></a></div>
<div style="margin-left:80px;">各リージョンで共通のNPコミュニケーションIDを使用するのであれば、QAサーバー登録申請は一回だけ行ってください。各リージョンのマスター提出ごとにQAサーバー登録申請をしていただく必要はありません。<br></div>

<!-- sce_hd6 -->
<a name="Heading6_4_3_3">
<div style="margin-left:63px;"><h4><b>マスターを提出しなおす場合</b><br><br></h4></a></div>
<div style="margin-left:80px;">前回のマスター提出後にSMTを用いてサーバー設定を変更した場合は、必ずもう一度QAサーバー登録申請を行ってください。このとき、変更した箇所を具体的に記述してください。<br>サーバー設定を変更していない場合は、再度QAサーバー登録申請を行う必要はありません。<br></div>

<!-- sce_hd6 -->
<a name="Heading6_4_3_4">
<div style="margin-left:63px;"><h4><b>タイトルスモールストレージを使用する場合</b><br><br></h4></a></div>
<div style="margin-left:80px;">開発用/QA用TSSSアップロードサーバーにアクセスして必要なファイルをQA用ディレクトリに配置してから、QA用サーバーの登録申請を行ってください。タイトルのリリース日までに置く必要があるファイルは、このタイミングで公開用TSSSアップロードサーバーにもアクセスして必要なファイルを配置してください。もしこのタイミングでの本番用サーバーへのファイル配置が難しい場合は、QA用サーバーの登録申請の追加コメント欄にファイルが置いてないことによって本番用サーバーで起こる症状を具体的に記述してください。その記述を元に本番用サーバーへの反映作業の確認内容を調整します。<br></div>

<!-- sce_hd4 -->
<a name="Heading4_4_4">
<h3>
<a href="#Heading3_4"> 4. </a>4 
<!-- hp1 --><b>本番用サーバーの運用管理</b><br>
</a>
</h3>
<div style="margin-left:50px;">マスターのQAが完了した段階で、サーバー設定を本番用サーバー（エンドユーザーが使用するサーバー）に反映する作業をSCEが行います。<br>このほか、本番用サーバーの運用管理は基本的にSCE側で行います。ご要望がございましたら、テクニカルサポートを通じてご連絡ください。<br></div>

<!-- sce_title -->
<a Name ="HeadingT_4_4_11">
<div style="margin-left:40px;"><h4><b>タイトルスモールストレージを使用する場合</b><br><br></h4></div></a>

<div style="margin-left:67px;">タイトルスモールストレージについては、本番用サーバーへの反映はSCEでは行いません。必要なタイミングで公開用TSSSアップロードサーバーにアクセスして、必要なファイルをアップロードしてください。<br><br></div>
<p><p><hr>
<div ALIGN="right">
    &copy;2009 Sony Computer Entertainment Inc.  All Rights Reserved.<br>
    SCE CONFIDENTIAL
</div>
</body>
</html>
