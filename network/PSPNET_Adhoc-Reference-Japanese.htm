<html lang="jp">
<head>
<title>PSPNET_Adhoc-Reference</title>
<meta http-equiv="Content-Type" content= text/html; charset=Shift_JIS>
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta http-equiv="Content-Style-Type" content="Text/css>
<meta name="Author"Content=" Sony Computer Entertainment Inc.">
</head>
<body bgcolor="#ffffff" text="#000000" >
<a name=TOP></a>
<table WIDTH="100%">
<tr><td>
<h3>PSP&reg; Programmer Tool Runtime Library Release 6.6.0</h3>
</td>
</tr>
</table>
<hr noshade size=6>
<center><h1>
pspnet_adhoc
</h1></center>
</a>
<!-- sce_hd1 -->
<div style="margin-left:50px;"><br></div>

<!-- sce_hd2 -->
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="SceNetAdhocPollSd"></a>
<table width="100%"><td width="70%"><font size=6>SceNetAdhocPollSd<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[構造体]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>Pollソケットディスクリプタ構造体<br></div><br>

<!-- 構造 -->
<div style="margin-left:10px;"><b>構造</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

struct <b>SceNetAdhocPollSd</b> {
	int <i>id</i>;
	int <i>events</i>;
	int <i>revents</i>;
};

</font></pre></div>

<!-- メンバ -->
<div style="margin-left:10px;"><b>メンバ</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>id</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ソケットID&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>events</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;対象イベント&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>revents</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;発生イベント&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">複数ソケットに対する同期I/O処理を行うために、ソケットIDと対象イベントを指定する構造体です。結果は、<i>revents</i>に返されます。<br><br><i>events</i>および<i>revents</i>の種類は、以下の通りです。<br><br></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>マクロ</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>対象イベント／発生イベント</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_EV_SEND&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;送信可能&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_EV_RECV&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;受信可能&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_EV_CONNECT&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;コネクション設立(アクティブオープン)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_EV_ACCEPT&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;コネクション設立(パッシブオープン)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_EV_FLUSH&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;送信完了&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_EV_INVALID&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;不正なソケットID(発生イベントでのみ使用)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_EV_DELETE&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;対象ソケットは削除された&nbsp;&nbsp;<br>&nbsp;&nbsp;(発生イベントでのみ使用)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_EV_ALERT&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;対象ソケットはアラート状態&nbsp;&nbsp;<br>&nbsp;&nbsp;(発生イベントでのみ使用)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_EV_DISCONNECT&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;コネクション切断&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-Japanese.htm#sceNetAdhocPollSocket">sceNetAdhocPollSocket</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="SceNetAdhocPdpStat"></a>
<table width="100%"><td width="70%"><font size=6>SceNetAdhocPdpStat<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[構造体]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>PDPコントロールブロック構造体<br></div><br>

<!-- 構造 -->
<div style="margin-left:10px;"><b>構造</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

struct <b>SceNetAdhocPdpStat</b> {
	struct <b>SceNetAdhocPdpStat</b> *<i>next</i>;
	int <i>id</i>;
	struct <a href="../network/PSPNET_Core-Reference-Japanese.htm#SceNetEtherAddr">SceNetEtherAddr</a> <i>laddr</i>;
	<a href="../kernel/Types-Reference-Japanese.htm#SceUShort16">SceUShort16</a> <i>lport</i>;
	<a href="../kernel/Types-Reference-Japanese.htm#SceUInt32">SceUInt32</a> <i>rcv_sb_cc</i>;
};

</font></pre></div>

<!-- メンバ -->
<div style="margin-left:10px;"><b>メンバ</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>next</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;リストの次のエントリへのポインタ(NULLで終端)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>id</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ソケットID&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>laddr</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ローカルアドレス&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>lport</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ローカルポート番号&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>rcv_sb_cc</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;受信バッファに入っているデータサイズ&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">PDPコントロールブロックのリストを取得するための構造体です。<br><br></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-Japanese.htm#sceNetAdhocGetPdpStat">sceNetAdhocGetPdpStat</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="SceNetAdhocPtpStat"></a>
<table width="100%"><td width="70%"><font size=6>SceNetAdhocPtpStat<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[構造体]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>PTPコントロールブロック構造体<br></div><br>

<!-- 構造 -->
<div style="margin-left:10px;"><b>構造</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

struct <b>SceNetAdhocPtpStat</b> {
	struct <b>SceNetAdhocPtpStat</b> *<i>next</i>;
	int <i>id</i>;
	struct <a href="../network/PSPNET_Core-Reference-Japanese.htm#SceNetEtherAddr">SceNetEtherAddr</a> <i>laddr</i>;
	struct <a href="../network/PSPNET_Core-Reference-Japanese.htm#SceNetEtherAddr">SceNetEtherAddr</a> <i>paddr</i>;
	<a href="../kernel/Types-Reference-Japanese.htm#SceUShort16">SceUShort16</a> <i>lport</i>;
	<a href="../kernel/Types-Reference-Japanese.htm#SceUShort16">SceUShort16</a> <i>pport</i>;
	<a href="../kernel/Types-Reference-Japanese.htm#SceUInt32">SceUInt32</a> <i>snd_sb_cc</i>;
	<a href="../kernel/Types-Reference-Japanese.htm#SceUInt32">SceUInt32</a> <i>rcv_sb_cc</i>;
	int <i>state</i>;
};

</font></pre></div>

<!-- メンバ -->
<div style="margin-left:10px;"><b>メンバ</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>next</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;リストの次のエントリへのポインタ(NULLで終端)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>id</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ソケットID&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>laddr</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ローカルアドレス&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>paddr</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ピアアドレス&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>lport</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ローカルポート番号&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>pport</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ピアポート番号&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>snd_sb_cc</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;送信バッファに入っているデータサイズ&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>rcv_sb_cc</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;受信バッファに入っているデータサイズ&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>state</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;コネクション状態&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">PTPコントロールブロックのリストを取得するための構造体です。<br><i>state</i>の種類は、以下の通りです。<br><br></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<i><b>state</b></i>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>説明</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_PTP_STATE_CLOSED&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;CLOSED&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_PTP_STATE_LISTEN&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;LISTEN&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_PTP_STATE_SYN_SENT&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;SYN_SENT&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_PTP_STATE_SYN_RCVD&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;SYN_RCVD&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_PTP_STATE_ESTABLISHED&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ESTABLISHED&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-Japanese.htm#sceNetAdhocGetPtpStat">sceNetAdhocGetPtpStat</a>()<br><br></div>

<!-- sce_hd2 -->
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocInit"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocInit<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>ライブラリの初期化<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocInit</b>(
	void
);

</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し不可<br>スレッドから呼び出し可能(割り込み許可状態で呼ぶこと)<br>マルチスレッドセーフである<br><br></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">なし<br><br></div>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">正常終了の場合、0を返します。<br>エラーの場合、以下のエラーコードを返します。<br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_ALREADY_INITIALIZED">SCE_ERROR_NET_ADHOC_ALREADY_INITIALIZED</a><br><br></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">ライブラリを初期化します。<br><br></div>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>int ret;

ret = sceNetAdhocInit(void);
if (ret &lt; 0) {
	// エラー処理
}

</font></pre></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-Japanese.htm#sceNetAdhocTerm">sceNetAdhocTerm</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocTerm"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocTerm<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>ライブラリの終了処理<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocTerm</b>(
	void
);

</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し不可<br>スレッドから呼び出し可能(割り込み許可状態で呼ぶこと)<br>マルチスレッドセーフである<br><br></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">なし<br><br></div>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">正常終了の場合、0を返します。<br>エラーがあった場合、以下のエラーコードを返します。<br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_BUSY">SCE_ERROR_NET_ADHOC_BUSY</a><br><br></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">ライブラリの終了処理を行います。呼び出し中のAPIがある場合は、<a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_BUSY">SCE_ERROR_NET_ADHOC_BUSY</a>が返り終了処理が失敗しますので、すべてのAPI呼び出しを中断した上で、呼び出してください。<br><br></div>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>int ret;

ret = sceNetAdhocTerm();
if (ret &lt; 0) {
	// エラー処理
}

</font></pre></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-Japanese.htm#sceNetAdhocInit">sceNetAdhocInit</a>()<br><br></div>

<!-- sce_hd2 -->
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocPdpCreate"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocPdpCreate<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>PDPソケットの生成<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocPdpCreate</b>(
	const struct <a href="../network/PSPNET_Core-Reference-Japanese.htm#SceNetEtherAddr">SceNetEtherAddr</a> *<i>saddr</i>,
	<a href="../kernel/Types-Reference-Japanese.htm#SceUShort16">SceUShort16</a> <i>sport</i>,
	int <i>bufsize</i>,
	int <i>flag</i>
);

</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し不可<br>スレッドから呼び出し可能(割り込み許可状態で呼ぶこと)<br>マルチスレッドセーフである<br><br></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>saddr</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ローカルMACアドレス&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>sport</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ローカルポート番号&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>bufsize</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ソケットバッファサイズ&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>flag</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;未使用(0を指定)&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">正常終了の場合、0以上のソケットIDを返します。<br>エラーがあった場合、以下のいずれかのエラーコードを返します。<br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_ARG">SCE_ERROR_NET_ADHOC_INVALID_ARG</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_NOT_INITIALIZED">SCE_ERROR_NET_ADHOC_NOT_INITIALIZED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_SOCKET_ID_NOT_AVAIL">SCE_ERROR_NET_ADHOC_SOCKET_ID_NOT_AVAIL</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_NO_SPACE">SCE_ERROR_NET_NO_SPACE</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_ADDR">SCE_ERROR_NET_ADHOC_INVALID_ADDR</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_PORT_NOT_AVAIL">SCE_ERROR_NET_ADHOC_PORT_NOT_AVAIL</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_PORT">SCE_ERROR_NET_ADHOC_INVALID_PORT</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_PORT_IN_USE">SCE_ERROR_NET_ADHOC_PORT_IN_USE</a><br><br></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">PDPソケットを生成します。ローカルポート番号に0を指定した場合には、任意のポート番号が割り当てられます。1つのMACアドレス・ポート番号の組につき、1つのソケットしか生成できません。<br><br></div>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>int ret, id;
struct <a href="../network/PSPNET_Core-Reference-Japanese.htm#SceNetEtherAddr">SceNetEtherAddr</a> addr;

// ローカル MAC アドレスを取得
ret = <a href="../network/PSPNET_Core-Reference-Japanese.htm#sceNetGetLocalEtherAddr">sceNetGetLocalEtherAddr</a>(&amp;addr);
if (ret &lt; 0) {
	// エラー処理
	return;
}

// ローカルポート番号は任意のものを使用
// ソケットバッファを 8192 バイトに設定
id = sceNetAdhocPdpCreate(&amp;addr, 0, 8192, 0);
if (id &lt; 0) {
	// エラー処理
}

</font></pre></div>

<!-- 備考 -->
<div style="margin-left:10px;"><b>備考</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">ソケットIDは、1〜255までです。<br>アドホックネットワークに接続していない状態で呼び出すと、<a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_ADDR">SCE_ERROR_NET_ADHOC_INVALID_ADDR</a>が返ります。アドホックネットワークに接続した後に呼び出してください。<br><br></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-Japanese.htm#sceNetAdhocPdpDelete">sceNetAdhocPdpDelete</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocPdpSend"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocPdpSend<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>PDPパケットの送信<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocPdpSend</b>(
	int <i>id</i>,
	const struct <a href="../network/PSPNET_Core-Reference-Japanese.htm#SceNetEtherAddr">SceNetEtherAddr</a> *<i>daddr</i>,
	<a href="../kernel/Types-Reference-Japanese.htm#SceUShort16">SceUShort16</a> <i>dport</i>,
	const void *<i>data</i>,
	int <i>len</i>,
	<a href="../kernel/Types-Reference-Japanese.htm#SceUInt32">SceUInt32</a> <i>timeout</i>,
	int <i>flag</i>
);

</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し不可<br>スレッドから呼び出し可能(割り込み許可状態で呼ぶこと)<br>マルチスレッドセーフである<br><br></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>id</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ソケットID&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>daddr</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;宛先MACアドレス&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>dport</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;宛先ポート番号&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>data</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;送信データへのポインタ&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>len</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;送信データ長&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>timeout</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;タイムアウト(マイクロ秒)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>flag</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;送信オプション&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">正常終了の場合、0を返します。<br>エラーがあった場合、以下のいずれかのエラーコードを返します。<br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_ARG">SCE_ERROR_NET_ADHOC_INVALID_ARG</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_NOT_INITIALIZED">SCE_ERROR_NET_ADHOC_NOT_INITIALIZED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID">SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_SOCKET_DELETED">SCE_ERROR_NET_ADHOC_SOCKET_DELETED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_ADDR">SCE_ERROR_NET_ADHOC_INVALID_ADDR</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_PORT">SCE_ERROR_NET_ADHOC_INVALID_PORT</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_DATALEN">SCE_ERROR_NET_ADHOC_INVALID_DATALEN</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_NO_SPACE">SCE_ERROR_NET_NO_SPACE</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_SOCKET_ALERTED">SCE_ERROR_NET_ADHOC_SOCKET_ALERTED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_TIMEOUT">SCE_ERROR_NET_ADHOC_TIMEOUT</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_INTERNAL">SCE_ERROR_NET_INTERNAL</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_THREAD_ABORTED">SCE_ERROR_NET_ADHOC_THREAD_ABORTED</a><br><br></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">PDPパケットを送信します。インタフェースの送信キューに空きがない場合、空きができるかもしくはタイムアウトで指定した時間が経過するまで呼び出しはブロックします。タイムアウトに0を指定した場合は無限に待ち合わせを行います。タイムアウトが発生した場合は<a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_TIMEOUT">SCE_ERROR_NET_ADHOC_TIMEOUT</a>を返します。<br>送信オプションとしてSCE_NET_ADHOC_F_NONBLOCKを指定した場合は、送信キューに空きがないときは、タイムアウトの指定によらずただちに<a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_WOULD_BLOCK">SCE_ERROR_NET_ADHOC_WOULD_BLOCK</a>を返します。<br>送信可能な最大データ長は、65523バイトです。<br><i>flag</i>の種類は、以下の通りです。<br><br></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<i><b>flag</b></i>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>説明</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_NONBLOCK&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ノンブロッキングモード&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>void *data;
int ret, id, datalen;
struct <a href="../network/PSPNET_Core-Reference-Japanese.htm#SceNetEtherAddr">SceNetEtherAddr</a> daddr;
<a href="../kernel/Types-Reference-Japanese.htm#SceUShort16">SceUShort16</a> dport;

// data に datalen バイト分のデータを用意
// addr と port をセット
...

ret = sceNetAdhocPdpSend(id, &amp;daddr, dport, data, len, 0, 0);
if (ret &lt; 0) {
	// エラー処理
}

</font></pre></div>

<!-- 備考 -->
<div style="margin-left:10px;"><b>備考</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">最大フラグメントサイズは、1444バイトです。1444バイトを超えるデータは、複数のパケットに分割（フラグメント化）されて送信されます。フラグメント化されて送信されたデータは、すべてのフラグメントを受信した時点で受信可能となります。１つ以上のフラグメントを喪失した場合、そのデータは破棄されます。<br></div>
        <div style="margin-left:50px;"><pre><font size=3>
</font></pre></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-Japanese.htm#sceNetAdhocPdpRecv">sceNetAdhocPdpRecv</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocPdpRecv"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocPdpRecv<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>PDPパケットの受信<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocPdpRecv</b>(
	int <i>id</i>,
	struct <a href="../network/PSPNET_Core-Reference-Japanese.htm#SceNetEtherAddr">SceNetEtherAddr</a> *<i>saddr</i>,
	<a href="../kernel/Types-Reference-Japanese.htm#SceUShort16">SceUShort16</a> *<i>sport</i>,
	void *<i>buf</i>,
	int *<i>len</i>,
	<a href="../kernel/Types-Reference-Japanese.htm#SceUInt32">SceUInt32</a> <i>timeout</i>,
	int <i>flag</i>
);

</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し不可<br>スレッドから呼び出し可能(割り込み許可状態で呼ぶこと)<br>マルチスレッドセーフである<br><br></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>id</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ソケットID&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>saddr</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;送信元MACアドレス&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>sport</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;送信元ポート番号&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>buf</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;受信バッファへのポインタ&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>len</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;受信バッファサイズ（IN）、受信データ長（OUT）&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>timeout</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;タイムアウト(マイクロ秒)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>flag</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;受信オプション&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">正常終了の場合、0を返します。<br>エラーがあった場合、以下のいずれかのエラーコードを返します。<br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_ARG">SCE_ERROR_NET_ADHOC_INVALID_ARG</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_NOT_INITIALIZED">SCE_ERROR_NET_ADHOC_NOT_INITIALIZED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID">SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_SOCKET_DELETED">SCE_ERROR_NET_ADHOC_SOCKET_DELETED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_SOCKET_ALERTED">SCE_ERROR_NET_ADHOC_SOCKET_ALERTED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_WOULD_BLOCK">SCE_ERROR_NET_ADHOC_WOULD_BLOCK</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_TIMEOUT">SCE_ERROR_NET_ADHOC_TIMEOUT</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_INTERNAL">SCE_ERROR_NET_INTERNAL</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_NOT_ENOUGH_SPACE">SCE_ERROR_NET_ADHOC_NOT_ENOUGH_SPACE</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_THREAD_ABORTED">SCE_ERROR_NET_ADHOC_THREAD_ABORTED</a><br><br></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">PDPパケットを受信します。パケットの送信元MACアドレス、ポート番号及びデータ長がそれぞれ返されます。受信すべきデータがない場合、パケットを受信するかもしくはタイムアウトで指定した時間が経過するまで呼び出しはブロックします。タイムアウトに0を指定した場合は無限に待ち合わせを行います。タイムアウトが発生した場合は<a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_TIMEOUT">SCE_ERROR_NET_ADHOC_TIMEOUT</a>を返します。<br>受信オプションとしてSCE_NET_ADHOC_F_NONBLOCKを指定した場合は、受信すべきデータがないときは、タイムアウトの指定によらずただちに<a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_WOULD_BLOCK">SCE_ERROR_NET_ADHOC_WOULD_BLOCK</a>を返します。<br>パケット受信時にソケットバッファサイズを超えた場合、そのパケットはソケットバッファに入れられずに廃棄されます。<br><i>flag</i>の種類は、以下の通りです。<br><br></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<i><b>flag</b></i>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>説明</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_NONBLOCK&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ノンブロッキングモード&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>char buf[1024];
int ret, id, len;
struct <a href="../network/PSPNET_Core-Reference-Japanese.htm#SceNetEtherAddr">SceNetEtherAddr</a> saddr;
<a href="../kernel/Types-Reference-Japanese.htm#SceUShort16">SceUShort16</a> sport;

len = 1024;
ret = sceNetAdhocPdpRecv(id, &amp;saddr, &amp;sport, buf, &amp;len, 0, 0);
if (ret &lt; 0) {
	// エラー処理
}

</font></pre></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-Japanese.htm#sceNetAdhocPdpSend">sceNetAdhocPdpSend</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocPdpDelete"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocPdpDelete<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>PDPソケットの削除<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocPdpDelete</b>(
	int <i>id</i>,
	int <i>flag</i>
);

</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し不可<br>スレッドから呼び出し可能(割り込み許可状態で呼ぶこと)<br>マルチスレッドセーフである<br><br></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>id</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ソケットID&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>flag</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;未使用(0を指定)&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">正常終了の場合、0を返します。<br>エラーがあった場合、以下のいずれかのエラーコードを返します。<br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_ARG">SCE_ERROR_NET_ADHOC_INVALID_ARG</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_NOT_INITIALIZED">SCE_ERROR_NET_ADHOC_NOT_INITIALIZED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID">SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID</a><br><br></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">PDPソケットを削除します。該当ソケットにおいて送信待ち状態／受信待ち状態だった呼び出しに対しては、エラー(<a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_SOCKET_DELETED">SCE_ERROR_NET_ADHOC_SOCKET_DELETED</a>)が返されます。<br>受信バッファにあったパケットは廃棄されます。<br><br></div>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>int ret, id;

ret = sceNetAdhocPdpDelete(id, 0);
if (ret &lt; 0) {
	// エラー処理
}

</font></pre></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-Japanese.htm#sceNetAdhocPdpCreate">sceNetAdhocPdpCreate</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocGetPdpStat"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocGetPdpStat<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>PDPコントロールブロックの取得<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocGetPdpStat</b>(
	int *<i>buflen</i>,
	void *<i>buf</i>
);

</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し不可<br>スレッドから呼び出し可能(割り込み許可状態で呼ぶこと)<br>マルチスレッドセーフである<br><br></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>buflen</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;<i>buf</i>のバッファサイズ（IN）、リストサイズ（OUT）&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>buf</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;PDPコントロールブロック構造体のリストを格納する領域へのポインタ&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">正常終了の場合、0を返します。<br>エラーがあった場合、以下のいずれかのエラーコードを返します。<br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_ARG">SCE_ERROR_NET_ADHOC_INVALID_ARG</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_NOT_INITIALIZED">SCE_ERROR_NET_ADHOC_NOT_INITIALIZED</a><br><br></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">PDPコントロールブロック構造体のリストを取得します。<br><i>buf</i>が示す領域は、<i>buflen</i>分確保している必要があります。<br><br>本関数は、<i>buf</i>に指定された値によって二通りの動作をします。<br></div>
</ol>
<div style="margin-left:50px;"><ol>
<li VALUE=1> <i>buf</i>にNULLを指定した場合<i>buflen</i>に、構造体リストを取得するのに必要なバッファサイズが返ります。</li>
<li VALUE=2> <i>buf</i>にアドレス値を指定した場合、<i>buflen</i>に指定されたバッファサイズを最大値として、<i>buf</i>で指定された領域に、PDPコントロールブロック構造体<a href="../network/PSPNET_Adhoc-Reference-Japanese.htm#SceNetAdhocPdpStat">SceNetAdhocPdpStat</a>のリストを作成します。リストは、<i>buf</i>を先頭とし<i>next</i>メンバで連結され、終端はNULLとなります。</li>
</ol></div>
<div style="margin-left:50px;"><br></div>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>int ret, buflen;
struct <a href="../network/PSPNET_Adhoc-Reference-Japanese.htm#SceNetAdhocPdpStat">SceNetAdhocPdpStat</a> *buf, *ptr;

ret = sceNetAdhocGetPdpStat(&amp;buflen, NULL);
if (ret &lt; 0) {
	// エラー処理
	return;
}
else if (buflen == 0) {
	// データは存在しなかった
	return;
}

buf = malloc(buflen);
if (buf == NULL) {
	// メモリが確保できなかった
	return;
}

ret = sceNetAdhocGetPdpStat(&amp;buflen, buf);
if (ret &lt; 0) {
	// エラー処理
}
else if (buflen == 0) {
	// データは存在しなかった
}
else {
	for (ptr = buf; ptr != NULL; ptr = ptr-&gt;next) {
		// 取得したコントロールブロックに対する処理
		...
	}
}

free(buf);

</font></pre></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-Japanese.htm#SceNetAdhocPdpStat">SceNetAdhocPdpStat</a><br></div>

<!-- sce_hd2 -->
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocPtpOpen"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocPtpOpen<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>PTPソケットの生成と接続開始<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocPtpOpen</b>(
	const struct <a href="../network/PSPNET_Core-Reference-Japanese.htm#SceNetEtherAddr">SceNetEtherAddr</a> *<i>saddr</i>,
	<a href="../kernel/Types-Reference-Japanese.htm#SceUShort16">SceUShort16</a> <i>sport</i>,
	const struct <a href="../network/PSPNET_Core-Reference-Japanese.htm#SceNetEtherAddr">SceNetEtherAddr</a> *<i>daddr</i>,
	<a href="../kernel/Types-Reference-Japanese.htm#SceUShort16">SceUShort16</a> <i>dport</i>,
	<a href="../kernel/Types-Reference-Japanese.htm#SceUInt32">SceUInt32</a> <i>bufsize,</i>
	<a href="../kernel/Types-Reference-Japanese.htm#SceUInt32">SceUInt32</a> <i>rexmt_int</i>,
	int <i>rexmt_cnt</i>,
	int <i>flag</i>
);

</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し不可<br>スレッドから呼び出し可能(割り込み許可状態で呼ぶこと)<br>マルチスレッドセーフである<br><br></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>saddr</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ローカルMACアドレス&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>sport</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ローカルポート番号&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>daddr</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;宛先MACアドレス&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>dport</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;宛先ポート番号&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>bufsize</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ソケットバッファサイズ&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>rexmt_int</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;再送間隔(マイクロ秒)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>rexmt_cnt</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;再送回数&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>flag</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;未使用(0を指定)&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">正常終了の場合、0以上のソケットIDを返します。<br>エラーがあった場合、以下のいずれかのエラーコードを返します。<br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_ARG">SCE_ERROR_NET_ADHOC_INVALID_ARG</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_NOT_INITIALIZED">SCE_ERROR_NET_ADHOC_NOT_INITIALIZED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_ADDR">SCE_ERROR_NET_ADHOC_INVALID_ADDR</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_PORT">SCE_ERROR_NET_ADHOC_INVALID_PORT</a><br><br></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">PTPソケットを生成し、指定された宛先MACアドレスとポート番号に対して接続を開始します。ローカルポート番号に0を指定した場合には、任意のポート番号が割り当てられます。ローカルポート番号が既に使用中の場合、そのポート番号を新たにソケットに割り当てることはできません。<br><br></div>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>int ret, id;
struct <a href="../network/PSPNET_Core-Reference-Japanese.htm#SceNetEtherAddr">SceNetEtherAddr</a> saddr, daddr;
<a href="../kernel/Types-Reference-Japanese.htm#SceUShort16">SceUShort16</a> dport;

// ローカル MAC アドレスを取得
ret = <a href="../network/PSPNET_Core-Reference-Japanese.htm#sceNetGetLocalEtherAddr">sceNetGetLocalEtherAddr</a>(&amp;saddr);
if (ret &lt; 0) {
	// エラー処理
	return;
}

// 宛先アドレスおよびポート番号 (daddr, dport) を設定
...

// ローカルポート番号は任意のものを使用
// ソケットバッファを 8192 バイトに設定
// 再送間隔 500ms、再送回数を 20 回に設定
id = sceNetAdhocPtpOpen(&amp;saddr, 0, &amp;daddr, dport, 8192, 500*1000, 20, 0);
if (id &lt; 0) {
	// エラー処理
}

</font></pre></div>

<!-- 備考 -->
<div style="margin-left:10px;"><b>備考</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">アドホックネットワークに接続していない状態で呼び出すと、<a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_ADDR">SCE_ERROR_NET_ADHOC_INVALID_ADDR</a>が返ります。アドホックネットワークに接続した後に呼び出してください。<br><br></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-Japanese.htm#sceNetAdhocPtpConnect">sceNetAdhocPtpConnect</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocPtpConnect"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocPtpConnect<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>PTPコネクションの確立<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocPtpConnect</b>(
	int <i>id</i>,
	<a href="../kernel/Types-Reference-Japanese.htm#SceUInt32">SceUInt32</a> <i>timeout</i>,
	int <i>flag</i>
);

</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し不可<br>スレッドから呼び出し可能(割り込み許可状態で呼ぶこと)<br>マルチスレッドセーフである<br><br></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>id</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ソケットID&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>timeout</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;タイムアウト(マイクロ秒)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>flag</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;オプション&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">正常終了の場合、0を返します。<br>エラーがあった場合、以下のいずれかのエラーコードを返します。<br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_ARG">SCE_ERROR_NET_ADHOC_INVALID_ARG</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_NOT_INITIALIZED">SCE_ERROR_NET_ADHOC_NOT_INITIALIZED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID">SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_SOCKET_DELETED">SCE_ERROR_NET_ADHOC_SOCKET_DELETED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_CONNECTION_REFUSED">SCE_ERROR_NET_ADHOC_CONNECTION_REFUSED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_SOCKET_ALERTED">SCE_ERROR_NET_ADHOC_SOCKET_ALERTED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_WOULD_BLOCK">SCE_ERROR_NET_ADHOC_WOULD_BLOCK</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_TIMEOUT">SCE_ERROR_NET_ADHOC_TIMEOUT</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_INTERNAL">SCE_ERROR_NET_INTERNAL</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_NOT_OPENED">SCE_ERROR_NET_ADHOC_NOT_OPENED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_THREAD_ABORTED">SCE_ERROR_NET_ADHOC_THREAD_ABORTED</a><br><br></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-Japanese.htm#sceNetAdhocPtpOpen">sceNetAdhocPtpOpen</a>()で生成したソケットに対して、コネクション確立を待ち合わせます。コネクションが確立していないときは、コネクションが確立するかもしくはタイムアウトで指定した時間が経過するまで呼び出しはブロックします。タイムアウトに0を指定した場合は無限に待ち合わせを行います。タイムアウトが発生した場合は<a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_TIMEOUT">SCE_ERROR_NET_ADHOC_TIMEOUT</a>を返します。<br>オプションとしてSCE_NET_ADHOC_F_NONBLOCKを指定した場合、コネクションが確立していないときは、ただちに<a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_WOULD_BLOCK">SCE_ERROR_NET_ADHOC_WOULD_BLOCK</a>を返します。<br><i>flag</i>の種類は、以下の通りです。<br><br></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<i><b>flag</b></i>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>説明</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_NONBLOCK&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ノンブロッキングモード&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>int ret, id;

while (1) {
	// 他のタスク

	// ノンブロッキングモードで呼び出し(ポーリング動作)
	ret = sceNetAdhocPtpConnect(id, 0, SCE_NET_ADHOC_F_NONBLOCK);
	if (ret == <a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_WOULD_BLOCK">SCE_ERROR_NET_ADHOC_WOULD_BLOCK</a>) {
		// 未接続
		continue;
	}
	else if (ret &lt; 0) {
		// エラー処理
		break;
	}
	else {
		// 接続成功
		break;
	}
}

</font></pre></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-Japanese.htm#sceNetAdhocPtpOpen">sceNetAdhocPtpOpen</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocPtpListen"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocPtpListen<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>PTPソケットの生成と接続待ち受け<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocPtpListen</b>(
	const struct <a href="../network/PSPNET_Core-Reference-Japanese.htm#SceNetEtherAddr">SceNetEtherAddr</a> *<i>saddr</i>,
	<a href="../kernel/Types-Reference-Japanese.htm#SceUShort16">SceUShort16</a> <i>sport</i>,
	<a href="../kernel/Types-Reference-Japanese.htm#SceUInt32">SceUInt32</a> <i>bufsize</i>,
	<a href="../kernel/Types-Reference-Japanese.htm#SceUInt32">SceUInt32</a> <i>rexmt_int</i>,
	int <i>rexmt_cnt</i>,
	int <i>backlog</i>,
	int <i>flag</i>
);

</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し不可<br>スレッドから呼び出し可能(割り込み許可状態で呼ぶこと)<br>マルチスレッドセーフである<br><br></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>saddr</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ローカルMACアドレス&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>sport</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ローカルポート番号&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>bufsize</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ソケットバッファサイズ&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>rexmt_int</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;再送間隔(マイクロ秒)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>rexmt_cnt</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;再送回数&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>backlog</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;コネクションキューの長さ&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>flag</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;未使用(0を指定)&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">正常終了の場合、0以上のソケットIDを返します。<br>エラーがあった場合、以下のいずれかのエラーコードを返します。<br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_ARG">SCE_ERROR_NET_ADHOC_INVALID_ARG</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_NOT_INITIALIZED">SCE_ERROR_NET_ADHOC_NOT_INITIALIZED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_SOCKET_ID_NOT_AVAIL">SCE_ERROR_NET_ADHOC_SOCKET_ID_NOT_AVAIL</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_NO_SPACE">SCE_ERROR_NET_NO_SPACE</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_ADDR">SCE_ERROR_NET_ADHOC_INVALID_ADDR</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_PORT_NOT_AVAIL">SCE_ERROR_NET_ADHOC_PORT_NOT_AVAIL</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_PORT">SCE_ERROR_NET_ADHOC_INVALID_PORT</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_PORT_IN_USE">SCE_ERROR_NET_ADHOC_PORT_IN_USE</a><br><br></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">PTPソケットを生成し、接続を待ち受けます。ローカルポート番号に0を指定した場合には、任意のポート番号が割り当てられます。ローカルポート番号が既に使用中の場合、そのポート番号を新たにソケットに割り当てることはできません。<br><br></div>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>int ret, id;
struct <a href="../network/PSPNET_Core-Reference-Japanese.htm#SceNetEtherAddr">SceNetEtherAddr</a> saddr;
<a href="../kernel/Types-Reference-Japanese.htm#SceUShort16">SceUShort16</a> sport;

// ローカル MAC アドレスを取得
ret = <a href="../network/PSPNET_Core-Reference-Japanese.htm#sceNetGetLocalEtherAddr">sceNetGetLocalEtherAddr</a>(&amp;addr);
if (ret &lt; 0) {
	// エラー処理
	return;
}
// 待ち受けポート番号を 80 番に設定
sport = 80;

// ソケットバッファを 8192 バイトに設定
// 再送間隔 500ms、再送回数を 20 回に設定
// コネクションキューを 5 に設定
id = sceNetAdhocPtpListen(&amp;saddr, sport, 8192, 500*1000, 20, 5, 0);
if (id &lt; 0) {
	// エラー処理
}

</font></pre></div>

<!-- 備考 -->
<div style="margin-left:10px;"><b>備考</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">アドホックネットワークに接続していない状態で呼び出すと、<a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_ADDR">SCE_ERROR_NET_ADHOC_INVALID_ADDR</a>が返ります。アドホックネットワークに接続した後に呼び出してください。<br><br></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-Japanese.htm#sceNetAdhocPtpAccept">sceNetAdhocPtpAccept</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocPtpAccept"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocPtpAccept<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>PTPコネクションの確立<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocPtpAccept</b>(
	int <i>id</i>,
	struct <a href="../network/PSPNET_Core-Reference-Japanese.htm#SceNetEtherAddr">SceNetEtherAddr</a> *<i>addr</i>,
	<a href="../kernel/Types-Reference-Japanese.htm#SceUShort16">SceUShort16</a> *<i>port</i>,
	<a href="../kernel/Types-Reference-Japanese.htm#SceUInt32">SceUInt32</a> <i>timeout</i>,
	int <i>flag</i>
);
</font></pre></div>
<div style="margin-left:50px;"><pre><font size=3>
</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し不可<br>スレッドから呼び出し可能(割り込み許可状態で呼ぶこと)<br>マルチスレッドセーフである<br></div>
        <div style="margin-left:50px;"><pre><font size=3>
</font></pre></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>id</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ソケットID&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>addr</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ピアMACアドレス&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>port</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ピアポート番号&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>timeout</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;タイムアウト(マイクロ秒)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>flag</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;オプション&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">正常終了の場合、0以上のソケットIDを返します。<br>エラーがあった場合、以下のいずれかのエラーコードを返します。<br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_ARG">SCE_ERROR_NET_ADHOC_INVALID_ARG</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_NOT_INITIALIZED">SCE_ERROR_NET_ADHOC_NOT_INITIALIZED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID">SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_SOCKET_DELETED">SCE_ERROR_NET_ADHOC_SOCKET_DELETED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_SOCKET_ALERTED">SCE_ERROR_NET_ADHOC_SOCKET_ALERTED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_SOCKET_ID_NOT_AVAIL">SCE_ERROR_NET_ADHOC_SOCKET_ID_NOT_AVAIL</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_WOULD_BLOCK">SCE_ERROR_NET_ADHOC_WOULD_BLOCK</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_TIMEOUT">SCE_ERROR_NET_ADHOC_TIMEOUT</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_INTERNAL">SCE_ERROR_NET_INTERNAL</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_NOT_LISTENED">SCE_ERROR_NET_ADHOC_NOT_LISTENED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_THREAD_ABORTED">SCE_ERROR_NET_ADHOC_THREAD_ABORTED</a><br></div>
        <div style="margin-left:50px;"><pre><font size=3>
</font></pre></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-Japanese.htm#sceNetAdhocPtpListen">sceNetAdhocPtpListen</a>()で生成したソケットに対して、コネクションの確立を待ち合わせます。コネクションが確立していないときは、コネクションが確立するかもしくはタイムアウトで指定した時間が経過するまで呼び出しはブロックします。タイムアウトに0を指定した場合は無限に待ち合わせを行います。タイムアウトが発生した場合は<a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_TIMEOUT">SCE_ERROR_NET_ADHOC_TIMEOUT</a>を返します。<br>オプションとしてSCE_NET_ADHOC_F_NONBLOCKを指定した場合、コネクションが確立していないときは、タイムアウトの指定によらずただちに<a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_WOULD_BLOCK">SCE_ERROR_NET_ADHOC_WOULD_BLOCK</a>を返します。<br>コネクションが確立すると、返り値として新しいソケットIDが返されます。<br>またsaddrおよびsportに、コネクションピアのMACアドレスとポート番号が返されます。<br><i>flag</i>の種類は、以下の通りです。<br></div>
        <div style="margin-left:50px;"><pre><font size=3>
</font></pre></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<i><b>flag</b></i>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>説明</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_NONBLOCK&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ノンブロッキングモード&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>int id, newid;
struct <a href="../network/PSPNET_Core-Reference-Japanese.htm#SceNetEtherAddr">SceNetEtherAddr</a> addr;
<a href="../kernel/Types-Reference-Japanese.htm#SceUShort16">SceUShort16</a> port;

while (1) {
	// 他のタスク

	// ノンブロッキングモードで呼び出し(ポーリング動作)
	newid = sceNetAdhocPtpAccept(id, &amp;addr, &amp;port, 0, SCE_NET_ADHOC_F_NONBLOCK);
	if (newid == <a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_WOULD_BLOCK">SCE_ERROR_NET_ADHOC_WOULD_BLOCK</a>) {
		// 未接続
		continue;
	}
	else if (newid &lt; 0) {
		// エラー処理
		break;
	}
	else {
		// 接続成功
		break;
	}
}

</font></pre></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-Japanese.htm#sceNetAdhocPtpListen">sceNetAdhocPtpListen</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocPtpSend"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocPtpSend<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>データの送信<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocPtpSend</b>(
	int <i>id</i>,
	const void *<i>data</i>,
	int *<i>len</i>,
	<a href="../kernel/Types-Reference-Japanese.htm#SceUInt32">SceUInt32</a> <i>timeout</i>,
	int <i>flag</i>
);

</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し不可<br>スレッドから呼び出し可能(割り込み許可状態で呼ぶこと)<br>マルチスレッドセーフである<br><br></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>id</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ソケットID&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>data</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;送信データへのポインタ&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>len</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;送信データサイズ（IN）&nbsp;&nbsp;<br>&nbsp;&nbsp;実際にソケットバッファに格納したサイズ（OUT）&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>timeout</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;タイムアウト(マイクロ秒)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>flag</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;オプション&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">正常終了の場合、0を返します。<br>エラーがあった場合、以下のいずれかのエラーコードを返します。<br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_ARG">SCE_ERROR_NET_ADHOC_INVALID_ARG</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_NOT_INITIALIZED">SCE_ERROR_NET_ADHOC_NOT_INITIALIZED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID">SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_NOT_CONNECTED">SCE_ERROR_NET_ADHOC_NOT_CONNECTED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_SOCKET_DELETED">SCE_ERROR_NET_ADHOC_SOCKET_DELETED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_DATALEN">SCE_ERROR_NET_ADHOC_INVALID_DATALEN</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_DISCONNECTED">SCE_ERROR_NET_ADHOC_DISCONNECTED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_SOCKET_ALERTED">SCE_ERROR_NET_ADHOC_SOCKET_ALERTED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_WOULD_BLOCK">SCE_ERROR_NET_ADHOC_WOULD_BLOCK</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_TIMEOUT">SCE_ERROR_NET_ADHOC_TIMEOUT</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_INTERNAL">SCE_ERROR_NET_INTERNAL</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_NO_SPACE">SCE_ERROR_NET_NO_SPACE</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_THREAD_ABORTED">SCE_ERROR_NET_ADHOC_THREAD_ABORTED</a><br><br></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">データを送信します。ソケットバッファに空きがない場合は、空きが出るかもしくはタイムアウトで指定した時間が経過するまで呼び出しはブロックします。タイムアウトに0を指定した場合は無限に待ち合わせを行います。タイムアウトが発生した場合は<a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_TIMEOUT">SCE_ERROR_NET_ADHOC_TIMEOUT</a>を返します。<br>オプションとしてSCE_NET_ADHOC_F_NONBLOCKを指定した場合は、ソケットバッファに空きがないときは、タイムアウトの指定によらずただちに<a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_WOULD_BLOCK">SCE_ERROR_NET_ADHOC_WOULD_BLOCK</a>を返します。<br>返り値が正常終了および<br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_NO_SPACE">SCE_ERROR_NET_NO_SPACE</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_TIMEOUT">SCE_ERROR_NET_ADHOC_TIMEOUT</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_SOCKET_ALERTED">SCE_ERROR_NET_ADHOC_SOCKET_ALERTED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_WOULD_BLOCK">SCE_ERROR_NET_ADHOC_WOULD_BLOCK</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_DISCONNECTED">SCE_ERROR_NET_ADHOC_DISCONNECTED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_THREAD_ABORTED">SCE_ERROR_NET_ADHOC_THREAD_ABORTED</a><br>のときは、実際にソケットバッファに格納したサイズが<i>len</i>に返されます。<br>引続き送信を行う場合は、送信データを<i>len</i>サイズ分オフセットした位置から再開してください。<br><i>flag</i>の種類は、以下の通りです。<br><br></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<i><b>flag</b></i>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>説明</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_NONBLOCK&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ノンブロッキングモード&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>void *data;
int ret, id, datalen, offset, len;

// data に datalen バイト分のデータを用意
...

offset = 0;
while (offset &lt; datalen) {
	// 他のタスク

	len = datalen - offset;
	// ノンブロッキングモードで送信(ポーリング動作)
	ret = sceNetAdhocPtpSend(id, data + offset, &amp;len, 0, SCE_NET_ADHOC_F_NONBLOCK);
	if (ret &lt; 0 &amp;&amp; ret != <a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_WOULD_BLOCK">SCE_ERROR_NET_ADHOC_WOULD_BLOCK</a>) {
		// エラー処理
	}
	offset += len;
}

</font></pre></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-Japanese.htm#sceNetAdhocPtpRecv">sceNetAdhocPtpRecv</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocPtpRecv"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocPtpRecv<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>データの受信<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocPtpRecv</b>(
	int <i>id</i>,
	void *<i>buf</i>,
	int *<i>len</i>,
	<a href="../kernel/Types-Reference-Japanese.htm#SceUInt32">SceUInt32</a> <i>timeout</i>,
	int <i>flag</i>
);
</font></pre></div>
<div style="margin-left:50px;"><pre><font size=3>
</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し不可<br>スレッドから呼び出し可能(割り込み許可状態で呼ぶこと)<br>マルチスレッドセーフである<br></div>
        <div style="margin-left:50px;"><pre><font size=3>
</font></pre></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>id</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ソケットID&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>buf</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;受信バッファへのポインタ&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>len</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;受信バッファサイズ（IN）、受信データサイズ（OUT）&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>timeout</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;タイムアウト(マイクロ秒)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>flag</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;オプション&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">正常終了の場合、0を返します。<br>エラーがあった場合、以下のいずれかのエラーコードを返します。<br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_ARG">SCE_ERROR_NET_ADHOC_INVALID_ARG</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_NOT_INITIALIZED">SCE_ERROR_NET_ADHOC_NOT_INITIALIZED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID">SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_DISCONNECTED">SCE_ERROR_NET_ADHOC_DISCONNECTED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_SOCKET_DELETED">SCE_ERROR_NET_ADHOC_SOCKET_DELETED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_SOCKET_ALERTED">SCE_ERROR_NET_ADHOC_SOCKET_ALERTED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_WOULD_BLOCK">SCE_ERROR_NET_ADHOC_WOULD_BLOCK</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_TIMEOUT">SCE_ERROR_NET_ADHOC_TIMEOUT</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_INTERNAL">SCE_ERROR_NET_INTERNAL</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_THREAD_ABORTED">SCE_ERROR_NET_ADHOC_THREAD_ABORTED</a><br></div>
        <div style="margin-left:50px;"><pre><font size=3>
</font></pre></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">データを受信します。受信すべきデータがない場合、データを受信するかもしくはタイムアウトで指定した時間が経過するまで呼び出しはブロックします。タイムアウトに0を指定した場合は無限に待ち合わせを行います。タイムアウトが発生した場合は<a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_TIMEOUT">SCE_ERROR_NET_ADHOC_TIMEOUT</a>を返します。<br>受信オプションとしてSCE_NET_ADHOC_F_NONBLOCKを指定した場合は、受信すべきデータがないときは、タイムアウトの指定によらずただちに<a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_WOULD_BLOCK">SCE_ERROR_NET_ADHOC_WOULD_BLOCK</a>を返します。<br>返り値が正常終了の場合、実際に受信バッファに格納したサイズが<i>len</i>に返されます。<br><i>flag</i>の種類は、以下の通りです。<br><br></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<i><b>flag</b></i>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>説明</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_NONBLOCK&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ノンブロッキングモード&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>char buf[1024];
int ret, id, len;
struct <a href="../network/PSPNET_Core-Reference-Japanese.htm#SceNetEtherAddr">SceNetEtherAddr</a> addr;
<a href="../kernel/Types-Reference-Japanese.htm#SceUShort16">SceUShort16</a> port;

// 1024 バイト受信
needlen = 1024;
if (offset &lt; needlen) {
	// 他のタスク

	len = needlen - offset; 
	// ノンブロッキングモードで受信(ポーリング動作)
	ret = sceNetAdhocPtpRecv(id, buf + offset, &amp;len, 0, SCE_NET_ADHOC_F_NONBLOCK);
	if (ret &lt; 0) {
		// エラー処理
		break;
	}
	offset += len;
}
</font></pre></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocPtpFlush"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocPtpFlush<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>送信バッファのフラッシュ<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocPtpFlush</b>(
	int <i>id</i>,
	<a href="../kernel/Types-Reference-Japanese.htm#SceUInt32">SceUInt32</a> <i>timeout</i>,
	int <i>flag</i>
);

</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し不可<br>スレッドから呼び出し可能(割り込み許可状態で呼ぶこと)<br>マルチスレッドセーフである<br><br></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>id</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ソケットID&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>timeout</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;タイムアウト(マイクロ秒)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>flag</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;オプション&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">正常終了の場合、0を返します。<br>エラーがあった場合、以下のいずれかのエラーコードを返します。<br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_ARG">SCE_ERROR_NET_ADHOC_INVALID_ARG</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_NOT_INITIALIZED">SCE_ERROR_NET_ADHOC_NOT_INITIALIZED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID">SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_NOT_CONNECTED">SCE_ERROR_NET_ADHOC_NOT_CONNECTED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_SOCKET_DELETED">SCE_ERROR_NET_ADHOC_SOCKET_DELETED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_DISCONNECTED">SCE_ERROR_NET_ADHOC_DISCONNECTED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_SOCKET_ALERTED">SCE_ERROR_NET_ADHOC_SOCKET_ALERTED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_WOULD_BLOCK">SCE_ERROR_NET_ADHOC_WOULD_BLOCK</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_TIMEOUT">SCE_ERROR_NET_ADHOC_TIMEOUT</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_INTERNAL">SCE_ERROR_NET_INTERNAL</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_THREAD_ABORTED">SCE_ERROR_NET_ADHOC_THREAD_ABORTED</a><br><br></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">送信バッファにあるデータの送信完了を待ち合わせます。送信バッファのデータ送信が完了していないときは、送信が完了するかもしくはタイムアウトで指定した時間が経過するまで呼び出しはブロックします。タイムアウトに0を指定した場合は無限に待ち合わせを行います。タイムアウトが発生した場合は<a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_TIMEOUT">SCE_ERROR_NET_ADHOC_TIMEOUT</a>を返します。<br>オプションとしてSCE_NET_ADHOC_F_NONBLOCKを指定した場合、送信バッファのデータ送信が完了していないときは、タイムアウトの指定によらずただちに<a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_WOULD_BLOCK">SCE_ERROR_NET_ADHOC_WOULD_BLOCK</a>を返します。<br><i>flag</i>の種類は、以下の通りです。<br><br></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<i><b>flag</b></i>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>説明</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_NONBLOCK&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ノンブロッキングモード&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>int ret, id;

while (1) {
	// 他のタスク

	// ノンブロッキングモードで呼び出し(ポーリング動作)
	ret = sceNetAdhocPtpFlush(id, 0, SCE_NET_ADHOC_F_NONBLOCK);
	if (ret == <a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_WOULD_BLOCK">SCE_ERROR_NET_ADHOC_WOULD_BLOCK</a>) {
		// 送信中
		continue;
	}
	else if (ret &lt; 0) {
		// エラー処理
		break;
	}
	else {
		// 送信完了
		break;
	}
}

</font></pre></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocPtpClose"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocPtpClose<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>コネクションの切断とPTPソケットの削除<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocPtpClose</b>(
	int <i>id</i>,
	int <i>flag</i>
);

</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し不可<br>スレッドから呼び出し可能(割り込み許可状態で呼ぶこと)<br>マルチスレッドセーフである<br><br></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>id</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ソケットID&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>flag</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;未使用(0を指定)&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">正常終了の場合、0を返します。<br>エラーがあった場合、以下のいずれかのエラーコードを返します。<br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_ARG">SCE_ERROR_NET_ADHOC_INVALID_ARG</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_NOT_INITIALIZED">SCE_ERROR_NET_ADHOC_NOT_INITIALIZED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID">SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID</a><br><br></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">PTPコネクションを切断し、ソケットを削除します。このとき送信バッファおよび受信バッファにあるデータは、破棄されます。<br>該当ソケットにおいて待ち状態だった呼び出しに対しては、エラー(<a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_SOCKET_DELETED">SCE_ERROR_NET_ADHOC_SOCKET_DELETED</a>)が返されます。<br><br></div>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>int ret, id;

ret = sceNetAdhocPtpClose(id, 0);
if (ret &lt; 0) {
	// エラー処理
}

</font></pre></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocGetPtpStat"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocGetPtpStat<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>PTPコントロールブロックの取得<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocGetPtpStat</b>(
	int *<i>buflen</i>,
	void *<i>buf</i>
);

</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し不可<br>スレッドから呼び出し可能(割り込み許可状態で呼ぶこと)<br>マルチスレッドセーフである<br><br></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>buflen</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;<i>buf</i>のバッファサイズ（IN）、リストサイズ（OUT）&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>buf</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;PTPコントロールブロック構造体のリストを格納する領域へのポインタ&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">正常終了の場合、0を返します。<br>エラーがあった場合、以下のいずれかのエラーコードを返します。<br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_ARG">SCE_ERROR_NET_ADHOC_INVALID_ARG</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_NOT_INITIALIZED">SCE_ERROR_NET_ADHOC_NOT_INITIALIZED</a><br><br></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">PTPコントロールブロック構造体のリストを取得します。<br><br><i>buf</i>が示す領域は、<i>buflen</i>分確保している必要があります。<br>本関数は、<i>buf</i>に指定された値によって二通りの動作をします。<br></div>
<div style="margin-left:50px;"><ol>
<li VALUE=1> <i>buf</i>にNULLを指定した場合、<i>buflen</i>に構造体リストを取得するのに必要なバッファサイズが返ります。</li>
<li VALUE=2> <i>buf</i>にアドレス値を指定した場合、<i>buflen</i>に指定されたバッファサイズを最大値として、<i>buf</i>で指定された領域に、PTPコントロールブロック構造体<a href="../network/PSPNET_Adhoc-Reference-Japanese.htm#SceNetAdhocPtpStat">SceNetAdhocPtpStat</a>のリストを作成します。リストは、<i>buf</i>を先頭としnextメンバで連結され、終端はNULLとなります。</li>
</ol></div>
<div style="margin-left:50px;"><br></div>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>int ret, buflen;
struct <a href="../network/PSPNET_Adhoc-Reference-Japanese.htm#SceNetAdhocPtpStat">SceNetAdhocPtpStat</a> *buf, *ptr;

ret = sceNetAdhocGetPtpStat(&amp;buflen, NULL);
if (ret &lt; 0) {
	// エラー処理
	return;
}
else if (buflen == 0) {
	// データは存在しなかった
	return;
}

buf = malloc(buflen);
if (buf == NULL) {
	// メモリが確保できなかった
	return;
}

ret = sceNetAdhocGetPtpStat(&amp;buflen, buf);
if (ret &lt; 0) {
	// エラー処理
}
else if (buflen == 0) {
	// データは存在しなかった
}
else {
	for (ptr = buf; ptr != NULL; ptr = ptr-&gt;next) {
		// 取得したコントロールブロックに対する処理
		...
	}
}

free(buf);

</font></pre></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-Japanese.htm#SceNetAdhocPtpStat">SceNetAdhocPtpStat</a><br></div>

<!-- sce_hd2 -->
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocPollSocket"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocPollSocket<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>複数のソケットに対する同期 I/O<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocPollSocket</b>(
	struct <a href="../network/PSPNET_Adhoc-Reference-Japanese.htm#SceNetAdhocPollSd">SceNetAdhocPollSd</a> *<i>sds</i>,
	int <i>nsds</i>,
	<a href="../kernel/Types-Reference-Japanese.htm#SceUInt32">SceUInt32</a> <i>timeout</i>,
	int <i>flags</i>
);

</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し不可<br>スレッドから呼び出し可能(割り込み許可状態で呼ぶこと)<br>マルチスレッドセーフである<br><br></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>sds</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Pollソケットディスクリプタ配列へのポインタ&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>nsds</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;<i>sds</i>の配列数&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>timeout</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;タイムアウト(マイクロ秒)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>flags</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;オプション&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">正常終了の場合、0以上の値を返します。<br>これは対象イベントが発生したソケットIDの数を表します。<br>エラーがあった場合、以下のいずれかのエラーコードを返します。<br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_ARG">SCE_ERROR_NET_ADHOC_INVALID_ARG</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_NOT_INITIALIZED">SCE_ERROR_NET_ADHOC_NOT_INITIALIZED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_NO_SPACE">SCE_ERROR_NET_NO_SPACE</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID">SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_EXCEPTION_EVENT">SCE_ERROR_NET_ADHOC_EXCEPTION_EVENT</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_TIMEOUT">SCE_ERROR_NET_ADHOC_TIMEOUT</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_INTERNAL">SCE_ERROR_NET_INTERNAL</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_THREAD_ABORTED">SCE_ERROR_NET_ADHOC_THREAD_ABORTED</a><br></div>
        <div style="margin-left:50px;"><pre><font size=3>
</font></pre></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">複数のPDPソケットに対する同期I/Oを行います。Pollソケットディスクリプタの配列で、同期したいソケットIDと対象イベントを指定します。<br>1つ以上のイベントが発生するまで呼び出しはブロックします。オプションとしてSCE_NET_ADHOC_F_NONBLOCKを指定した場合は、イベントの発生を待たずに返り値として0が返されます。発生したイベントは、Pollソケットディスクリプタの<i>revents</i>に格納されます。<br><i>flags</i>の種類は、以下の通りです。<br></div>
        <div style="margin-left:50px;"><pre><font size=3>
</font></pre></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>flags</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>説明</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_NONBLOCK&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ノンブロッキングモード&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>int ret, id0, id1, nsds;
struct <a href="../network/PSPNET_Adhoc-Reference-Japanese.htm#SceNetAdhocPollSd">SceNetAdhocPollSd</a> sds[2];

…

// ソケット id0, id1 に対して受信待ち合わせを行う
sd[0].id = id0;
sd[0].events |= SCE_NET_ADHOC_EV_RECV;
sd[1].id = id1;
sd[1].events |= SCE_NET_ADHOC_EV_RECV;

nsds = 2;

while (1) {
	ret = sceNetAdhocPollSocket(sds, nsds, 0, 0);
	if (ret &lt; 0) {
		// エラー処理
		break;
	}

	for (i = 0; i &lt; nsds; i++) {
	if (sds[i].revents &amp; SCE_NET_ADHOC_EV_RECV) {
			// sds[i].id に対する受信処理
		}
	}
}

</font></pre></div>

<!-- 備考 -->
<div style="margin-left:10px;"><b>備考</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">Pollソケットディスクリプタの配列で返されたイベントに対して、直後に同期I/Oの呼び出しを行った場合でも、必ずブロックせずに処理が行えるとは限りません。同期I/Oの呼び出しをブロックさせたくない場合は、必ずノンブロッキングモードを指定してください。<br>対象ソケットがアラート状態が設定されたり、削除されたりした場合は、<a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_EXCEPTION_EVENT">SCE_ERROR_NET_ADHOC_EXCEPTION_EVENT</a>を返します。どのソケットに対してイベントが発生したかは、<i>revents</i>にSCE_NET_ADHOC_EV_ALERTもしくはSCE_NET_ADHOC_EV_DELETEのフラグを見て調べることができます。<br><br></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-Japanese.htm#SceNetAdhocPollSd">SceNetAdhocPollSd</a><br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocSetSocketAlert"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocSetSocketAlert<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>アラート状態の設定<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocSetSocketAlert</b>(
	int <i>id</i>,
	int <i>flag</i>
);

</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し不可<br>スレッドから呼び出し可能(割り込み許可状態で呼ぶこと)<br>マルチスレッドセーフである<br><br></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>id</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ソケットID&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>flag</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;アラート設定オプション&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">正常終了の場合、0を返します。<br>エラーがあった場合、以下のいずれかのエラーコードを返します。<br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_NOT_INITIALIZED">SCE_ERROR_NET_ADHOC_NOT_INITIALIZED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID">SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID</a><br><br></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">ソケットに対してアラート状態を設定します。アラート設定オプションで設定したい呼び出しの種類を指定します。設定された呼び出しに対しては、アラート状態を解除するまでエラー(<a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_SOCKET_ALERTED">SCE_ERROR_NET_ADHOC_SOCKET_ALERTED</a>)が返されます。<br>またブロックしていた呼び出しは、ブロック解除されます。<br><i>flag</i>の種類は、以下の通りです。<br><br></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<i><b>flag</b></i>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>説明</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_ALERTSEND&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;送信&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_ALERTRECV&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;受信&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_ALERTCONNECT&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;コネクション確立(アクティブオープン)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_ALERTACCEPT&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;コネクション確立(パッシブオープン)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_ALERTFLUSH&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;送信完了&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_ALERTPOLL&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ポーリング&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_ALERTALL&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;すべて&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>int ret, id;

// ソケット id に対して全てのアラートフラグを立てる
ret = sceNetAdhocSetSocketAlert(id, SCE_NET_ADHOC_F_ALERTALL);
if (ret &lt; 0) {
	// エラー処理
}

</font></pre></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-Japanese.htm#sceNetAdhocGetSocketAlert">sceNetAdhocGetSocketAlert</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNetAdhocGetSocketAlert"></a>
<table width="100%"><td width="70%"><font size=6>sceNetAdhocGetSocketAlert<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>アラート状態の取得<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;pspnet_adhoc.h&gt;

int <b>sceNetAdhocGetSocketAlert</b>(
	int <i>id</i>,
	int *<i>flag</i>
);

</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し不可<br>スレッドから呼び出し可能(割り込み許可状態で呼ぶこと)<br>マルチスレッドセーフである<br><br></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>id</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ソケットID&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>flag</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;アラート設定オプション&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">正常終了の場合、0を返します。<br>エラーがあった場合、以下のいずれかのエラーコードを返します。<br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_ARG">SCE_ERROR_NET_ADHOC_INVALID_ARG</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_NOT_INITIALIZED">SCE_ERROR_NET_ADHOC_NOT_INITIALIZED</a><br><a href="../network/PSPNET_Error-Reference-Japanese.htm#SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID">SCE_ERROR_NET_ADHOC_INVALID_SOCKET_ID</a><br><br></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">ソケットに対して設定されたアラート状態を取得します。<br><i>flag</i>の種類は、以下の通りです。<br><br></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<i><b>flag</b></i>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>説明</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_ALERTSEND&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;送信&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_ALERTRECV&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;受信&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_ALERTCONNECT&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;コネクション確立(アクティブオープン)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_ALERTACCEPT&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;コネクション確立(パッシブオープン)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_ALERTFLUSH&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;送信完了&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_NET_ADHOC_F_ALERTPOLL&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ポーリング&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>int ret, id, flag;

// ソケット id のアラートフラグを flag に格納する
ret = sceNetAdhocGetSocketAlert(id, &amp;flag);
if (ret &lt; 0) {
	// エラー処理
}

</font></pre></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/PSPNET_Adhoc-Reference-Japanese.htm#sceNetAdhocSetSocketAlert">sceNetAdhocSetSocketAlert</a>()<br><br></div>
<p><p><hr>
<div ALIGN="right">
    &copy;2009 Sony Computer Entertainment Inc.  All Rights Reserved.<br>
    SCE CONFIDENTIAL
</div>
</body>
</html>
