<html lang="jp">
<head>
<title>NP_Auth-Reference</title>
<meta http-equiv="Content-Type" content= text/html; charset=Shift_JIS>
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta http-equiv="Content-Style-Type" content="Text/css>
<meta name="Author"Content=" Sony Computer Entertainment Inc.">
</head>
<body bgcolor="#ffffff" text="#000000" >
<a name=TOP></a>
<table WIDTH="100%">
<tr><td>
<h3>PSP&reg; Programmer Tool Runtime Library Release 6.6.0</h3>
</td>
</tr>
</table>
<hr noshade size=6>
<center><h1>
np_authライブラリリファレンス
</h1></center>
</a>
<!-- sce_hd1 -->
<div style="margin-left:50px;"><br></div>

<!-- sce_hd2 -->
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="SceNpTicketVersion"></a>
<table width="100%"><td width="70%"><font size=6>SceNpTicketVersion<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[構造体]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>チケットバージョン<br></div><br>

<!-- 構造 -->
<div style="margin-left:10px;"><b>構造</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;np_auth.h&gt;

typedef struct <b>SceNpTicketVersion</b> {
	unsigned short <i>major</i>;
	unsigned short <i>minor</i>;
} SceNpTicketVersion;

</font></pre></div>

<!-- メンバ -->
<div style="margin-left:10px;"><b>メンバ</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>major</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;メジャーバージョン&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>minor</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;マイナーバージョン&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">チケットバージョンを表す構造体です。<br>現在利用可能なチケットバージョンは、以下のとおりです。<br><br></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td rowspan= 2  bgcolor="#cccccc" valign="top">&nbsp;<b>チケットバージョン</b>&nbsp;</td>
<td colspan= 2  bgcolor="#cccccc" valign="top">&nbsp;<i><b>version</i>に指定する値</b>&nbsp;</td>
</tr>
<tr>
<td bgcolor="#cccccc" valign="top">&nbsp;<b>メジャーバージョン&nbsp;<br>&nbsp;(<i>version</i>.<i>major</i>)</b>&nbsp;</td>
<td bgcolor="#cccccc" valign="top">&nbsp;<b>マイナーバージョン&nbsp;<br>&nbsp;(<i>version</i>.<i>minor</i>)</b>&nbsp;</td>
</tr>
<tr>
<td valign="top">&nbsp;2.1&nbsp;</td>
<td valign="top">&nbsp;2&nbsp;</td>
<td valign="top">&nbsp;1&nbsp;</td>
</tr>
<tr>
<td valign="top">&nbsp;3.0&nbsp;</td>
<td valign="top">&nbsp;3&nbsp;</td>
<td valign="top">&nbsp;0&nbsp;</td>
</tr></table>
</div>
<br>
<br>
<div style="margin-left:50px;">チケットバージョンによって、NPサーバーから発行されるチケットデータの内容が若干異なります。現在定義されている主な差異としては、バージョン3.0未満のチケットは生年月日データを含まず、バージョン3.0以上のチケットは生年月日データを含んでいることが挙げられます。<br><br></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/NP_Auth-Reference-Japanese.htm#sceNpAuthCreateStartRequest">sceNpAuthCreateStartRequest</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="SceNpAuthRequestParameter"></a>
<table width="100%"><td width="70%"><font size=6>SceNpAuthRequestParameter<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[構造体]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>チケットリクエストパラメータ<br></div><br>

<!-- 構造 -->
<div style="margin-left:10px;"><b>構造</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;np_auth.h&gt;

#define SCE_NP_AUTH_LATEST_TICKET_VERSION_MAJOR     3
#define SCE_NP_AUTH_LATEST_TICKET_VERSION_MINOR     0
typedef struct <b>SceNpAuthRequestParameter</b> {
	SceSize <i>size</i>;
	<a href="../network/NP_Auth-Reference-Japanese.htm#SceNpTicketVersion">SceNpTicketVersion</a> <i>version</i>;
	const char *<i>serviceId</i>;
	const void *<i>cookie</i>;
	SceSize <i>cookieSize</i>;
	const char *<i>entitlementId</i>;
	<a href="../kernel/Types-Reference-Japanese.htm#SceUInt32">SceUInt32</a> <i>consumeCount</i>;
	int (*<i>ticketCb</i>)(SceNpAuthRequestId, int, void *);
	void *<i>cbArg</i>;
} SceNpAuthRequestParameter;

</font></pre></div>

<!-- メンバ -->
<div style="margin-left:10px;"><b>メンバ</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>size</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;SceNpAuthRequestParameter構造体のサイズ（必須）&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>version</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;チケットバージョン（必須）&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>serviceId</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;サービスID（必須）&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>cookie</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;クッキー（オプション）&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>cookieSize</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;クッキーサイズ（オプション）&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>entitlementId</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;消費処理を行うためのエンタイトルメントID（オプション）&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>consumeCount</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;消費カウント（オプション）&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>ticketCb</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;チケット取得コールバック（必須）&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>cbArg</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ユーザ指定コールバック引数（オプション）&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">取得するチケットのパラメータを指定する構造体です。<br>（必須）の項目は必ず意味のある値を指定してください。（オプション）の項目は、必要としない場合は、0かNULLを指定してください。<br><br><i>version</i>には、取得したいチケットのバージョンを指定してください。<br><br><i>cookie</i>および<i>cookieSize</i>は、チケットに追加するデータ（Cookie）を指定するためのメンバです。1024バイトまでの任意のバイナリフォーマットのデータを指定すると、そのデータがNPサーバーから発行されるチケットにCookieとして含まれるようになります。Cookieは、チケットを外部サーバーに送って使用する場合に、アプリケーションと外部サーバーとのセッション管理など任意の目的で利用することができます。<br>Cookieを必要としないときは、<i>cookie</i>にはNULL、<i>cookieSize</i>には0を指定してください。<br><br><i>entitlementId</i>および<i>consumedCount</i>は、使用可能回数を設定してあるサービスエンタイトルメントを消費するためのメンバです。これらを指定すると、NPサーバーでは指定されたサービスエンタイトルメントの使用可能回数を調べ、<i>consumedCount</i>以上の使用可能回数が残っていればその分だけ減算して、減算後の状態を表すチケットを発行します。<br>サービスエンタイトルメントを消費する必要のないときは、<i>entitlementId</i>にはNULL、<i>consumedCount</i>には0を指定してください。<br><br></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/NP_Auth-Reference-Japanese.htm#sceNpAuthCreateStartRequest">sceNpAuthCreateStartRequest</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="SceNpEntitlementId"></a>
<table width="100%"><td width="70%"><font size=6>SceNpEntitlementId<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[構造体]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>エンタイトルメントID（固定長）<br></div><br>

<!-- 構造 -->
<div style="margin-left:10px;"><b>構造</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;np_auth.h&gt;

#define SCE_NP_ENTITLEMENT_ID_SIZE      (32)
typedef struct <b>SceNpEntitlementId </b>{
	unsigned char <i>data</i>[SCE_NP_ENTITLEMENT_ID_SIZE];
} SceNpEntitlementId;

</font></pre></div>

<!-- メンバ -->
<div style="margin-left:10px;"><b>メンバ</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>data</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;エンタイトルメントID文字列データ&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/NP_Auth-Reference-Japanese.htm#sceNpAuthGetEntitlementIdList">sceNpAuthGetEntitlementIdList</a>()でエンタイトルメントIDリストを取得するときに用いる固定長の構造体です。<i>data</i>はNULLターミネートされて渡されます。<br><br></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/NP_Auth-Reference-Japanese.htm#sceNpAuthGetEntitlementIdList">sceNpAuthGetEntitlementIdList</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="SceNpEntitlement"></a>
<table width="100%"><td width="70%"><font size=6>SceNpEntitlement<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[構造体]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>エンタイトルメント情報<br></div><br>

<!-- 構造 -->
<div style="margin-left:10px;"><b>構造</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;np_auth.h&gt;

typedef struct <b>SceNpEntitlement </b>{
	<a href="../network/NP_Auth-Reference-Japanese.htm#SceNpEntitlementId">SceNpEntitlementId</a> <i>id</i>;
	<a href="../network/NP_Auth-Reference-Japanese.htm#SceNpTime">SceNpTime</a> <i>created_date</i>;
	<a href="../network/NP_Auth-Reference-Japanese.htm#SceNpTime">SceNpTime</a> <i>expire_date</i>;
	<a href="../kernel/Types-Reference-Japanese.htm#SceUInt32">SceUInt32</a> <i>type</i>;
	<a href="../kernel/Types-Reference-Japanese.htm#SceInt32">SceInt32</a> <i>remaining_count</i>;  /* may be negative */
	<a href="../kernel/Types-Reference-Japanese.htm#SceUInt32">SceUInt32</a> <i>consumed_count</i>;
	char <i>padding</i>[4];
} SceNpEntitlement;

</font></pre></div>

<!-- メンバ -->
<div style="margin-left:10px;"><b>メンバ</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>id</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;エンタイトルメントID&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>created_date</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;エンタイトルメント作成時間&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>expire_date</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;エンタイトルメント終了時間&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>type</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;エンタイトルメントタイプ&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>remaining_count</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;消費型エンタイトルメントの残数&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>consumed_count</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;消費型エンタイトルメントの使用累積数&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>padding</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;パディング&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<div style="margin-left:50px;"><i>type</i>には、次のいずれかの値が入ります。<br><br></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>マクロ</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>値</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>説明</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a href="../network/NP_Auth-Reference-Japanese.htm#SCE_NP_ENTITLEMENT_TYPE_NON_CONSUMABLE">SCE_NP_ENTITLEMENT_TYPE_NON_CONSUMABLE</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;通常型あるいは有効期間型の&nbsp;&nbsp;<br>&nbsp;&nbsp;エンタイトルメント&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a href="../network/NP_Auth-Reference-Japanese.htm#SCE_NP_ENTITLEMENT_TYPE_CONSUMABLE">SCE_NP_ENTITLEMENT_TYPE_CONSUMABLE</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;1&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;消費型（有効回数型）&nbsp;&nbsp;<br>&nbsp;&nbsp;エンタイトルメント&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/NP_Auth-Reference-Japanese.htm#sceNpAuthGetEntitlementById">sceNpAuthGetEntitlementById</a>()によって取得するエンタイトルメント情報を保持する構造体です。<br>有効期間型のエンタイトルメントは、有効期間の終了と同時に権利が消滅して、エンタイトルメントがチケットに含まれなくなります。<br>アプリケーションは、有効なチケットにエンタイトルメントが含まれているかどうかによって（<i>expire_date</i>によらずに）、ユーザがその権利を持っているかどうかを判定してください。<br><br></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/NP_Auth-Reference-Japanese.htm#sceNpAuthGetEntitlementById">sceNpAuthGetEntitlementById</a>()<br><br></div>

<!-- sce_hd2 -->
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="SCE_NP_TICKET_PARAM_x"></a>
<table width="100%"><td width="70%"><font size=6>SCE_NP_TICKET_PARAM_x<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[チケット処理定数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>チケットパラメータID<br></div><br>

<!-- 定義 -->
<div style="margin-left:10px;"><b>定義</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>マクロ</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>値</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>説明</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>データタイプ</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_TICKET_PARAM_SERIAL_ID">SCE_NP_TICKET_PARAM_SERIAL_ID</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;チケットシリアルID&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;バイナリ※&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_TICKET_PARAM_ISSUER_ID">SCE_NP_TICKET_PARAM_ISSUER_ID</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;1&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;チケット発行人ID&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;<a href="../kernel/Types-Reference-Japanese.htm#SceUInt32">SceUInt32</a>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_TICKET_PARAM_ISSUED_DATE">SCE_NP_TICKET_PARAM_ISSUED_DATE</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;2&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;チケット発行時間&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;<a href="../network/NP_Auth-Reference-Japanese.htm#SceNpTime">SceNpTime</a>※&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_TICKET_PARAM_EXPIRE_DATE">SCE_NP_TICKET_PARAM_EXPIRE_DATE</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;3&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;チケット終了時間&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;<a href="../network/NP_Auth-Reference-Japanese.htm#SceNpTime">SceNpTime</a>※&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_TICKET_PARAM_SUBJECT_ACCOUNT_ID">SCE_NP_TICKET_PARAM_SUBJECT_ACCOUNT_ID</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;4&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ユーザアカウントID&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;<a href="../kernel/Types-Reference-Japanese.htm#SceUInt64">SceUInt64</a>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_TICKET_PARAM_SUBJECT_ONLINE_ID">SCE_NP_TICKET_PARAM_SUBJECT_ONLINE_ID</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;5&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ユーザオンラインID&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;文字列※&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_TICKET_PARAM_SUBJECT_REGION">SCE_NP_TICKET_PARAM_SUBJECT_REGION</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;6&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ユーザリージョン&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;バイナリ※&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_TICKET_PARAM_SUBJECT_DOMAIN">SCE_NP_TICKET_PARAM_SUBJECT_DOMAIN</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;7&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ユーザドメイン&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;文字列※&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_TICKET_PARAM_SERVICE_ID">SCE_NP_TICKET_PARAM_SERVICE_ID</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;8&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;サービスID&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;文字列※&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_TICKET_PARAM_SUBJECT_STATUS">SCE_NP_TICKET_PARAM_SUBJECT_STATUS</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;9&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ユーザステータス&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;<a href="../kernel/Types-Reference-Japanese.htm#SceUInt32">SceUInt32</a>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_TICKET_PARAM_STATUS_DURATION">SCE_NP_TICKET_PARAM_STATUS_DURATION</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;10&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ユーザステータス&nbsp;&nbsp;<br>&nbsp;&nbsp;持続期間&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;<a href="../network/NP_Auth-Reference-Japanese.htm#SceNpTime">SceNpTime</a>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_TICKET_PARAM_SUBJECT_DOB">SCE_NP_TICKET_PARAM_SUBJECT_DOB</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;11&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;誕生日&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;<a href="../network/NP_Auth-Reference-Japanese.htm#SceNpDate">SceNpDate</a>&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>
<div style="margin-left:50px;"><pre><font size=3>※<a href="../network/NP_Auth-Reference-Japanese.htm#SCE_NP_TICKET_PARAM_SUBJECT_DOB">SCE_NP_TICKET_PARAM_SUBJECT_DOB</a>は、チケットバージョン3.0以降でのみ取得できます。

#include &lt;np_auth.h&gt;

typedef <a href="../kernel/Types-Reference-Japanese.htm#SceUInt64">SceUInt64</a> <a href="../network/NP_Auth-Reference-Japanese.htm#SceNpTime">SceNpTime</a>;	/* ミリ秒 */

/* バイナリあるいは文字列型のデータタイプの最大長 */
#define SCE_NP_TICKET_SERIAL_ID_SIZE		(20)	/* チケットシリアルID */
#define SCE_NET_NP_ONLINEID_MAX_LENGTH	(16)	/* ユーザオンラインID */
#define SCE_NP_SUBJECT_REGION_SIZE		(4)	/* ユーザリージョン */
#define SCE_NP_SUBJECT_DOMAIN_SIZE		(4)	/* ユーザドメイン */
#define SCE_NP_SERVICE_ID_SIZE		(24)	/* サービスID */

</font></pre></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">この定数は、<a href="../network/NP_Auth-Reference-Japanese.htm#sceNpAuthGetTicketParam">sceNpAuthGetTicketParam</a>()でチケットパラメータを取得するときに使用します。チケットパラメータの結果は、<a href="../network/NP_Auth-Reference-Japanese.htm#SceNpTicketParam">SceNpTicketParam</a>として返されます。ここで定義されたデータタイプとして正しく処理するようにしてください。<br>文字列型のデータタイプは、全てNULLターミネートされています。バイナリ型のデータタイプは、NULLターミネートされることは保証されません。<br><br></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/NP_Auth-Reference-Japanese.htm#sceNpAuthGetTicketParam">sceNpAuthGetTicketParam</a>(), <a href="../network/NP_Auth-Reference-Japanese.htm#SceNpTicketParam">SceNpTicketParam</a><br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="SCE_NP_ENTITLEMENT_TYPE_x"></a>
<table width="100%"><td width="70%"><font size=6>SCE_NP_ENTITLEMENT_TYPE_x<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[チケット処理定数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>エンタイトルメントタイプ定数<br></div><br>

<!-- 定義 -->
<div style="margin-left:10px;"><b>定義</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>マクロ</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>値</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>説明</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_ENTITLEMENT_TYPE_NON_CONSUMABLE">SCE_NP_ENTITLEMENT_TYPE_NON_CONSUMABLE</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;通常型あるいは有効期間型の&nbsp;&nbsp;<br>&nbsp;&nbsp;エンタイトルメント&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_ENTITLEMENT_TYPE_CONSUMABLE">SCE_NP_ENTITLEMENT_TYPE_CONSUMABLE</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;1&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;消費型（有効回数型）&nbsp;&nbsp;<br>&nbsp;&nbsp;エンタイトルメント&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">エンタイトルメントは上記の二種類に分けられます。<a href="../network/NP_Auth-Reference-Japanese.htm#SceNpEntitlement">SceNpEntitlement</a>構造体の<i>type</i>メンバにはここで定義された定数のいずれかが指定されます。<br><br></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/NP_Auth-Reference-Japanese.htm#SceNpEntitlement">SceNpEntitlement</a><br><br></div>

<!-- sce_hd2 -->
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="SceNpTime"></a>
<table width="100%"><td width="70%"><font size=6>SceNpTime<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[チケットデータタイプ]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>時刻情報<br></div><br>

<!-- 構造 -->
<div style="margin-left:10px;"><b>構造</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;np_auth.h&gt;

typedef <a href="../kernel/Types-Reference-Japanese.htm#SceUInt64">SceUInt64</a> <b>SceNpTime</b>;

</font></pre></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">1970年1月1日（GMT）からの累積ミリ秒で表した、POSIX time_t形式の時刻情報です。<br><br></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/NP_Auth-Reference-Japanese.htm#sceNpAuthGetTicketParam">sceNpAuthGetTicketParam</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="SceNpDate"></a>
<table width="100%"><td width="70%"><font size=6>SceNpDate<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[チケットデータタイプ]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>日付情報<br></div><br>

<!-- 構造 -->
<div style="margin-left:10px;"><b>構造</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;np_auth.h&gt;

typedef struct <b>SceNpDate</b> {
	<a href="../kernel/Types-Reference-Japanese.htm#SceUShort16">SceUShort16</a> <i>year</i>;
	<a href="../kernel/Types-Reference-Japanese.htm#SceUChar8">SceUChar8</a> <i>month</i>;
	<a href="../kernel/Types-Reference-Japanese.htm#SceUChar8">SceUChar8</a> <i>day</i>;
} SceNpDate;

</font></pre></div>

<!-- メンバ -->
<div style="margin-left:10px;"><b>メンバ</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>year</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;年 (西暦4桁)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>month</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;月 (1 - 12)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>day</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;日 (1 - 31)&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">日付情報を格納する構造体です。<br><br></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/NP_Auth-Reference-Japanese.htm#sceNpAuthGetTicketParam">sceNpAuthGetTicketParam</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="SceNpTicketParam"></a>
<table width="100%"><td width="70%"><font size=6>SceNpTicketParam<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[チケットデータタイプ]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>チケットパラメータデータ<br></div><br>

<!-- 構造 -->
<div style="margin-left:10px;"><b>構造</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;np_auth.h&gt;

#define SCE_NP_TICKET_PARAM_DATA_LEN    (256)
union <b>SceNpTicketParam</b>{
	<a href="../kernel/Types-Reference-Japanese.htm#SceInt32">SceInt32</a> <i>i32</i>;
	<a href="../kernel/Types-Reference-Japanese.htm#SceInt64">SceInt64</a> <i>i64</i>;
	<a href="../kernel/Types-Reference-Japanese.htm#SceUInt32">SceUInt32</a> <i>u32</i>;
	<a href="../kernel/Types-Reference-Japanese.htm#SceUInt64">SceUInt64</a> <i>u64</i>;
	<a href="../network/NP_Auth-Reference-Japanese.htm#SceNpDate">SceNpDate</a> <i>date</i>;
	<a href="../kernel/Types-Reference-Japanese.htm#SceUChar8">SceUChar8</a> <i>data</i>[SCE_NP_TICKET_PARAM_DATA_LEN];
};

</font></pre></div>

<!-- メンバ -->
<div style="margin-left:10px;"><b>メンバ</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>i32</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Signed 32-bit integer型&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>i64</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Signed 64-bit integer型&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>u32</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Unsigned 32-bit integer型&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>u64</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Unsigned 64-bit integer型&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>date</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;<a href="../network/NP_Auth-Reference-Japanese.htm#SceNpDate">SceNpDate</a>型&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>data</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;バイナリデータまたは文字列型&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/NP_Auth-Reference-Japanese.htm#sceNpAuthGetTicketParam">sceNpAuthGetTicketParam</a>()でチケットパラメータを取得する際に使用する共用体です。チケットパラメータはそれぞれのデータタイプに応じたメンバに格納されますので、適切なメンバから値を読み取ってください。<br><br>文字列型のチケットパラメータはすべてNULLターミネートされます。バイナリ型のチケットパラメータはNULLターミネートされることは保証されません。<br><br></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/NP_Auth-Reference-Japanese.htm#sceNpAuthGetTicketParam">sceNpAuthGetTicketParam</a>(), <a href="../network/NP_Auth-Reference-Japanese.htm#SCE_NP_TICKET_PARAM_x">SCE_NP_TICKET_PARAM_x</a><br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="チケットパラメータパースマクロ"></a>
<table width="100%"><td width="70%"><font size=6>チケットパラメータパースマクロ<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[チケットデータタイプ]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>チケットパラメータパースマクロ<br></div><br>

<!-- 定義 -->
<div style="margin-left:10px;"><b>定義</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;np_auth.h&gt;

#define <b>SCE_NP_SUBJECT_ONLINE_ID_GET_ONLINE_ID</b>(raw, onlineid) do { \
	memcpy((onlineid)-&gt;data, (raw), SCE_NET_NP_ONLINEID_MAX_LENGTH); \
	(onlineid)-&gt;term = '\0'; \
	} while (0)

#define <b>SCE_NP_SUBJECT_STATUS_GET_AGE</b>(u32)		(((u32)&gt;&gt;24)&amp;0x7f)
#define <b>SCE_NP_SUBJECT_STATUS_IS_SUSPENDED</b>(u32)		((u32)&amp;0x80)
#define <b>SCE_NP_SUBJECT_STATUS_IS_CHAT_DISABLED</b>(u32)	((u32)&amp;0x100)
#define <b>SCE_NP_SUBJECT_STATUS_CONTENT_RATING</b>(u32)  	((u32)&amp;0x200)

#define <b>SCE_NP_SUBJECT_REGION_GET_COUNTRY_CODE</b>(raw, cc) do { \
	(cc)-&gt;data[0] = *((char *)(raw)); \
	(cc)-&gt;data[1] = *((char *)(raw)+1); \
	(cc)-&gt;term = '\0'; \
	} while (0)

#define <b>SCE_NP_SUBJECT_REGION_GET_LANGUAGE_CODE</b>(raw) (*((<a href="../kernel/Types-Reference-Japanese.htm#SceUChar8">SceUChar8</a> *)(raw)+3))

</font></pre></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/NP_Auth-Reference-Japanese.htm#sceNpAuthGetTicketParam">sceNpAuthGetTicketParam</a>()で取得したチケットパラメータをパースするためのマクロです。<br></div>

<!-- sce_hd6 -->
<a name="Heading6_3_1">
<div style="margin-left:50px;"><h4><b>SCE_NP_SUBJECT_ONLINE_ID_GET_ONLINE_ID(<i>raw</i>, <i>onlineid</i>)</b><br><br></h4></a></div>
<div style="margin-left:70px;"><a href="../network/NP_Auth-Reference-Japanese.htm#SCE_NP_TICKET_PARAM_SUBJECT_ONLINE_ID">SCE_NP_TICKET_PARAM_SUBJECT_ONLINE_ID</a>で取得したオンラインID文字列を<i>raw</i>に、<a href="../network/NP_Common-Reference-Japanese.htm#SceNpOnlineId">SceNpOnlineId</a>構造体のポインタを<i>onlineid</i>に、それぞれ指定してください。<i>onlineid</i>に適切な値が返ります。<br></div>

<!-- sce_hd6 -->
<a name="Heading6_3_2">
<div style="margin-left:50px;"><h4><b>SCE_NP_SUBJECT_STATUS_GET_AGE(<i>u32</i>)</b><br><br></h4></a></div>
<div style="margin-left:70px;"><a href="../network/NP_Auth-Reference-Japanese.htm#SCE_NP_TICKET_PARAM_SUBJECT_STATUS">SCE_NP_TICKET_PARAM_SUBJECT_STATUS</a>で取得したユーザステータスを引数に指定してください。ユーザの年齢を取得します。<br>注）年齢がインクリメントされるタイミングはGMTに基づいています。例えば、タイムゾーンがGMT+9で誕生日に年齢を加算する慣習のある国・地域では、誕生日の日付に変わってから9時間後に年齢がインクリメントされます。<br></div>

<!-- sce_hd6 -->
<a name="Heading6_3_3">
<div style="margin-left:50px;"><h4><b>SCE_NP_SUBJECT_STATUS_IS_SUSPENDED(<i>u32</i>)</b><br><br></h4></a></div>
<div style="margin-left:70px;"><a href="../network/NP_Auth-Reference-Japanese.htm#SCE_NP_TICKET_PARAM_SUBJECT_STATUS">SCE_NP_TICKET_PARAM_SUBJECT_STATUS</a>で取得したユーザステータスを引数に指定してください。NPサービスの利用が一時停止されているか否かを表すフラグを取得します。<br></div>

<!-- sce_hd6 -->
<a name="Heading6_3_4">
<div style="margin-left:50px;"><h4><b>SCE_NP_SUBJECT_STATUS_IS_CHAT_DISABLED(<i>u32</i>)</b><br><br></h4></a></div>
<div style="margin-left:70px;"><a href="../network/NP_Auth-Reference-Japanese.htm#SCE_NP_TICKET_PARAM_SUBJECT_STATUS">SCE_NP_TICKET_PARAM_SUBJECT_STATUS</a>で取得したユーザステータスを引数に指定してください。マスターアカウントによりチャット機能が利用禁止になっているか否かを表すフラグを取得します。<br></div>

<!-- sce_hd6 -->
<a name="Heading6_3_5">
<div style="margin-left:50px;"><h4><b>SCE_NP_SUBJECT_STATUS_CONTENT_RATING(<i>u32</i>)</b><br><br></h4></a></div>
<div style="margin-left:70px;"><a href="../network/NP_Auth-Reference-Japanese.htm#SCE_NP_TICKET_PARAM_SUBJECT_STATUS">SCE_NP_TICKET_PARAM_SUBJECT_STATUS</a>で取得したユーザステータスを引数に指定してください。ユーザの年齢とコンテンツのレーティングによって視聴制限を行う必要があるか否かを表すフラグを取得します。<br></div>

<!-- sce_hd6 -->
<a name="Heading6_3_6">
<div style="margin-left:50px;"><h4><b>SCE_NP_SUBJECT_REGION_GET_COUNTRY_CODE(<i>raw</i>, <i>cc</i>)</b><br><br></h4></a></div>
<div style="margin-left:70px;"><a href="../network/NP_Auth-Reference-Japanese.htm#SCE_NP_TICKET_PARAM_SUBJECT_REGION">SCE_NP_TICKET_PARAM_SUBJECT_REGION</a>で取得したユーザリージョンを<i>raw</i>に、<a href="../network/NP_Common-Reference-Japanese.htm#SceNpCountryCode">SceNpCountryCode</a>構造体のポインタを<i>cc</i>に、それぞれ指定してください。ユーザの住む国・地域コードとして<i>cc</i>に適切な値が返ります。<br></div>

<!-- sce_hd6 -->
<a name="Heading6_3_7">
<div style="margin-left:50px;"><h4><b>SCE_NP_SUBJECT_REGION_GET_LANGUAGE_CODE(<i>raw</i>)</b><br><br></h4></a></div>
<div style="margin-left:70px;"><a href="../network/NP_Auth-Reference-Japanese.htm#SCE_NP_TICKET_PARAM_SUBJECT_REGION">SCE_NP_TICKET_PARAM_SUBJECT_REGION</a>で取得したユーザリージョンを引数に指定してください。表示メッセージのロケールを取得できます。この値は、ユーティリティサービスでSCE_UTILITY_LANG_xxxとして定義されています。<br></div>
<div style="margin-left:50px;"><br></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/NP_Auth-Reference-Japanese.htm#sceNpAuthGetTicketParam">sceNpAuthGetTicketParam</a>(), <a href="../network/NP_Auth-Reference-Japanese.htm#SCE_NP_TICKET_PARAM_x">SCE_NP_TICKET_PARAM_x</a><br><br></div>

<!-- sce_hd2 -->
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="npauthhandler"></a>
<table width="100%"><td width="70%"><font size=6>npauthhandler<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>イベントハンドラのプロトタイプ<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;np_auth.h&gt;

int <b>npauthhandler</b>(
	SceNpAuthRequestId <i>id</i>,
	int <i>result</i>,
	void *<i>arg</i>
);

</font></pre></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>id</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;リクエストID&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>result</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;取得結果（0は指定されません。必ず正の値か負の値になります）&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>arg</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;<a href="../network/NP_Auth-Reference-Japanese.htm#sceNpAuthCreateStartRequest">sceNpAuthCreateStartRequest</a>()で指定された<i>param-&gt;arg</i>が渡されます。&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/NP_Auth-Reference-Japanese.htm#sceNpAuthCreateStartRequest">sceNpAuthCreateStartRequest</a>()の結果を取得するためのイベントハンドラで、内部スレッドから呼び出されます。gpの値は、設定されたイベントハンドラが存在するモジュールのgpの値にセットされます。<br>チケット取得の結果は<i>result</i>で渡されます。チケットのリクエストが成功した場合、<i>result</i>にチケットのサイズを表す正の値がByte単位で渡されます。失敗した場合、エラーコードを表す負の値が渡されます。<br><i>result</i>に正の値が指定された場合は、本APIの中で<a href="../network/NP_Auth-Reference-Japanese.htm#sceNpAuthGetTicket">sceNpAuthGetTicket</a>()を呼び出して、チケットを取得することができます。<br><i>result</i>が負の値だった場合は、即座に本APIを終了させてください。<br>どちらの場合も、戻り値は常に0を指定してください。<br><br></div>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>static unsigned char *ticket=NULL;	//チケットを収めるバッファ
static int ticket_len = 0;		//チケットサイズ
static int auth_result=0;		//コールバックのresult

int
npauthhandler(SceNpAuthRequestId id, int result, void *arg)
{
	int ret = 0;
	(void)arg;

	//エラーが発生した場合、resultは負の値になります。
	if (result &lt; 0) {
		auth_result = result;
		return 0;
	}
	
	//チケットを取得します。
	ticket_len = result;
	ticket = (unsigned char *)malloc(result);
	if (ticket == NULL) {
		auth_result = -1;
		return 0;
	}
	auth_result = <a href="../network/NP_Auth-Reference-Japanese.htm#sceNpAuthGetTicket">sceNpAuthGetTicket</a>(id, ticket, result);

	return 0;
}

</font></pre></div>

<!-- 備考 -->
<div style="margin-left:10px;"><b>備考</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">イベントハンドラ関数内とNPライブラリのAPIを呼び出すスレッドで、同一資源に対する待ち合わせ（同一セマフォに対する<a href="../kernel/Thread_Manager-Reference-Japanese.htm#sceKernelWaitSema">sceKernelWaitSema</a>()など）を行なわないようにしてください。NPライブラリAPIを呼び出したスレッドとNP認証ライブラリの内部スレッドがデッドロック状態に陥る可能性があります。<br><br></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/NP_Auth-Reference-Japanese.htm#SceNpAuthRequestParameter">SceNpAuthRequestParameter</a>, <a href="../network/NP_Auth-Reference-Japanese.htm#sceNpAuthCreateStartRequest">sceNpAuthCreateStartRequest</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNpAuthInit"></a>
<table width="100%"><td width="70%"><font size=6>sceNpAuthInit<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>NP authライブラリ初期化<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;np_auth.h&gt;

#define SCE_NP_AUTH_INTERNAL_THREAD_LEAST_STACK_SIZE (14 * 1024)
int <b>sceNpAuthInit</b>(
	SceSize <i>poolsize</i>,
	SceSize <i>stacksize</i>,
	int <i>thprio</i>
);

</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し不可<br>スレッドから呼び出し可能(割り込み許可状態で呼ぶこと)<br>マルチスレッドセーフでない<br><br></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>poolsize</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;authライブラリ内で使用するメモリプールサイズ&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>stacksize</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;内部スレッドのスタックサイズ&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>thprio</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;内部スレッドの優先度&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">正常終了の場合、0を返します。<br>エラーがあった場合、エラーコードを返します。<br><br></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">NP authライブラリの初期化を行います。<br>呼び出しに成功すると内部スレッドが作成され、チケットリクエストの処理を実行できるようになります。<i>stacksize</i>にはSCE_NP_AUTH_INTERNAL_THREAD_LEAST_STACK_SIZEと<a href="../network/NP_Auth-Reference-Japanese.htm#sceNpAuthCreateStartRequest">sceNpAuthCreateStartRequest</a>()で指定するコールバックで使用するスタックサイズの合計を指定してください。<br><br></div>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>#include &lt;np_auth.h&gt;

#define NP_AUTH_POOLSIZE              	1024
#define NP_AUTH_CALLBACK_STACK_SIZE  	(1 * 1024)
#define NP_AUTH_PRIO                    	42
int ret;

ret = sceNpAuthInit(
	NP_AUTH_POOLSIZE,
	SCE_NP_AUTH_INTERNAL_THREAD_LEAST_STACK_SIZE
		+ NP_AUTH_CALLBACK_STACK_SIZE,
	NP_AUTH_PRIO);
if(ret &lt; 0){
	// エラー処理
}

</font></pre></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/NP_Auth-Reference-Japanese.htm#sceNpAuthTerm">sceNpAuthTerm</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNpAuthTerm"></a>
<table width="100%"><td width="70%"><font size=6>sceNpAuthTerm<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>NP authライブラリの終了処理<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;np_auth.h&gt;

void <b>sceNpAuthTerm</b>(
	void
);
</font></pre></div>
<br>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し不可<br>スレッドから呼び出し可能(割り込み許可状態で呼ぶこと)<br>マルチスレッドセーフでない<br><br></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">なし<br><br></div>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">なし<br><br></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">NP authライブラリの終了処理を行います。<br></div>
<br>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>sceNpAuthTerm();

</font></pre></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/NP_Auth-Reference-Japanese.htm#sceNpAuthInit">sceNpAuthInit</a>()<br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNpAuthCreateStartRequest"></a>
<table width="100%"><td width="70%"><font size=6>sceNpAuthCreateStartRequest<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>チケット要求処理の開始<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;np_auth.h&gt;

int <b>sceNpAuthCreateStartRequest</b>(
	const <a href="../network/NP_Auth-Reference-Japanese.htm#SceNpAuthRequestParameter">SceNpAuthRequestParameter</a> *<i>param</i>
);

</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し不可<br>スレッドから呼び出し可能(割り込み許可状態で呼ぶこと)<br>マルチスレッドセーフである<br><br></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>param</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;チケット取得パラメータ&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">正常終了の場合、0より大きいSceNpAuthRequestIdを返します。<br>エラーがあった場合、エラーコードを返します。<br><br></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">チケット取得の処理を開始するためのAPIです。<i>param</i>で指定が必須となっている項目に値を設定して呼び出してください。オプションの項目については、使用しない場合は必ず0あるいはNULLを指定してください。<br>本APIは成功、失敗に関わらず即座に戻ります。リクエストがサーバーで承認された場合、<i>param-&gt;ticketCb</i>にチケットサイズが渡されます。<br><br></div>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>#define AUTH_SERVICE_ID &quot;XXX-XXXXX-XX&quot;
void
authCallback(SceNpAuthRequestId id, int result, void *arg)
{
	(略)
}

<a href="../network/NP_Auth-Reference-Japanese.htm#SceNpAuthRequestParameter">SceNpAuthRequestParameter</a> param;
SceNpAuthRequestId id;

memset(&amp;param, 0x00, sizeof(<a href="../network/NP_Auth-Reference-Japanese.htm#SceNpAuthRequestParameter">SceNpAuthRequestParameter</a>));

param.size = sizeof(<a href="../network/NP_Auth-Reference-Japanese.htm#SceNpAuthRequestParameter">SceNpAuthRequestParameter</a>);
param.version.major = SCE_NP_AUTH_LATEST_TICKET_VERSION_MAJOR;
param.version.minor = SCE_NP_AUTH_LATEST_TICKET_VERSION_MINOR;
param.serviceId = AUTH_SERVICE_ID;
param.ticketCb = authCallback;
param.cbArg = NULL;

ret = sceNpAuthCreateStartRequest(&amp;param);
if (ret &lt; 0){
	// エラー処理
} else {
	id = ret;
}

</font></pre></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/NP_Auth-Reference-Japanese.htm#sceNpAuthDestroyRequest">sceNpAuthDestroyRequest</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNpAuthDestroyRequest"></a>
<table width="100%"><td width="70%"><font size=6>sceNpAuthDestroyRequest<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>チケット要求処理の削除<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;np_auth.h&gt;

int <b>sceNpAuthDestroyRequest</b>(
	SceNpAuthRequestId <i>id</i>
);

</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し不可<br>スレッドから呼び出し可能(割り込み許可状態で呼ぶこと)<br>マルチスレッドセーフである<br><br></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>id</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;リクエストID&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">正常終了の場合、0を返します。<br>エラーがあった場合、エラーコードを返します。<br><br></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><i>id</i>で指定されたチケット取得のリクエストを削除してリソースを開放します。指定するリクエストが処理中であった場合、本APIは<a href="../network/NP_Auth-Reference-Japanese.htm#SCE_NP_AUTH_ERROR_EBUSY">SCE_NP_AUTH_ERROR_EBUSY</a>のエラーを返します。<br><br></div>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>SceNpAuthRequestId id;

ret = sceNpAuthDestroyRequest(id);
if (ret &lt; 0){
	// エラー処理
}

</font></pre></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/NP_Auth-Reference-Japanese.htm#sceNpAuthCreateStartRequest">sceNpAuthCreateStartRequest</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNpAuthAbortRequest"></a>
<table width="100%"><td width="70%"><font size=6>sceNpAuthAbortRequest<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>チケット要求処理の中断<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;np_auth.h&gt;

int <b>sceNpAuthAbortRequest</b>(
	SceNpAuthRequestId <i>id</i>
);

</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し不可<br>スレッドから呼び出し可能(割り込み許可状態で呼ぶこと)<br>マルチスレッドセーフである<br><br></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>id</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;リクエストID&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">正常終了の場合、0を返します。<br>エラーがあった場合、エラーコードを返します。<br><br></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><i>id</i>で指定されたチケット取得のリクエストを中断します。指定するリクエストが処理中であった場合、<a href="../network/NP_Auth-Reference-Japanese.htm#sceNpAuthCreateStartRequest">sceNpAuthCreateStartRequest</a>()で指定したイベントハンドラの<i>result</i>引数にエラーが指定されます。<br><br></div>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>SceNpAuthRequestId id;

ret = sceNpAuthAbortRequest(id);
if (ret &lt; 0){
	// エラー処理
}

</font></pre></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/NP_Auth-Reference-Japanese.htm#sceNpAuthCreateStartRequest">sceNpAuthCreateStartRequest</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNpAuthGetTicket"></a>
<table width="100%"><td width="70%"><font size=6>sceNpAuthGetTicket<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>チケット取得<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;np_auth.h&gt;

int <b>sceNpAuthGetTicket</b>(
	SceNpAuthRequestId <i>id</i>,
	void *<i>buf</i>,
	SceSize <i>len</i>
);

</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し不可<br>スレッドから呼び出し可能(割り込み許可状態で呼ぶこと)<br>マルチスレッドセーフでない<br><br></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>id</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;リクエストID&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>buf</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;チケットデータを収めるバッファ&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>len</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;コピーするチケットサイズの指定&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">正常終了の場合、取得したチケットサイズを返します。<br>エラーがあった場合、エラーコードを返します。<br><br></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">NPサーバーから受信してライブラリ内部に保持されているチケットデータをバイナリデータのまま取得する関数です。チケットを外部サーバに転送し、認証やサービスエンタイトルメントのチェックを外部サーバー上で行う場合に使用します。<br>本APIは必ず<a href="../network/NP_Auth-Reference-Japanese.htm#sceNpAuthCreateStartRequest">sceNpAuthCreateStartRequest</a>()で指定したイベントハンドラの中で呼び出すようにしてください。呼び出しに成功すると、<i>len</i>で指定されたサイズ分のチケットデータを<i>buf</i>にコピーします。<br><br></div>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3><a href="../network/NP_Auth-Reference-Japanese.htm#npauthhandler">npauthhandler</a>の項目を参照してください。

</font></pre></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/NP_Auth-Reference-Japanese.htm#npauthhandler">npauthhandler</a><br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNpAuthGetTicketParam"></a>
<table width="100%"><td width="70%"><font size=6>sceNpAuthGetTicketParam<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>チケットパラメータ取得<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;np_auth.h&gt;

int <b>sceNpAuthGetTicketParam</b>(
	const unsigned char *<i>ticket</i>,
	SceSize <i>ticketSize</i>,
	int <i>paramId</i>,
	union <a href="../network/NP_Auth-Reference-Japanese.htm#SceNpTicketParam">SceNpTicketParam</a> *<i>param</i>
);

</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し不可<br>スレッドから呼び出し可能(割り込み許可状態で呼ぶこと)<br>マルチスレッドセーフである<br><br></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>ticket</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;チケットデータへのポインタ&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>ticketSize</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;チケットデータサイズ&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>paramId</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;取得対象のチケットパラメータID&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>param</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;チケットパラメータ結果出力&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">正常終了の場合、0を返します。<br>エラーがあった場合、エラーコードを返します。<br><br></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><i>ticket</i>および<i>ticketSizeで</i>指定されたチケットデータから、<i>paramId</i>で示されるチケットパラメータを取得し、<i>param</i>に格納します。<br><br></div>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>unsigned char *ticket;
SceSize ticket_len:
union <a href="../network/NP_Auth-Reference-Japanese.htm#SceNpTicketParam">SceNpTicketParam</a> p;

// ticket, ticket_len で示されるバッファにチケットを取得済みとする

ret = sceNpAuthGetTicketParam(ticket, ticket_len, <a href="../network/NP_Auth-Reference-Japanese.htm#SCE_NP_TICKET_PARAM_SUBJECT_STATUS">SCE_NP_TICKET_PARAM_SUBJECT_STATUS</a>, &amp;p);
if (ret &lt; 0){
	// エラー処理
}

printf(&quot;Age: %u\n&quot;, SCE_NP_SUBJECT_STATUS_GET_AGE(p.u32));

</font></pre></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNpAuthGetEntitlementIdList"></a>
<table width="100%"><td width="70%"><font size=6>sceNpAuthGetEntitlementIdList<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>エンタイトルメントIDリスト取得<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;np_auth.h&gt;

int <b>sceNpAuthGetEntitlementIdList</b>(
	const unsigned char *<i>ticket</i>,
	SceSize <i>ticketSize</i>,
	<a href="../network/NP_Auth-Reference-Japanese.htm#SceNpEntitlementId">SceNpEntitlementId</a> *<i>entIdList</i>,
	SceSize <i>entIdListNum</i>
);

</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し不可<br>スレッドから呼び出し可能(割り込み許可状態で呼ぶこと)<br>マルチスレッドセーフである<br><br></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>ticket</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;チケットデータへのポインタ&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>ticketSize</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;チケットデータサイズ&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>entIdList</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;エンタイトルメントIDリストの結果出力先配列へのポインタ&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>entIdListNum</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;結果出力先のエンタイトルメントIDリスト配列の要素数&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">正常終了の場合、チケットに含まれているエンタイトルメントIDの数（0以上）を返します。エラーがあった場合、エラーコードを返します。<br><br></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><i>ticket</i>および<i>ticketSizeで</i>指定されたチケットに含まれているエンタイトルメントの数を数え、エンタイトルメントIDのリストを返します。<br><br>本関数は次のように2回続けて呼び出すのが典型的な使用方法です。<br>まず1回目は、<i>entIdList</i>にNULLを指定して呼び出してください。返り値はチケットに含まれるエンタイトルメントの総数を表すので、その個数以上の<a href="../network/NP_Auth-Reference-Japanese.htm#SceNpEntitlementId">SceNpEntitlementId</a>を格納できるバッファを用意してください。<br>2回目は、そのバッファのアドレスを<i>entIdList</i>に、そのバッファに格納できるエンタイトルメントIDの個数を<i>entIdListNum</i>に指定して呼び出してください。これで、チケットに含まれるすべてのエンタイトルメントIDがバッファに格納されます。<br><br>もし<i>entIdListNum</i>で指定した個数よりも多くのエンタイトルメントがチケットに含まれていた場合、指定した個数だけのエンタイトルメントIDがバッファに格納されます。<br></div>
<br>
<div style="margin-left:50px;">チケットに含まれるエンタイトルメントの最大数はチケットバージョン2.1では500個、チケットバージョン3.0では2500個です。<br></div>
<br>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>unsigned char *ticket;
SceSize ticket_len, entIdListNum:
<a href="../network/NP_Auth-Reference-Japanese.htm#SceNpEntitlementId">SceNpEntitlementId</a> *entIdList;

// ticket, ticket_len で示されるバッファにチケットを取得済みとする

// 第三引数に NULL を指定すると、エンタイトルメント数だけを返す
ret = sceNpAuthGetEntitlementIdList(ticket, ticket_len, NULL, 0);
if (ret &lt; 0){
	// エラー処理
}
entIdListNum = ret;

// entIdList に必要な領域を確保
entIdList = (<a href="../network/NP_Auth-Reference-Japanese.htm#SceNpEntitlementId">SceNpEntitlementId</a> *)malloc(entIdListNum * sizeof(<a href="../network/NP_Auth-Reference-Japanese.htm#SceNpEntitlementId">SceNpEntitlementId</a>));
if(entIdList == NULL){
	// エラー処理
}

// エンタイトルメントIDのリストを取得
ret = sceNpAuthGetEntitlementIdList(ticket, ticket_len, entIdList, entIdListNum);
if (ret &lt; 0){
	// エラー処理
}
</font></pre></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNpAuthGetEntitlementById"></a><a name="sceNpAuthCheckEntitlementById"></a>
<a name="sceNpAuthGetEntitlementById / sceNpAuthCheckEntitlementById"></a>
<table width="100%"><td width="70%"><font size=6>sceNpAuthGetEntitlementById / sceNpAuthCheckEntitlementById<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>エンタイトルメント情報取得<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;np_auth.h&gt;

int <b>sceNpAuthGetEntitlementById</b>(
	const unsigned char *<i>ticket</i>,
	SceSize <i>ticketSize</i>,
	const char *<i>entId</i>,
	<a href="../network/NP_Auth-Reference-Japanese.htm#SceNpEntitlement">SceNpEntitlement</a> *<i>ent</i>
);

#define <b>sceNpAuthCheckEntitlementById</b>(<i>ticket</i>, <i>ticketSize</i>, <i>entId</i>) \
<b>	sceNpAuthGetEntitlementById</b>((<i>ticket</i>), (<i>ticketSize</i>), (<i>entId</i>), NULL)

</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し不可<br>スレッドから呼び出し可能(割り込み許可状態で呼ぶこと)<br>マルチスレッドセーフである<br><br></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>ticket</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;チケットデータへのポインタ&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>ticketSize</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;チケットデータサイズ&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>entId</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;対象のエンタイトルメントID&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>ent</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;エンタイトルメント情報の結果出力先&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">正常終了の場合は0を返します。<br>エラーがあった場合、エラーコードを返します。<br><br></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><i>ticket</i>および<i>ticketSizeで</i>指定されたチケットから、<i>entId</i>で指定されたエンタイトルメントのエンタイトルメント情報を<i>ent</i>に返します。<br><i>ent</i>にNULLを指定された場合は、チケット内で<i>entId</i>の存在チェックだけを行ない、エンタイトルメント情報は返しません。エンタイトルメントの権利チェックを行なう場合はこの使い方になり、sceNpAuthCheckEntitlementById()が専用マクロとして用意されています。<br><br></div>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>unsigned char *ticket;
SceSize ticket_len:
<a href="../network/NP_Auth-Reference-Japanese.htm#SceNpEntitlement">SceNpEntitlement</a> ent;
const char *entId;

// ticket, ticket_len で示されるバッファにチケットを取得済みとする

// entId に対象のエンタイトルメントIDが格納済みとする
ret = sceNpAuthGetEntitlementById(ticket, ticket_len, entId, &amp;ent);
if (ret &lt; 0){
	// エラー処理
}

</font></pre></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceNpAuthGetMemoryStat"></a>
<table width="100%"><td width="70%"><font size=6>sceNpAuthGetMemoryStat<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>内部のメモリ使用状況を取得<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;np_auth.h&gt;

int <b>sceNpAuthGetMemoryStat</b>(
	struct <a href="../network/NP_Common-Reference-Japanese.htm#SceNpMemoryStat">SceNpMemoryStat</a> *<i>mstat</i>
);

</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し不可<br>スレッドから呼び出し可能(割り込み許可状態で呼ぶこと)<br>マルチスレッドセーフである<br><br></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>mstat</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;メモリ使用状況構造体へのポインタ&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">正常終了の場合は0を返します。<br>エラーがあった場合、エラーコードを返します。<br><br></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">NP auth内部のメモリプールの使用状況を取得し、<i>mstat</i>に格納します。<br><br></div>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>struct <a href="../network/NP_Common-Reference-Japanese.htm#SceNpMemoryStat">SceNpMemoryStat</a> stat;

ret = sceNpAuthGetMemoryStat(&amp;stat);
if(ret &lt; 0){
	/* エラー処理 */
}

printf("poolsize: %d, maxsize: %d, freesize: %d\n", stat.poolsize, stat.maxsize, stat.freesize);

</font></pre></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../network/NP_Common-Reference-Japanese.htm#SceNpMemoryStat">SceNpMemoryStat</a><br><br></div>

<!-- sce_hd2 -->
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="np_authのエラーコード一覧"></a>
<table width="100%"><td width="70%"><font size=6>np_authのエラーコード一覧<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[エラーコード]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>np_authの返すエラーコード<br></div><br>

<!-- sce_title -->
<a Name ="HeadingT_5_1">
<div style="margin-left:40px;"><h4><b>クライアントライブラリが返すエラーコード一覧</b><br><br></h4></div></a>

<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>マクロ</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>値</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>説明</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_ALREADY_INITIALIZED">SCE_NP_AUTH_ERROR_ALREADY_INITIALIZED</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80550301&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;初期化済みのライブラリを&nbsp;&nbsp;<br>&nbsp;&nbsp;再度初期化しようとした&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_NOT_INITIALIZED">SCE_NP_AUTH_ERROR_NOT_INITIALIZED</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80550302&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ライブラリが未初期化の&nbsp;&nbsp;<br>&nbsp;&nbsp;状態でAPIを呼ぼうとした&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_EINVAL">SCE_NP_AUTH_ERROR_EINVAL</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80550303&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;引数が不正&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_ENOMEM">SCE_NP_AUTH_ERROR_ENOMEM</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80550304&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;メモリ不足&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_ESRCH">SCE_NP_AUTH_ERROR_ESRCH</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80550305&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;指定されたIDのコンテキスト&nbsp;&nbsp;<br>&nbsp;&nbsp;もしくはエンタイトルメントが&nbsp;&nbsp;<br>&nbsp;&nbsp;存在しなかった&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_EBUSY">SCE_NP_AUTH_ERROR_EBUSY</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80550306&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;内部スレッドが処理中のため&nbsp;&nbsp;<br>&nbsp;&nbsp;API呼び出しが行えない&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_ABORTED">SCE_NP_AUTH_ERROR_ABORTED</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80550307&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;中断APIによって処理が&nbsp;&nbsp;<br>&nbsp;&nbsp;中断された&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_INVALID_SERVICE_ID">SCE_NP_AUTH_ERROR_INVALID_SERVICE_ID</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80550308&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;サービスIDが不正&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_INVALID_CREDENTIAL">SCE_NP_AUTH_ERROR_INVALID_CREDENTIAL</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80550309&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;サインインIDあるいは&nbsp;&nbsp;<br>&nbsp;&nbsp;パスワードが不正&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_INVALID_ENTITLEMENT_ID">SCE_NP_AUTH_ERROR_INVALID_ENTITLEMENT_ID</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x8055030a&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;エンタイトルメントIDが不正&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_INVALID_DATA_LENGTH">SCE_NP_AUTH_ERROR_INVALID_DATA_LENGTH</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x8055030b&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Cookieのデータ長が不正&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_UNSUPPORTED_TICKET_VERSION">SCE_NP_AUTH_ERROR_UNSUPPORTED_TICKET_VERSION</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x8055030c&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;指定されたチケットの&nbsp;&nbsp;<br>&nbsp;&nbsp;バージョンが不正&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_STACKSIZE_TOO_SHORT">SCE_NP_AUTH_ERROR_STACKSIZE_TOO_SHORT</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x8055030d&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;内部スレッドの&nbsp;&nbsp;<br>&nbsp;&nbsp;スタックサイズが小さい&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_MANAGER_ERROR_INVALID_ARGUMENT">SCE_NP_MANAGER_ERROR_INVALID_ARGUMENT</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80550503&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;引数が不正&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_MANAGER_ERROR_INVALID_TICKET_SIZE">SCE_NP_MANAGER_ERROR_INVALID_TICKET_SIZE</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80550505&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;指定されたチケットサイズが&nbsp;&nbsp;<br>&nbsp;&nbsp;不正&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>

<!-- sce_title -->
<a Name ="HeadingT_5_2">
<div style="margin-left:40px;"><h4><b>認証サーバーが返すエラーコード一覧</b><br><br></h4></div></a>

<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>マクロ</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>値</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>説明</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_SERVICE_END">SCE_NP_AUTH_ERROR_SERVICE_END</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80550400&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;NPのサービスが恒久的に&nbsp;&nbsp;<br>&nbsp;&nbsp;停止している&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_SERVICE_DOWN">SCE_NP_AUTH_ERROR_SERVICE_DOWN</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80550401&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;NPのサービスが一時的に&nbsp;&nbsp;<br>&nbsp;&nbsp;ダウンしている&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_SERVICE_BUSY">SCE_NP_AUTH_ERROR_SERVICE_BUSY</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80550402&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;NPのサービスがビジー状態&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_S_INVALID_DATA_LENGTH">SCE_NP_AUTH_ERROR_S_INVALID_DATA_LENGTH</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80550410&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;データ長が不正&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_S_INVALID_USER_AGENT">SCE_NP_AUTH_ERROR_S_INVALID_USER_AGENT</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80550411&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;User Agentが不正&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_S_INVALID_VERSION">SCE_NP_AUTH_ERROR_S_INVALID_VERSION</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80550412&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;バージョンが不正&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_S_INVALID_SERVICE_ID">SCE_NP_AUTH_ERROR_S_INVALID_SERVICE_ID</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80550420&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;サービスIDが不正&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_S_INVALID_CREDENTIAL">SCE_NP_AUTH_ERROR_S_INVALID_CREDENTIAL</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80550421&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;サインインIDあるいは&nbsp;&nbsp;<br>&nbsp;&nbsp;パスワードが不正&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_S_INVALID_ENTITLEMENT_ID">SCE_NP_AUTH_ERROR_S_INVALID_ENTITLEMENT_ID</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80550422&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;エンタイトルメントIDが&nbsp;&nbsp;<br>&nbsp;&nbsp;不正&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_S_INVALID_CONSUMED_COUNT">SCE_NP_AUTH_ERROR_S_INVALID_CONSUMED_COUNT</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80550423&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;消費カウントが不正&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_ACCOUNT_CLOSED">SCE_NP_AUTH_ERROR_ACCOUNT_CLOSED</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80550430&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;アカウントの利用が恒久的に&nbsp;&nbsp;<br>&nbsp;&nbsp;停止されている&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_ACCOUNT_SUSPENDED">SCE_NP_AUTH_ERROR_ACCOUNT_SUSPENDED</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80550431&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;アカウントの利用が一時的に&nbsp;&nbsp;<br>&nbsp;&nbsp;停止されている&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_ACCOUNT_RENEW_EULA">SCE_NP_AUTH_ERROR_ACCOUNT_RENEW_EULA</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80550432&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ユーザがもう一度EULAを&nbsp;&nbsp;<br>&nbsp;&nbsp;認証する必要がある&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_ACCOUNT_RENEW_ACCOUNT1">SCE_NP_AUTH_ERROR_ACCOUNT_RENEW_ACCOUNT1</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80550440&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;アカウントの状態がログイン&nbsp;&nbsp;<br>&nbsp;&nbsp;できなくなっている&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_ACCOUNT_RENEW_ACCOUNT2">SCE_NP_AUTH_ERROR_ACCOUNT_RENEW_ACCOUNT2</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80550441&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;同上&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_ACCOUNT_RENEW_ACCOUNT3">SCE_NP_AUTH_ERROR_ACCOUNT_RENEW_ACCOUNT3</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80550442&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;同上&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_ACCOUNT_RENEW_ACCOUNT4">SCE_NP_AUTH_ERROR_ACCOUNT_RENEW_ACCOUNT4</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80550443&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;同上&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_ACCOUNT_RENEW_ACCOUNT5">SCE_NP_AUTH_ERROR_ACCOUNT_RENEW_ACCOUNT5</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80550444&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;同上&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_ACCOUNT_RENEW_ACCOUNT6">SCE_NP_AUTH_ERROR_ACCOUNT_RENEW_ACCOUNT6</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80550445&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;同上&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_ACCOUNT_RENEW_ACCOUNT7">SCE_NP_AUTH_ERROR_ACCOUNT_RENEW_ACCOUNT7</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80550446&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;同上&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_ACCOUNT_RENEW_ACCOUNT8">SCE_NP_AUTH_ERROR_ACCOUNT_RENEW_ACCOUNT8</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80550447&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;同上&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_ACCOUNT_RENEW_ACCOUNT9">SCE_NP_AUTH_ERROR_ACCOUNT_RENEW_ACCOUNT9</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80550448&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;同上&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_ACCOUNT_RENEW_ACCOUNT10">SCE_NP_AUTH_ERROR_ACCOUNT_RENEW_ACCOUNT10</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80550449&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;同上&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_ACCOUNT_RENEW_ACCOUNT11">SCE_NP_AUTH_ERROR_ACCOUNT_RENEW_ACCOUNT11</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x8055044a&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;同上&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_ACCOUNT_RENEW_ACCOUNT12">SCE_NP_AUTH_ERROR_ACCOUNT_RENEW_ACCOUNT12</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x8055044b&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;同上&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_ACCOUNT_RENEW_ACCOUNT13">SCE_NP_AUTH_ERROR_ACCOUNT_RENEW_ACCOUNT13</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x8055044c&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;同上&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_ACCOUNT_RENEW_ACCOUNT14">SCE_NP_AUTH_ERROR_ACCOUNT_RENEW_ACCOUNT14</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x8055044d&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;同上&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_ACCOUNT_RENEW_ACCOUNT15">SCE_NP_AUTH_ERROR_ACCOUNT_RENEW_ACCOUNT15</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x8055044e&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;同上&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_ACCOUNT_RENEW_ACCOUNT16">SCE_NP_AUTH_ERROR_ACCOUNT_RENEW_ACCOUNT16</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x8055044f&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;同上&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_NP_AUTH_ERROR_UNKNOWN">SCE_NP_AUTH_ERROR_UNKNOWN</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80550480&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;内部エラー&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<p><p><hr>
<div ALIGN="right">
    &copy;2009 Sony Computer Entertainment Inc.  All Rights Reserved.<br>
    SCE CONFIDENTIAL
</div>
</body>
</html>
