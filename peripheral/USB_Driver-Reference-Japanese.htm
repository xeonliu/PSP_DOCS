<html lang="jp">
<head>
<title>USB_Driver-Reference</title>
<meta http-equiv="Content-Type" content= text/html; charset=Shift_JIS>
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta http-equiv="Content-Style-Type" content="Text/css>
<meta name="Author"Content=" Sony Computer Entertainment Inc.">
</head>
<body bgcolor="#ffffff" text="#000000" >
<a name=TOP></a>
<table WIDTH="100%">
<tr><td>
<h3>PSP&reg; Programmer Tool Runtime Library Release 6.6.0</h3>
</td>
</tr>
</table>
<hr noshade size=6>
<center><h1>
USBドライバ
</h1></center>
</a>
<!-- sce_hd1 -->

<!-- sce_hd2 -->
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="USBドライバの始動と停止状態"></a>
<table width="100%"><td width="70%"><font size=6>USBドライバの始動と停止状態<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[定数定義]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>USBドライバの始動と停止状態を表す定数<br></div><br>

<!-- 定義 -->
<div style="margin-left:10px;"><b>定義</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;usb.h&gt;

</font></pre></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>マクロ</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>値</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>説明</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_USB_PLUGIN">SCE_USB_PLUGIN</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x01&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;USBドライバが始動（プラグイン）している&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_USB_PLUGOUT">SCE_USB_PLUGOUT</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x02&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;USBドライバが停止（プラグアウト）している&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">USBプロトコルドライバのプラグイン/プラグアウト状態を表すビットを示す定数です。<br><br><a href="../peripheral/USB_Driver-Reference-Japanese.htm#sceUsbGetDrvState">sceUsbGetDrvState</a>()の返り値からUSBドライバの始動と停止（プラグイン/プラグアウト）状態を取得したり、<a href="../peripheral/USB_Driver-Reference-Japanese.htm#sceUsbGetDrvList">sceUsbGetDrvList</a>()関数で取得したい始動と停止（プラグイン/プラグアウト）状態を指定したりするために使用します。<br><br></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../peripheral/USB_Driver-Reference-Japanese.htm#SceUsbDrvInfo">SceUsbDrvInfo</a><br><a href="../peripheral/USB_Driver-Reference-Japanese.htm#sceUsbGetDrvList">sceUsbGetDrvList</a>(), <a href="../peripheral/USB_Driver-Reference-Japanese.htm#sceUsbGetDrvState">sceUsbGetDrvState</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="USBデバイスの始動と停止状態"></a>
<table width="100%"><td width="70%"><font size=6>USBデバイスの始動と停止状態<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[定数定義]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>USBデバイスの始動と停止状態を表す定数<br></div><br>

<!-- 定義 -->
<div style="margin-left:10px;"><b>定義</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;usb.h&gt;

</font></pre></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>マクロ</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>値</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>説明</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_USB_DEACTIVATED">SCE_USB_DEACTIVATED</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x0100&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;USBデバイスが停止した状態&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_USB_ACTIVATED">SCE_USB_ACTIVATED</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x0200&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;USBデバイスが始動した状態&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_USB_ACT_MASK">SCE_USB_ACT_MASK</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x0F00&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;USBデバイスの始動/停止状態取得用マスク&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">USBデバイスの始動と停止状態を表すビット位置を示した定数です。<br><br><a href="../peripheral/USB_Driver-Reference-Japanese.htm#sceUsbGetState">sceUsbGetState</a>()関数で取得したUSBデバイス状態から各状態を取得するために使用します。<br><br></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../peripheral/USB_Driver-Reference-Japanese.htm#sceUsbGetState">sceUsbGetState</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="USBケーブルの接続状態"></a>
<table width="100%"><td width="70%"><font size=6>USBケーブルの接続状態<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[定数定義]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>USBケーブルの接続状態を表す定数<br></div><br>

<!-- 定義 -->
<div style="margin-left:10px;"><b>定義</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;usb.h&gt;

</font></pre></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>マクロ</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>値</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>説明</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_USB_DISCONNECTED">SCE_USB_DISCONNECTED</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x0010&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;USBケーブルが接続されていない状態&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_USB_CONNECTED">SCE_USB_CONNECTED</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x0020&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;USBケーブルが接続された状態&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_USB_CONN_MASK">SCE_USB_CONN_MASK</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x00F0&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;USBケーブルの接続状態取得用マスク&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">USBケーブルの接続状態を表すビットを示した定数です。<br><br><a href="../peripheral/USB_Driver-Reference-Japanese.htm#sceUsbGetState">sceUsbGetState</a>()関数で取得したUSBデバイス状態からケーブルの接続状態を取得するために使用します。<br><br></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../peripheral/USB_Driver-Reference-Japanese.htm#sceUsbGetState">sceUsbGetState</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="USB仕様上の状態"></a>
<table width="100%"><td width="70%"><font size=6>USB仕様上の状態<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[定数定義]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>USB仕様上の状態を表す定数<br></div><br>

<!-- 定義 -->
<div style="margin-left:10px;"><b>定義</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;usb.h&gt;

</font></pre></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>マクロ</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>値</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>説明</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_USB_DEFAULT">SCE_USB_DEFAULT</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x0001&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Default及びAddressステート&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_USB_CONFIGURED">SCE_USB_CONFIGURED</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x0002&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Configuredステート&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_USB_SUSPENDED">SCE_USB_SUSPENDED</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x0004&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Suspendedステート&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_USB_STATE_MASK">SCE_USB_STATE_MASK</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x000F&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;USB仕様上の状態取得用マスク&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">USB仕様上の状態を表すビットを示す定数です。<br><br><a href="../peripheral/USB_Driver-Reference-Japanese.htm#sceUsbGetState">sceUsbGetState</a>()関数で取得したUSBデバイス状態から各状態を取得するために使用します。<br><br></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../peripheral/USB_Driver-Reference-Japanese.htm#sceUsbGetState">sceUsbGetState</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="SCE_USB_BUS_DRIVER_NAME"></a>
<table width="100%"><td width="70%"><font size=6>SCE_USB_BUS_DRIVER_NAME<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[定数定義]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>USBバスドライバの名前の定数<br></div><br>

<!-- 定義 -->
<div style="margin-left:10px;"><b>定義</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;usb.h&gt;

</font></pre></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>マクロ</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>値</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_USB_BUS_DRIVER_NAME">SCE_USB_BUS_DRIVER_NAME</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;"USBBusDriver"&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">USBバスドライバの名前を表す定数です。<br><br><a href="../peripheral/USB_Driver-Reference-Japanese.htm#sceUsbStart">sceUsbStart</a>() / <a href="../peripheral/USB_Driver-Reference-Japanese.htm#sceUsbStop">sceUsbStop</a>()関数でUSBバスドライバを指定する時に使用します。<br><br></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../peripheral/USB_Driver-Reference-Japanese.htm#sceUsbStart">sceUsbStart</a>(), <a href="../peripheral/USB_Driver-Reference-Japanese.htm#sceUsbStop">sceUsbStop</a>()<br><br></div>

<!-- sce_hd2 -->
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="SceUsbDrvInfo"></a>
<table width="100%"><td width="70%"><font size=6>SceUsbDrvInfo<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[構造体]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>USBプロトコルドライバ情報<br></div><br>

<!-- 定義 -->
<div style="margin-left:10px;"><b>定義</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;usb.h&gt;
#define SCE_USB_MAX_DRV_NAME  32
typedef struct SceUsbDrvInfo {
	unsigned int <i>size</i>;
	char <i>name</i> [SCE_USB_MAX_DRV_NAME];
	int <i>state</i>;
	int <i>reserved</i>[2];
} <b>SceUsbDrvInfo</b>;

</font></pre></div>

<!-- メンバ -->
<div style="margin-left:10px;"><b>メンバ</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>size</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;構造体のサイズ(byte)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>name </i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ドライバ名&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>state</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;プラグイン状態&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>reserved</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;予約領域&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<div style="margin-left:50px;"><i>state</i>メンバは、下表のマクロが入ります。<br></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>マクロ</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>値</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>説明</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_PLUGIN">SCE_USB_PLUGIN</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x01&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;USBプロトコルドライバがプラグインしている&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_PLUGOUT">SCE_USB_PLUGOUT</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x02&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;USBプロトコルドライバがプラグアウトしている&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">USBプロトコルドライバの情報を表す構造体です。<br><br></div>

<!-- 備考 -->
<div style="margin-left:10px;"><b>備考</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../peripheral/USB_Driver-Reference-Japanese.htm#sceUsbGetDrvList">sceUsbGetDrvList</a>()関数を使用する時は、<i>size</i>メンバにsizeof(SceUsbDrvInfo)を設定しておかなければなりません。<br><br></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_PLUGIN">SCE_USB_PLUGIN</a>, <a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_PLUGOUT">SCE_USB_PLUGOUT</a><br><a href="../peripheral/USB_Driver-Reference-Japanese.htm#sceUsbGetDrvList">sceUsbGetDrvList</a>()<br><br></div>

<!-- sce_hd2 -->
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceUsbStart"></a>
<table width="100%"><td width="70%"><font size=6>sceUsbStart<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>USBドライバの始動<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;usb.h&gt;
int <b>sceUsbStart</b>(
	const char *<i>name</i>,
	unsigned int <i>args,</i>
<i>	</i>const void *<i>argp</i>
);

</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し不可<br>スレッドから呼び出し可能（割り込み許可状態で呼ぶこと）<br>マルチスレッドセーフである<br><br></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>name</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;始動するUSBドライバの名前&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>args</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ドライバへ渡すデータのサイズ(byte)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>argp</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ドライバへ渡すデータへのポインタ&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">正常終了の場合は0を返します。<br>エラーの場合は以下のエラーコードかkerror.hやpsperror.hに定義されたエラーコードを返します。<br><br><a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_ERROR_ALREADY">SCE_USB_ERROR_ALREADY</a>, <a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_ERROR_NOTAVAIL">SCE_USB_ERROR_NOTAVAIL</a><br><a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_ERROR_NOENT">SCE_USB_ERROR_NOENT</a>, <a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_ERROR_INPROGRESS">SCE_USB_ERROR_INPROGRESS</a><br><a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_ERROR_INVAL">SCE_USB_ERROR_INVAL</a><br><br></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">引数<i>name</i>で指定された名前に一致するUSBバスドライバ、もしくはUSBプロトコルドライバを始動する関数です。<br><br>USBバスドライバを始動するには、引数<i>name</i>に<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_BUS_DRIVER_NAME"><a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_BUS_DRIVER_NAME">SCE_USB_BUS_DRIVER_NAME</a></a>を指定してください。<br>USBプロトコルドライバを始動するためには、まず上記の方法でUSBバスドライバを始動してから、sceUsbStart()の引数<i>name</i>にUSBプロトコルドライバの名前を指定して呼び出してください。<br>USBプロトコルドライバによっては、名前以外にもう1つデータを引数<i>argp</i>で渡すことができます。詳細は各USBプロトコルドライバの資料を参照してください。<br><br></div>

<!-- 備考 -->
<div style="margin-left:10px;"><b>備考</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../peripheral/USB_Driver-Reference-Japanese.htm#sceUsbActivate">sceUsbActivate</a>()関数によりUSBデバイスが始動している間は、新たなUSBドライバを始動することはできません。<br><br></div>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>// USBバスドライバの始動
if (sceUsbStart(<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_BUS_DRIVER_NAME"><a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_BUS_DRIVER_NAME">SCE_USB_BUS_DRIVER_NAME</a></a>, 0, NULL) &lt; 0) {
	// エラー処理
}
printf("USB Bus Driver start\n");

</font></pre></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../peripheral/USB_Driver-Reference-Japanese.htm#sceUsbStop">sceUsbStop</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceUsbStop"></a>
<table width="100%"><td width="70%"><font size=6>sceUsbStop<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>USBドライバの停止<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;usb.h&gt;
int <b>sceUsbStop</b>(
	const char *<i>name</i>,
	unsigned int <i>args,</i>
	const void *<i>argp</i>
);

</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し不可<br>スレッドから呼び出し可能（割り込み許可状態で呼ぶこと）<br>マルチスレッドセーフである<br><br></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>name</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;停止するUSBドライバの名前&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>args</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ドライバへ渡すデータのサイズ(byte)&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>argp</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ドライバへ渡すデータへのポインタ&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">正常終了の場合は0を返します。<br>エラーの場合は以下のエラーコードかkerror.hやpsperror.hに定義されたエラーコードを返します。<br><br><a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_ERROR_ALREADY">SCE_USB_ERROR_ALREADY</a>, <a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_ERROR_NOTAVAIL">SCE_USB_ERROR_NOTAVAIL</a><br><a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_ERROR_NOENT">SCE_USB_ERROR_NOENT</a>, <a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_ERROR_INPROGRESS">SCE_USB_ERROR_INPROGRESS</a><br><br></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">引数<i>name</i>で指定された名前に一致するUSBドライバを停止する関数です。<br><br>USBドライバを停止させたい場合は、まず<a href="../peripheral/USB_Driver-Reference-Japanese.htm#sceUsbDeactivate">sceUsbDeactivate</a>()でUSBデバイスを停止させてください。<br>次に引数<i>name</i>に停止するUSBプロトコルドライバの名前を指定し、sceUsbStop()を呼び出してください。<br>USBバスドライバも停止させる時は、まず上記の方法ですべてのUSBプロトコルドライバを停止します。その後に引数<i>name</i>に<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_BUS_DRIVER_NAME"><a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_BUS_DRIVER_NAME">SCE_USB_BUS_DRIVER_NAME</a></a>を指定して、sceUsbStop()を呼び出してください。<br>USBプロトコルドライバによっては、名前以外にもう1つデータを引数<i>argp</i>で渡すことができます。詳細は各USBプロトコルドライバの資料を参照してください。<br><br></div>

<!-- 備考 -->
<div style="margin-left:10px;"><b>備考</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">USBプロトコルドライバをアンロードしたい時は、先にアンロードしたいUSBプロトコルドライバをsceUsbStop()で停止させてください。<br><br></div>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>// USBバスドライバの停止
if (sceUsbStop(<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_BUS_DRIVER_NAME"><a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_BUS_DRIVER_NAME">SCE_USB_BUS_DRIVER_NAME</a></a>, 0, NULL) &lt; 0) {
	// エラー処理
}
printf("USB Bus Driver stop\n");

</font></pre></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../peripheral/USB_Driver-Reference-Japanese.htm#sceUsbStart">sceUsbStart</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceUsbActivate"></a>
<table width="100%"><td width="70%"><font size=6>sceUsbActivate<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>USBデバイスの始動<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;usb.h&gt;
int <b>sceUsbActivate</b>(
	unsigned int <i>idProduct</i>
);

</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し不可<br>スレッドから呼び出し可能（割り込み許可状態で呼ぶこと）<br>マルチスレッドセーフである<br><br></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>idProduct</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;プロダクトID&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">正常終了の場合は0を返します。<br>エラーの場合は以下のエラーコードかkerror.hやpsperror.hに定義されたエラーコードを返します。<br><br><a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_ERROR_ALREADY">SCE_USB_ERROR_ALREADY</a>, <a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_ERROR_NOENT">SCE_USB_ERROR_NOENT</a>, <a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_ERROR_NOSPC">SCE_USB_ERROR_NOSPC</a><br><a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_ERROR_NOMEM">SCE_USB_ERROR_NOMEM</a>, <a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_ERROR_INPROGRESS">SCE_USB_ERROR_INPROGRESS</a><br><a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_ERROR_INVAL">SCE_USB_ERROR_INVAL</a>, <a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_ERROR_NOTAVAIL">SCE_USB_ERROR_NOTAVAIL</a><br><br></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">USBデバイスを始動（アクティベート）する関数です。<br><br>USBデバイスを始動するためには、USBバスドライバと使用するUSBプロトコルドライバを<a href="../peripheral/USB_Driver-Reference-Japanese.htm#sceUsbStart">sceUsbStart</a>()で始動させてください。<br>その後、各プロトコルのヘッダファイルに定義されているプロダクトIDを引数<i>idProduct</i>に指定し、sceUsbActivate()を呼び出してください。PSP&reg;が指定したプロダクトIDをもつUSBデバイスとしてが始動します。どのプロダクトIDを指定するかについては、各プロトコルドライバの資料を参照してください。<br><br>始動に成功すると、<a href="../peripheral/USB_Driver-Reference-Japanese.htm#USBデバイスの始動と停止状態">USBデバイスの始動と停止状態</a>が<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_ACTIVATED">SCE_USB_ACTIVATED</a>へ遷移します。<br><br></div>

<!-- 備考 -->
<div style="margin-left:10px;"><b>備考</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">USBケーブルを接続してもUSBデバイスが始動していなければ、ホストはUSBデバイス（PSP&reg;）を認識しません。<br><br></div>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>unsigned int idProduct = 0xFFFF;
if (sceUsbActivate(idProduct) &lt; 0) {
	// エラー処理
} else {
	printf("success to activate\n");
}

</font></pre></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_ACTIVATED">SCE_USB_ACTIVATED</a><br><a href="../peripheral/USB_Driver-Reference-Japanese.htm#sceUsbDeactivate">sceUsbDeactivate</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceUsbDeactivate"></a>
<table width="100%"><td width="70%"><font size=6>sceUsbDeactivate<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>USBデバイスの停止<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;usb.h&gt;
int <b>sceUsbDeactivate</b>(
	void
);

</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し不可<br>スレッドから呼び出し可能（割り込み許可状態で呼ぶこと）<br>マルチスレッドセーフである<br><br></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">なし<br><br></div>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">正常終了の場合は0を返します。<br>エラーの場合は以下のエラーコードかkerror.hやpsperror.hに定義されたエラーコードを返します。<br><br><a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_ERROR_ALREADY">SCE_USB_ERROR_ALREADY</a>, <a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_ERROR_INPROGRESS">SCE_USB_ERROR_INPROGRESS</a><br><a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_ERROR_NOTAVAIL">SCE_USB_ERROR_NOTAVAIL</a><br><br></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">USBデバイスを停止する関数です。<br><br>停止に成功するとUSBデバイスの始動/停止状態は<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_DEACTIVATED">SCE_USB_DEACTIVATED</a>へ遷移します。<br><br></div>

<!-- 備考 -->
<div style="margin-left:10px;"><b>備考</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">USBデバイスが<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_DEACTIVATED">SCE_USB_DEACTIVATED</a>の状態になると、ホストからはUSBケーブルが抜かれたときと同じ状態に見えます。<br><br></div>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>if (sceUsbDeactivate() &lt; 0) {
	// エラー処理
} else {
	printf("success to deactivate\n");
}

</font></pre></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_DEACTIVATED">SCE_USB_DEACTIVATED</a><br><a href="../peripheral/USB_Driver-Reference-Japanese.htm#sceUsbActivate">sceUsbActivate</a>()<br><br></div>

<!-- sce_hd2 -->
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceUsbGetState"></a>
<table width="100%"><td width="70%"><font size=6>sceUsbGetState<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>USBデバイス状態の取得<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;usb.h&gt;
unsigned int <b>sceUsbGetState</b>(
	void
);

</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し可能<br>スレッドから呼び出し可能（割り込み禁止 / 許可状態に依存しない）<br>マルチスレッドセーフである<br><br></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">なし<br><br></div>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">下表にある3つのマクロの論理和を返します。<br></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>マクロ</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>説明</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_USB_ACTIVATED&nbsp;&nbsp;<br>&nbsp;&nbsp;SCE_USB_DEACTIVATED&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;<a href="../peripheral/USB_Driver-Reference-Japanese.htm#USBデバイスの始動と停止状態">USBデバイスの始動と停止状態</a>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_USB_CONNECTED&nbsp;&nbsp;<br>&nbsp;&nbsp;SCE_USB_DISCONNECTED&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;<a href="../peripheral/USB_Driver-Reference-Japanese.htm#USBケーブルの接続状態">USBケーブルの接続状態</a>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_USB_DEFAULT&nbsp;&nbsp;<br>&nbsp;&nbsp;SCE_USB_CONFIGURED&nbsp;&nbsp;<br>&nbsp;&nbsp;SCE_USB_SUSPENDED&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;<a href="../peripheral/USB_Driver-Reference-Japanese.htm#USB仕様上の状態">USB仕様上の状態</a>&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">USBデバイス状態を取得する関数です。<br><br>この関数はUSBバスドライバの始動/停止に関わらず使用できます。<br><br></div>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>if ((sceUsbGetState() &amp; <a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_CONN_MASK">SCE_USB_CONN_MASK</a>) == <a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_CONNECTED">SCE_USB_CONNECTED</a>) {
	printf("USB cable is connected\n");
}

</font></pre></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_ACTIVATED">SCE_USB_ACTIVATED</a>, <a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_DEACTIVATED">SCE_USB_DEACTIVATED</a>, <a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_ACT_MASK">SCE_USB_ACT_MASK</a><br><a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_CONNECTED">SCE_USB_CONNECTED</a>, <a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_DISCONNECTED">SCE_USB_DISCONNECTED</a>, <a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_CONN_MASK">SCE_USB_CONN_MASK</a><br><a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_DEFAULT">SCE_USB_DEFAULT</a>, <a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_CONFIGURED">SCE_USB_CONFIGURED</a>, <a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_SUSPENDED">SCE_USB_SUSPENDED</a><br><a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_STATE_MASK">SCE_USB_STATE_MASK</a><br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceUsbGetDrvList"></a>
<table width="100%"><td width="70%"><font size=6>sceUsbGetDrvList<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>ロード済みのUSBプロトコルドライバのリスト取得<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;usb.h&gt;
unsigned int <b>sceUsbGetDrvList</b>(
	int <i>flag</i>;
	<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SceUsbDrvInfo">SceUsbDrvInfo</a> *<i>drvinfo_list</i>;
	int <i>max_num</i>;
);

</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し不可<br>スレッドから呼び出し可能（割り込み許可状態で呼ぶこと）<br>マルチスレッドセーフである<br><br></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>flag</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;プラグイン状態フラグ&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>drvinfo_list</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;USBプロトコルドライバの情報を返す<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SceUsbDrvInfo">SceUsbDrvInfo</a>型配列へのポインタ&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>max_num</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;引数<i>drvinfo_list</i>が示す<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SceUsbDrvInfo">SceUsbDrvInfo</a>型配列の要素数&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<div style="margin-left:50px;">引数<i>flag</i>には、下表のマクロの論理和を指定してください。<br></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>マクロ</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>値</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>説明</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_PLUGIN">SCE_USB_PLUGIN</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x01&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;プラグインしているUSBプロトコルドライバ&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_PLUGOUT">SCE_USB_PLUGOUT</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x02&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;プラグアウトしているUSBプロトコルドライバ&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">正常終了の場合は<i>flag</i>で指定したフラグに該当するUSBプロトコルドライバの数を返します。<br>エラーの場合はkerror.hやpsperror.hに定義されたエラーコードを返します。<br><br></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">引数<i>flag</i>で指定したフラグに該当するUSBプロトコルドライバの情報を取得する関数です。<br></div>
<br>
<div style="margin-left:50px;">sceUsbGetDrvList()を呼び出す前に、必ず<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SceUsbDrvInfo">SceUsbDrvInfo</a>構造体の<i>size</i>メンバにsizeof(<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SceUsbDrvInfo">SceUsbDrvInfo</a>)を指定しておいてください。<i>size</i>メンバの値がsizeof(<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SceUsbDrvInfo">SceUsbDrvInfo</a>)でない場合はエラー(SCE_ERROR_INVALID_VALUE)となります。<br>プラグインされているUSBプロトコルドライバのリストを取得したい場合は、引数<i>flag</i>に<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_PLUGIN">SCE_USB_PLUGIN</a>を指定してください。<br>プラグアウトされているUSBプロトコルドライバのリストを取得したい場合は、引数<i>flag</i>に<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_PLUGOUT">SCE_USB_PLUGOUT</a>を指定してください。<br>ロードされているすべてのUSBプロトコルドライバのリストを取得したい場合は、引数<i>flag</i>に<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_PLUGIN">SCE_USB_PLUGIN</a>と<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_PLUGIN">SCE_USB_PLUGIN</a>の論理和を指定してください。<br>正常終了の場合にはフラグに該当するUSBプロトコルドライバの数を返します。引数<i>max_num</i>に指定した値よりも該当するUSBプロトコルドライバの数が多い場合には、返り値 &gt; <i>max_num</i>となりますので注意してください。<br>引数<i>max_num</i>に0を指定した場合には、<i>drvinfo_list</i>がNULLであってもエラーにはならず、返り値からフラグに該当するプロトコルドライバの数を取得することができます。<br>この関数はバスドライバの始動/停止に関わらず使用できます。<br></div>
<br>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>#include &lt;usb.h&gt;
#define MAX_LIST_ITEM  10

<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SceUsbDrvInfo">SceUsbDrvInfo</a> drvinfo_list[MAX_LIST_ITEM];
int i, num;

// 構造体の初期化
for (i = 0; i &lt; MAX_LIST_ITEM; i++) {
	drvinfo_list[i].size = sizeof(<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SceUsbDrvInfo">SceUsbDrvInfo</a>);
}

// プラグインされているプロトコルドライバリストを取得
num = sceUsbGetDrvList(<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_PLUGIN">SCE_USB_PLUGIN</a>, drvinfo_list, MAX_LIST_ITEM);
if (num &lt; 0) {
	// エラー処理
} else if (num == 0) {
	printf("No Plug-In driver\n"); 
} else {
	printf("%d Plug-In drivers\n", num);
	num = num &gt; MAX_LIST_ITEM ? MAX_LIST_ITEM : num;
	for (i = 0; i &lt; num; i++) {
		printf("No.%d : %s\n", i, drvinfo_list[i].name);
	}
}

</font></pre></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_PLUGIN">SCE_USB_PLUGIN</a>, <a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_PLUGOUT">SCE_USB_PLUGOUT</a><br><a href="../peripheral/USB_Driver-Reference-Japanese.htm#SceUsbDrvInfo">SceUsbDrvInfo</a><br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceUsbGetDrvState"></a>
<table width="100%"><td width="70%"><font size=6>sceUsbGetDrvState<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>USBドライバの始動状態の取得<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;usb.h&gt;
int <b>sceUsbGetDrvState</b>(
	const char <i>*name</i>
);

</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し不可<br>スレッドから呼び出し可能（割り込み許可状態で呼ぶこと）<br>マルチスレッドセーフである<br><br></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>name</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;始動状態を取得するUSBドライバの名前&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>マクロ</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>説明</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_USB_PLUGIN&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;USBドライバが始動（プラグイン）されている&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_USB_PLUGOUT&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;USBドライバが停止（プラグアウト）されている&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_USB_ERROR_NOENT&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;引数<i>name</i>で指定した名前のUSBドライバが登録されていない&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;その他&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;kerror.hやpsperror.hに定義されたエラーコードを参照&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">引数<i>name</i>で指定された名前に一致する<a href="../peripheral/USB_Driver-Reference-Japanese.htm#USBドライバの始動と停止状態">USBドライバの始動と停止状態</a>を取得する関数です。<br></div>
<br>
<div style="margin-left:50px;">USBバスドライバの始動/停止状態を取得したい時は、引数<i>name</i>に<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_BUS_DRIVER_NAME"><a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_BUS_DRIVER_NAME">SCE_USB_BUS_DRIVER_NAME</a></a>を指定してください。<br>USBプロトコルドライバの始動/停止状態を取得したい時は、引数<i>name</i>にUSBプロトコルドライバの名前を指定してください。<br>この関数はUSBバスドライバの始動/停止に関わらず使用できます。<br><br></div>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>int ret;

// USBバスドライバの始動状態取得
if ((ret = sceUsbGetDrvState(<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_BUS_DRIVER_NAME"><a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_BUS_DRIVER_NAME">SCE_USB_BUS_DRIVER_NAME</a></a>)) &lt; 0) {
	// エラー処理
} else if (ret == <a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_PLUGIN">SCE_USB_PLUGIN</a>) {
	printf("USB Bus Driver is starting\n");
} else {
	printf("USB Bus Driver is stopping\n");
}

</font></pre></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_PLUGIN">SCE_USB_PLUGIN</a>, <a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_PLUGOUT">SCE_USB_PLUGOUT</a><br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceUsbWaitState"></a><a name="sceUsbWaitStateCB"></a>
<a name="sceUsbWaitState / sceUsbWaitStateCB"></a>
<table width="100%"><td width="70%"><font size=6>sceUsbWaitState / sceUsbWaitStateCB<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>任意のUSBデバイス状態待ち<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;usb.h&gt;
int <b>sceUsbWaitState</b>(
	unsigned int <i>state,</i>
	int <i>waitmode,</i>
	unsigned int <i>*timeout</i>
);
int <b>sceUsbWaitStateCB</b>(
	unsigned int <i>state,</i>
	int <i>waitmode,</i>
	unsigned int <i>*timeout</i>
);

</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し不可<br>スレッドから呼び出し可能（割り込み許可状態で呼ぶこと）<br>マルチスレッドセーフである<br><br></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">
<table border=0>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>state</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;待ちを解除する条件となるデバイス状態&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>waitmode</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;待ちのモード&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<i>timeout</i>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;待ち時間の上限(usec)を格納したunsigned int型変数へのポインタ&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<div style="margin-left:50px;">引数<i>state</i>の値は、下表の論理和を指定してください。<br></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>マクロ</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>値</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>説明</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_DEFAULT">SCE_USB_DEFAULT</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x0001&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Default及びAddressステート&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_CONFIGURED">SCE_USB_CONFIGURED</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x0002&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Configuredステート&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_SUSPENDED">SCE_USB_SUSPENDED</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x0004&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Suspendedステート&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_DISCONNECTED">SCE_USB_DISCONNECTED</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x0010&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;USBケーブルが接続されていない状態&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_CONNECTED">SCE_USB_CONNECTED</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x0020&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;USBケーブルが接続された状態&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_DEACTIVATED">SCE_USB_DEACTIVATED</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x0100&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;USBデバイスが停止した状態&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_ACTIVATED">SCE_USB_ACTIVATED</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x0200&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;USBデバイスが始動した状態&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>
<div style="margin-left:50px;">引数<i>waitmode</i> の値は、下表のマクロを指定してください。<br></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>マクロ</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>状態</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_KERNEL_EW_AND&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;AND待ち&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_KERNEL_EW_OR&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;OR待ち&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">正常終了の場合は、USBデバイス状態を下表のマクロの論理和で返します。<br></div>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>マクロ</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>値</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>説明</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_USB_DEFAULT&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x0001&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Default及びAddressステート&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_USB_CONFIGURED&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x0002&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Configuredステート&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_USB_SUSPENDED&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x0004&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Suspendedステート&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_USB_DISCONNECTED&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x0010&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;USBケーブルが接続されていない状態&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_USB_CONNECTED&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x0020&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;USBケーブルが接続された状態&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_USB_DEACTIVATED&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x0100&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;USBデバイスが停止した状態&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;SCE_USB_ACTIVATED&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x0200&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;USBデバイスが始動した状態&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>
<div style="margin-left:50px;">エラーの場合は以下のエラーコードかkerror.hやpsperror.hに定義されたエラーコードを返します。<br><br><a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_ERROR_INVAL">SCE_USB_ERROR_INVAL</a>, <a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_ERROR_NOTAVAIL">SCE_USB_ERROR_NOTAVAIL</a><br><a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_ERROR_TIMEOUT">SCE_USB_ERROR_TIMEOUT</a>, <a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_ERROR_CANCELED">SCE_USB_ERROR_CANCELED</a><br><br></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">USBデバイスが条件を満たす状態に遷移するまで、待ち状態になる関数です。sceUsbWaitState()はコールバック関数が実行不可能な待ち状態、sceUsbWaitStateCB()はコールバック関数が実行可能な待ち状態となります。<br><br>USBバスドライバが始動している状態で使用します。<br>引数<i>state</i>はUSBデバイス状態を表すマクロの論理和で指定できます。<br>引数<i>waitmode</i>がSCE_KERNEL_EW_ORの場合は、引数<i>state</i>で指定されたいずれかの状態に遷移するまで待ち状態となります(OR待ち)。<br>SCE_KERNEL_EW_ANDの場合は、指定された状態を全てを同時に満たす状態に遷移するまで待ち状態となります(AND待ち)。AND待ちで引数<i>state</i>がありえない状態(<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_CONNECTED">SCE_USB_CONNECTED</a>と<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_DISCONNECTED">SCE_USB_DISCONNECTED</a>の論理和など)の場合には<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_ERROR_INVAL">SCE_USB_ERROR_INVAL</a>を返します。<br>タイムアウトするか待ち解除の条件が満たされると待ち状態が解除され、<i>timeout</i>が示す変数には残り時間が代入されます。タイムアウトした場合には<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_ERROR_TIMEOUT">SCE_USB_ERROR_TIMEOUT</a>を返します。待ち解除の条件が満たされた場合にはその時のデバイス状態を返します。<br>引数<i>timeout</i>にNULLを指定した場合には無限に待ちます。<br><a href="../peripheral/USB_Driver-Reference-Japanese.htm#sceUsbWaitCancel">sceUsbWaitCancel</a>()により、待ち状態がキャンセルされた場合には<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_ERROR_CANCELED">SCE_USB_ERROR_CANCELED</a>を返します。<br><br></div>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>#define TIMEOUT 5000000  // 5sec
unsigned int timeout = TIMEOUT;
int ret;

while (1) {
	// USBケーブルが接続されるのを待つ場合
	ret = sceUsbWaitState(<a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_CONNECTED">SCE_USB_CONNECTED</a>,
			    SCE_KERNEL_EW_AND, &amp;timeout);
	if (ret &lt; 0) {
		if (ret == <a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_ERROR_TIMEOUT">SCE_USB_ERROR_TIMEOUT</a>) {
			timeout = TIMEOUT;
		} else {
			// エラー処理
			return -1;
		}
	} else {
		break;
	}
} 
printf("USB cable is connected\n");

</font></pre></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_ACTIVATED">SCE_USB_ACTIVATED</a>, <a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_DEACTIVATED">SCE_USB_DEACTIVATED</a>, <a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_ACT_MASK">SCE_USB_ACT_MASK</a><br><a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_CONNECTED">SCE_USB_CONNECTED</a>, <a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_DISCONNECTED">SCE_USB_DISCONNECTED</a>, <a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_CONN_MASK">SCE_USB_CONN_MASK</a><br><a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_DEFAULT">SCE_USB_DEFAULT</a>, <a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_CONFIGURED">SCE_USB_CONFIGURED</a>, <a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_SUSPENDED">SCE_USB_SUSPENDED</a><br><a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_STATE_MASK">SCE_USB_STATE_MASK</a><br><a href="../peripheral/USB_Driver-Reference-Japanese.htm#sceUsbWaitCancel">sceUsbWaitCancel</a>()<br><br></div>
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="sceUsbWaitCancel"></a>
<table width="100%"><td width="70%"><font size=6>sceUsbWaitCancel<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[関数]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>任意のUSBデバイス状態待ちのキャンセル<br></div><br>

<!-- 形式 -->
<div style="margin-left:10px;"><b>形式</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><pre><font size=3>#include &lt;usb.h&gt;
int <b>sceUsbWaitCancel</b>(
	void
);

</font></pre></div>

<!-- 呼出条件 -->
<div style="margin-left:10px;"><b>呼出条件</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">割り込みハンドラから呼び出し可能<br>スレッドから呼び出し可能（割り込み禁止 / 許可状態に依存しない）<br>マルチスレッドセーフである<br><br></div>

<!-- 引数 -->
<div style="margin-left:10px;"><b>引数</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">なし<br><br></div>

<!-- 返り値 -->
<div style="margin-left:10px;"><b>返り値</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">正常終了の場合は0を返します。<br>エラーの場合は以下のエラーコードを返します。<br><br><a href="../peripheral/USB_Driver-Reference-Japanese.htm#SCE_USB_ERROR_NOTAVAIL">SCE_USB_ERROR_NOTAVAIL</a><br><br></div>

<!-- 解説 -->
<div style="margin-left:10px;"><b>解説</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../peripheral/USB_Driver-Reference-Japanese.htm#sceUsbWaitState">sceUsbWaitState</a>() / <a href="../peripheral/USB_Driver-Reference-Japanese.htm#sceUsbWaitStateCB">sceUsbWaitStateCB</a>()の待ち状態をキャンセルする関数です。<br><br>USBバスドライバを始動している状態で使用します。<br>複数のスレッドが<a href="../peripheral/USB_Driver-Reference-Japanese.htm#sceUsbWaitState">sceUsbWaitState</a>()の待ち状態であった場合には、すべてのスレッド待ち状態がキャンセルされます。<br><br></div>

<!-- 備考 -->
<div style="margin-left:10px;"><b>備考</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;">特定のスレッドの待ち状態のみを解除したい場合には、<a href="../peripheral/USB_Driver-Reference-Japanese.htm#sceUsbWaitState">sceUsbWaitState</a>()のタイムアウトを利用して、タイムアウトした時に再び待ち状態に入らないようにするなどの方法で対処してください。<br><br></div>

<!-- 使用例 -->
<div style="margin-left:10px;"><b>使用例</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
        <div style="margin-left:50px;"><pre><font size=3>if (sceUsbWaitCancel() &lt; 0) {
	// エラー処理
}

</font></pre></div>

<!-- 関連項目 -->
<div style="margin-left:10px;"><b>関連項目</b></div>
<hr noshade align="left" size=2 width=20%>
<br>
<div style="margin-left:50px;"><a href="../peripheral/USB_Driver-Reference-Japanese.htm#sceUsbWaitState">sceUsbWaitState</a>(), <a href="../peripheral/USB_Driver-Reference-Japanese.htm#sceUsbWaitStateCB">sceUsbWaitStateCB</a>()<br><br></div>

<!-- sce_hd2 -->
<!-- sce_funcname -->
<hr noshade Size=6 >
<a name="エラーコード一覧"></a>
<table width="100%"><td width="70%"><font size=6>エラーコード一覧<br></font></a></td>
<td width="30%"valign="center"align="right"><b><font size=4>[エラーコード]</font></b></td></table>
<hr noshade Size=4 >
<!-- sce_function -->
<!-- hp -->
<div align=right>USBバスドライバが返すエラーコード<br></div><br>
<div style="margin-left:50px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>マクロ</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>値</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>説明</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_USB_ERROR_OK">SCE_USB_ERROR_OK</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x00000000&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;正常終了&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_USB_ERROR_ALREADY">SCE_USB_ERROR_ALREADY</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80243001&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;既に処理されている&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_USB_ERROR_INVAL">SCE_USB_ERROR_INVAL</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80243002&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;引数が不正&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_USB_ERROR_NOSPC">SCE_USB_ERROR_NOSPC</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80243003&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;ハードウェアリソースに空きがない&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_USB_ERROR_NOMEM">SCE_USB_ERROR_NOMEM</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80243004&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;メモリが不足&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_USB_ERROR_NOENT">SCE_USB_ERROR_NOENT</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80243005&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;1つもUSBプロトコルドライバが&nbsp;&nbsp;<br>&nbsp;&nbsp;プラグインされていない&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_USB_ERROR_INPROGRESS">SCE_USB_ERROR_INPROGRESS</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80243006&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;現在処理中である&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_USB_ERROR_NOTAVAIL">SCE_USB_ERROR_NOTAVAIL</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80243007&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;現在利用できない&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_USB_ERROR_TIMEOUT">SCE_USB_ERROR_TIMEOUT</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80243008&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;タイムアウトした&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;<a name="SCE_USB_ERROR_CANCELED">SCE_USB_ERROR_CANCELED</a>&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;0x80243009&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;キャンセルされた&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<p><p><hr>
<div ALIGN="right">
    &copy;2005 Sony Computer Entertainment Inc.  All Rights Reserved.<br>
    SCE CONFIDENTIAL
</div>
</body>
</html>
