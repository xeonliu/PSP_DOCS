<html lang="en">
<head>
<title>Additional_Game_Data-Packaging</title>
<meta http-equiv="Content-Type" content= text/html; charset=iso-8859-1>
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta http-equiv="Content-Style-Type" content="Text/css>
<meta name="Author"Content=" Sony Computer Entertainment Inc.">
</head>
<body bgcolor="#ffffff" text="#000000" >
<a name=TOP></a>
<table WIDTH="100%">
<tr><td>
<h3>PSP&trade; Downloadable Game Package</h3>
</td>
</tr>
</table>
<hr noshade size=6>
<center><h1>
PSP&trade; Additional Game Data Package Creation Guide
</h1></center>
</a>
<!-- sce_hd1 -->

<!-- sce_hd3 -->
<a name="Heading3_1">
<h2>
 1 <!-- hp --><b>Introduction</b>
<hr noshade>
</h2>

<div style="margin-left:50px;">This document explains the step-by-step procedure needed to create a PSP&trade; additional game data package. It describes how to create data and programs so they can be distributed as PSP&trade; additional game data packages, what content information is needed for packaging, the process for creating the package itself along with operational testing, and finally, how to submit the master.<br></div>

<!-- sce_hd4 -->
<a name="Heading4_1_1">
<h3>
<a href="#Heading3_1"> 1. </a>1 
<!-- hp1 --><b>What is the PSP&trade; Additional Game Data Package?</b><br>
</a>
</h3>
<div style="margin-left:50px;">The PSP&trade; additional game data package is a data packaging format that enables optional content such as additional items or characters to be downloaded from the PlayStation&reg;Store so they can be added to and used in a released application.<br>When a PSP&trade; additional game data package is downloaded, it is installed on a <br>Memory Stick&trade; and appears as additional game data on the game list displayed by PSP&trade; system software. Encryption and access rights for the installed data are managed by the NPDRM system so that only users with the proper authority can access the data and others are prevented from tampering with it.<br><br>Users can download a PSP&trade; additional game package from the PlayStation&reg;Store to either a PlayStation&reg;3, PSP&trade; or a PC.<br>When a PSP&trade; additional game package is downloaded to a PlayStation&reg;3, it is temporarily installed on the PlayStation&reg;3's internal hard disk drive, and then using system software, the user copies the package to the Memory Stick&trade; of a PSP&trade; via the USB connection.<br>When a PSP&trade; additional game package is downloaded to a PSP&trade;, it will be expanded on the Memory Stick&trade; by system software. When a PSP&trade; additional game package is downloaded to a PC, a dedicated PC application called Media Go is used to install the package on to the Memory Stick&trade; of a PSP&trade; via the USB connection. <br>A PSP&trade; additional game data package must contain PlayStation&reg;3 content information files for the user to download it to a PlayStation&reg;3. <br>When the PSP&trade; additional game data package is downloaded to a PSP&trade; or PC, these PlayStation&reg;3 content information files are not displayed.<br><br>Besides the PSP&trade; additional game package, another data format known as the PSP&trade; downloadable game data package can be used to distribute applications via the PlayStation&reg;Store. For details, refer to the document entitled "PSP&trade; Downloadable Game Data Package Creation Guide".<br></div>

<!-- sce_hd4 -->
<a name="Heading4_1_2">
<h3>
<a href="#Heading3_1"> 1. </a>2 
<!-- hp1 --><b>Title Configuration and the PSP&trade; Additional Game Data Package</b><br>
</a>
</h3>
<div style="margin-left:50px;">An individual game title is made up of an application body, obtained from a UMD&trade; or downloaded as a PSP&trade; downloadable game package, and game data downloaded as a PSP&trade; additional game data package. As explained earlier, typically, the PSP&trade; additional game data package contains additional items that can be added later to the application. However, other combinations are possible such as a free demo version package and a full version package, or hidden features and a full version package.<br></div>

<!-- sce_title -->
<a Name ="HeadingT_1_2_1">
<div style="margin-left:40px;"><h4><b>Using More Than One PSP&trade; Additional Game Data Package</b><br><br></h4></div></a>

<div style="margin-left:67px;">A title can use more than one PSP&trade; additional game data package. Each package can be used to provide different types of additional items, for example.<br>When providing multiple PSP&trade; additional game data packages, determine the contents of each package carefully so that the user may install the packages in any order.<br></div>

<!-- sce_hd4 -->
<a name="Heading4_1_3">
<h3>
<a href="#Heading3_1"> 1. </a>3 
<!-- hp1 --><b>Workflow</b><br>
</a>
</h3>
<div style="margin-left:50px;">The tasks for creating a PSP&trade; additional game data package are normally performed in the following order.<br></div>

<!-- sce_hd5 -->
<div style="margin-left:40px;"><a name="Heading5_1_3_1"><h4>
(1)&nbsp;<b>Create the additional game data body</b><br></h4>
</a></div>
<div style="margin-left:67px;">Create the program and data.<br></div>

<!-- sce_hd5 -->
<div style="margin-left:40px;"><a name="Heading5_1_3_2"><h4>
(2)&nbsp;<b>Create the files required for packaging</b><br></h4>
</a></div>
<div style="margin-left:67px;">Create the system file and content information files for the PSP&trade;, the content information files for the PlayStation&reg;3, and the configuration file.<br></div>

<!-- sce_hd5 -->
<div style="margin-left:40px;"><a name="Heading5_1_3_3"><h4>
(3)&nbsp;<b>Perform packaging and operational testing</b><br></h4>
</a></div>
<div style="margin-left:67px;">Assemble the required files in the predefined directory structure, archive them as a zip file, and use the simple authoring service provided by SCE to create a "PSP&trade; additional game data package for development." Install this package on a PSP&trade; development tool and perform sufficient operational testing.<br></div>

<!-- sce_hd5 -->
<div style="margin-left:40px;"><a name="Heading5_1_3_4"><h4>
(4)&nbsp;<b>Submit the master and perform QA testing</b><br></h4>
</a></div>
<div style="margin-left:67px;">Submit the tested PSP&trade; additional game data package for development to SCE. After SCE completes QA testing, the package will be made publicly available on the PlayStation&reg;Store.<br></div>

<!-- sce_hd3 -->
<a name="Heading3_2">
<h2>
 2 <!-- hp --><b>Creating the Additional Game Data Body</b>
<hr noshade>
</h2>

<div style="margin-left:50px;">This chapter describes how to create data for distribution as a PSP&trade; additional game data package.<br></div>

<!-- sce_hd4 -->
<a name="Heading4_2_1">
<h3>
<a href="#Heading3_2"> 2. </a>1 
<!-- hp1 --><b>Rules for Filenames and Subdirectories</b><br>
</a>
</h3>
<div style="margin-left:50px;">A PSP&trade; additional game package can contain any number of files in an arbitrary subdirectory structure up to seven levels deep under the PSP_DATA directory. However, pathnames under the PSP_DATA directory must be no more than 200 characters long. Filenames and subdirectory names must conform to FAT naming conventions (FAT is the filesystem used on the Memory Stick&trade;). More specifically, they must conform to CFS naming conventions (CFS is the filesystem used on the internal hard disk of the PlayStation&reg;3), but if they are FAT-compliant, they will automatically be CFS-compliant. For details on FAT compliance, refer to the "FAT Filesystem For Memory Stick&trade;" overview document.<br>Note that the following names are reserved by the system, so they cannot be used for filenames or subdirectory names ("*" denotes a wildcard).<br></div>
        <div style="margin-left:80px;"><pre><font size=3>
EBOOT*.*
PBOOT*.*
*.PBP
*.SFO
ICON*.*
PIC*.*
SND*.*
DOCUMENT.DAT
DOCINFO.EDAT

</font></pre></div>
<div style="margin-left:50px;">Also, during package creation, files with the following extensions (both lower case and upper case versions) have special meanings.<br></div>
        <div style="margin-left:80px;"><pre><font size=3>
*.SELF 
*.SPRX 
*.EDAT
</font></pre></div>

<!-- sce_hd4 -->
<a name="Heading4_2_2">
<h3>
<a href="#Heading3_2"> 2. </a>2 
<!-- hp1 --><b>Creating Data Files</b><br>
</a>
</h3>
<div style="margin-left:50px;">A PSP&trade; additional game data package can contain two types of data files. One type of data file is encrypted and has access rights that are managed (this type of file is known as NPDRM EDATA). The other type is a normal data file and is freely accessible.<br>Normal files are not subject to rights protection. A package that is distributed for a fee has at least one NPDRM EDATA file. A user's access rights should be verified according to whether or not that file can be read correctly.<br>A file with an extension of ".EDAT" (or its lower case equivalent) is considered to be an NPDRM EDATA file. A file whose extension is not .EDAT is handled as a normal file.<br>NPDRM EDATA files are encrypted by the system, and they can also be assigned a unique key (k_licensee). The key enables the file to be protected so that it cannot be read by another program.<br></div>

<!-- sce_title -->
<a Name ="HeadingT_2_2_2">
<div style="margin-left:40px;"><h4><b>Verifying NPDRM EDATA</b><br><br></h4></div></a>

<div style="margin-left:67px;">Although the contents of an NPDRM EDATA file are protected, the filename is not protected. A user can freely copy or rename a PSP&trade; additional game data package once it is installed on a Memory Stick&trade;. If there is a corresponding access rights information file, the user will still be able to access the copied or renamed NPDRM EDATA file.<br>This means that besides being able to access an NPDRM EDATA file, you must also verify its contents. To accomplish this, you should include an NPDRM EDATA file with unique contents in each package so that it can be uniquely identified and verified.<br></div>

<!-- sce_title -->
<a Name ="HeadingT_2_2_3">
<div style="margin-left:40px;"><h4><b>Access to Data Files</b><br><br></h4></div></a>

<div style="margin-left:67px;">A PSP&trade; additional game data package is stored in the following directory on a <br>Memory Stick&trade;.<br></div>
        <div style="margin-left:80px;"><pre><font size=3>
ms0:/PSP/GAME/<i>(product number without hyphens)</i>/

Example) ms0:/PSP/GAME/SXXX01234/

</font></pre></div>
<div style="margin-left:67px;">This absolute path must be embedded in the program in advance to access files in the package.<br>Also, to read an NPDRM EDATA file, the NPDRM library must be used to verify access rights. For details, refer to the "NPDRM Library" document.<br>Note that there are no particular restrictions with respect to accessing the NPDRM EDATA files themselves. The sceIoOpen() function can be used to open them as normal files, however, in that case, they will be read in an encrypted/compressed state. The files are also not protected for writing. If part of the data is overwritten, the files will become corrupted and will no longer be recognized as NPDRM EDATA and therefore will not be able to be decrypted.<br></div>

<!-- sce_title -->
<a Name ="HeadingT_2_2_4">
<div style="margin-left:40px;"><h4><b>Insertion and Removal of the Memory Stick&trade; </b><br><br></h4></div></a>

<div style="margin-left:67px;">If the Memory Stick&trade; is removed while the application is running, all open NPDRM EDATA files will be closed. If the Memory Stick&trade; is reinserted, those files must be reopened and their access rights reverified in order to access them again.<br></div>

<!-- sce_title -->
<a Name ="HeadingT_2_2_5">
<div style="margin-left:40px;"><h4><b>Operational Testing of the Program</b><br><br></h4></div></a>

<div style="margin-left:67px;">To use the functions of the NPDRM library, you must first perform authoring on the desired data or program file. If you only change the file extension to .EDAT, you won't be able to read the data.<br>During development, you should first use normal module utility functions when creating the program and then perform normal debugging. Later, rewrite the program so that NPDRM library functions are used, and then perform authoring according to the procedure described later in this document. This will create a PSP&trade; additional game data package for development, which can then be used for a second round of operational testing and debugging.<br></div>

<!-- sce_hd4 -->
<a name="Heading4_2_3">
<h3>
<a href="#Heading3_2"> 2. </a>3 
<!-- hp1 --><b>Using Multiple PSP&trade; Additional Game Data Packages</b><br>
</a>
</h3>
<div style="margin-left:50px;">A single title can use multiple PSP&trade; additional game data packages. In this case, make sure that the application runs properly regardless of the order in which the user installs the packages. For example, a problem will occur if a file that is contained in package A is unconditionally required by a separate package B and the user only installs package B. Also, since all of the packages associated with a given title are stored in the same directory on the Memory Stick&trade;, if different packages contain a file with the same name but the contents of those files are different, the final file contents will depend on the order in which the packages were installed. Be sure to set up the files in the packages so that this kind of inconsistency does not occur.<br><br>Note that the name of the system file and names of the content information files that are used for additional game data on the PSP&trade; are always the same in PARAM.PBP, so they will always be overwritten whenever a package is installed on the Memory Stick&trade;. On the other hand, content information files for the PlayStation&reg;3 (on the PlayStation&reg;3 hard disk) are not overwritten.<br></div>

<!-- sce_hd3 -->
<a name="Heading3_3">
<h2>
 3 <!-- hp --><b>Creating Files Required for Packaging</b>
<hr noshade>
</h2>

<div style="margin-left:50px;">This chapter describes the following files, which are required when creating a PSP&trade; additional game data package.<br></div>
<div style="margin-left:40px;"><ul>
<li> PSP&trade; system file (PARAM.SFO)
<li> PSP&trade; content information files (ICON0.PNG, etc.)
<li> PlayStation&reg;3 content information files (still image icons, high-resolution descriptive images, and standard-resolution descriptive images)
<li> Configuration file (NPDRM.CONF)
</ul></div>

<!-- sce_hd4 -->
<a name="Heading4_3_1">
<h3>
<a href="#Heading3_3"> 3. </a>1 
<!-- hp1 --><b>PSP&trade; System File (PARAM.SFO)</b><br>
</a>
</h3>
<div style="margin-left:50px;">The system file (PARAM.SFO) contains parameters used by PSP&trade; system software for displaying certain information to the user. Examples include game title names and parental level controls. The system file also defines parameters that are used internally such as the product number and disc serial number. A dedicated tool called the SystemFileEditor is used to create the system file. Note that the system file for a PSP&trade; additional game data package is different from the system file used with a game master disc and it must be created separately. The filename of the system file for a PSP&trade; additional game data package is MSGamedata_SystemFile_Config.sfc and its parameters should be defined as shown below.<br></div>

<!-- sce_title -->
<a Name ="HeadingT_3_1_6">
<div style="margin-left:40px;"><h4><b>TITLE</b><br><br></h4></div></a>

<div style="margin-left:67px;">Title name. Must be distinguishable from the application body. Maximum length is 128 bytes (UTF-8), including terminating NULL. Cannot contain linefeed characters.<br></div>
        <div style="margin-left:80px;"><pre><font size=3>
Example) Prairie Warrior Additional Data
</font></pre></div>

<!-- sce_title -->
<a Name ="HeadingT_3_1_7">
<div style="margin-left:40px;"><h4><b>PARENTAL_LEVEL</b><br><br></h4></div></a>

<div style="margin-left:67px;">Parental lock level. Values can range from 0 to 11. Must be the same value as that of the application body.<br></div>

<!-- sce_title -->
<a Name ="HeadingT_3_1_8">
<div style="margin-left:40px;"><h4><b>DISC_ID</b><br><br></h4></div></a>

<div style="margin-left:67px;">String consisting of the product number of the application body after the hyphens have been removed. If you want the user to access PSP&trade; additional game data for other titles such as for a series or a sequel, please contact the SCE Publisher Relations Department in advance since a different product number must be used.<br></div>
        <div style="margin-left:80px;"><pre><font size=3>
Example)  ABCD01234
</font></pre></div>

<!-- sce_title -->
<a Name ="HeadingT_3_1_9">
<div style="margin-left:40px;"><h4><b>DISC_VERSION</b><br><br></h4></div></a>

<div style="margin-left:67px;">The disc version, represented as X.XX, where X is a number. The disc version is an optional parameter.<br></div>
        <div style="margin-left:80px;"><pre><font size=3>
Example)  1.00
</font></pre></div>

<!-- sce_title -->
<a Name ="HeadingT_3_1_10">
<div style="margin-left:40px;"><h4><b>REGION, BOOTABLE, DRIVER_PATH, PSP_SYSTEM_VER, CATEGORY</b><br><br></h4></div></a>

<div style="margin-left:67px;">Do not change the default values for these parameters as displayed by the SystemFileEditor.<br></div>

<!-- sce_hd4 -->
<a name="Heading4_3_2">
<h3>
<a href="#Heading3_3"> 3. </a>2 
<!-- hp1 --><b>PSP&trade; Content Information Files</b><br>
</a>
</h3>
<div style="margin-left:50px;">PSP&trade; content information files are used by PSP&trade; system software for displaying PSP&trade; additional game data that is installed on a Memory Stick&trade;, for example, icon image files. The five types of PSP&trade; content information files are listed below. Only the still image icon is required and must be created;. all others are optional.<br></div>
<div style="margin-left:40px;"><ul>
<li> Still image icon:  ICON0.PNG
<li> Animated image icon:  ICON1.PMF
<li> Content description graphic:  PIC0.PNG
<li> Content information background graphic:  PIC1.PNG
<li> Background music file:  SND0.AT3
</ul></div>
<div style="margin-left:50px;">For details on the format of these files and how to create them, refer to the "Content Information File Creation" chapter in the "Game Master Disc Creation Procedure" document.<br></div>

<!-- sce_title -->
<a Name ="HeadingT_3_2_11">
<div style="margin-left:40px;"><h4><b>Overriding Content Information</b><br><br></h4></div></a>

<div style="margin-left:67px;">When a PSP&trade; downloadable game package and PSP&trade; additional game data package are both installed on a Memory Stick&trade;, you can choose which package's content information should take precedence and be displayed to the user. This is done when the PSP&trade; downloadable game is created.<br>When creating the PSP&trade; downloadable game's system file, choose the normal UMDGame_SystemFile_Config.sfc as the config file if you want content information from the PSP&trade; downloadable game to take precedence over content information from the PSP&trade; additional game data. In other words, content information from the PSP&trade; downloadable game will be displayed even if the PSP&trade; additional game data package is also installed.<br>On the other hand, choose the special config file UMDGame_Overridable_Config.sfc as the config file when you create the PSP&trade; downloadable game's system file if you want content information from the PSP&trade; downloadable game to be overridden, and content information from the PSP&trade; additional game data package to be displayed instead.<br>Overriding content information is useful in cases when a title is distributed as both a free PSP&trade; downloadable game (demo version) and a fee-based PSP&trade; additional game data package (full version). By distributing the demo version as a PSP&trade; downloadable game, content information marked "demo version" will be overridden after the PSP&trade; additional game data package containing the full version is purchased and installed.<br></div>

<!-- sce_hd4 -->
<a name="Heading4_3_3">
<h3>
<a href="#Heading3_3"> 3. </a>3 
<!-- hp1 --><b>PlayStation&reg;3 Content Information Files</b><br>
</a>
</h3>
<div style="margin-left:50px;">When the user downloads a PSP&trade; additional game data package to a PlayStation&reg;3 system, content information files are displayed by PlayStation&reg;3 system software. The following three files are required.<br></div>
<div style="margin-left:40px;"><ul>
<li> Still image icon file:  ICON0.PNG
<li> Descriptive image file (high resolution):  PIC0.PNG
<li> Descriptive image file (standard resolution):  PIC2.PNG
</ul></div>
<div style="margin-left:50px;">If different language versions of these files are created beforehand (for example ICON0_00.PNG, etc.), content information that matches the user's selected language can be displayed by the multiple language switching feature of the PlayStation&reg;3 system.<br>For details on the format of these files and how to create them, refer to the "PlayStation&reg;3 Still Image Icon File" and "PlayStation&reg;3 Descriptive Image File" sections in the "PSP&trade; Downloadable Package Creation Guide" document. Image files should be created using the templates provided by SCE since graphics must conform to predefined formats.<br></div>

<!-- sce_hd4 -->
<a name="Heading4_3_4">
<h3>
<a href="#Heading3_3"> 3. </a>4 
<!-- hp1 --><b>Configuration File</b><br>
</a>
</h3>
<div style="margin-left:50px;">The configuration file is a text file containing parameters that are required when a PSP&trade; additional game data package is created. These include the content ID which is used to uniquely identify content in the PlayStation&reg;Store. The format of the configuration file is shown below.<br></div>
        <div style="margin-left:80px;"><pre><font size=3>
Content-ID = <i>IV0002-NPXS00004_00-0000111122223333</i>
K-Licensee = <i>0x0123456789abcdef0123456789abcdef</i>
PackageVersion = <i>01.00</i>

</font></pre></div>
<div style="margin-left:50px;">The first line should contain the string "Content-ID = " followed by the content ID. The content ID consists of the service ID issued by SCE followed by a hyphen and an arbitrary 16-digit label. For details about the content ID, refer to the "PlayStation&reg;Network Overview" document. The content ID must be unique to each package.<br>A service ID is issued for each title, so the label in the content ID must be unique in order to distinguish this PSP&trade; additional game data package from the application body provided by a PSP&trade; downloadable game package, or from another PSP&trade; additional game data package created for the same title.<br>The second line should contain the string "K-Licensee = " followed by the value of the encryption key, k_licensee, which is represented as a hexadecimal string starting with 0x. <br>If a given user has access rights to an NPDRM EDATA file, k_licensee is a key that is used to prevent another program that was started by that user from making arbitrary accesses to that file. <br>The encryption key should have a unique value. A suitable value for the key can be obtained by typing the following command under Linux.<br></div>
        <div style="margin-left:80px;"><pre><font size=3>Example)  head -c 16 /dev/random | xxd -g 16
</font></pre></div>
<div style="margin-left:50px;">The third line should contain the string "PackageVersion = " followed by the master package version. The master package version consists of two digits, a decimal point and two more digits. Choose values that conform to the master version numbering scheme described in the "Technical Requirements Checklist for PSP&trade; (PlayStation&reg;Portable) Software" (TRC).<br>The filename of the configuration file should be NPDRM.CONF.<br></div>

<!-- sce_hd3 -->
<a name="Heading3_4">
<h2>
 4 <!-- hp --><b>Packaging and Operational Testing</b>
<hr noshade>
</h2>

<div style="margin-left:50px;">This chapter describes the procedure for assembling the files needed to create a PSP&trade; additional game data package and how to use it to perform operational testing.<br></div>

<!-- sce_hd4 -->
<a name="Heading4_4_1">
<h3>
<a href="#Heading3_4"> 4. </a>1 
<!-- hp1 --><b>Creating a ZIP Archive</b><br>
</a>
</h3>
<div style="margin-left:50px;">Gather together the files listed below that you previously created and arrange them in the directory structure shown.<br></div>

<!-- sce_fignum -->
<div align=center>
<p>

</div>
<br>

<div align=center>
<p>
<img src="gif/Additional_Game_Data-Packaging-English001.gif">
</div>
<br>

<!-- sce_fignum -->
<div align=center>
<p>
<br><b>Figure 1  Directory Structure for Authoring</b><br>
</div>
<br>
<div style="margin-left:50px;"><br>Create a subdirectory named "PSP_DATA" directly under the root directory of the package and place the additional game data and programs there. Note that the extension of a data file that is to be protected must be .EDAT.<br>Similarly, create a subdirectory named "PS3_CONT" and place the PlayStation&reg;3 content information files there. Also create a subdirectory named "PSP_CONT" and place the PSP&trade; system file and PSP&trade; content information files there. Finally, place the configuration file (NPDRM.CONF) in the root directory.<br><br>Archive this entire directory structure in zip format and give it the filename "<i>contentID</i>.SRC.ZIP."<br></div>

<!-- sce_title -->
<a Name ="HeadingT_4_1_12">
<div style="margin-left:40px;"><h4><b>Linux command execution example</b><br><br></h4></div></a>

        <div style="margin-left:80px;"><pre><font size=3>% zip -ry IV0002-NPXS00004_00-0000111122223333.SRC.ZIP .
</font></pre></div>
<div style="margin-left:67px;">A sample of this zip archive is located in devkit/sample/np/np_drm/authoring_sample/, so please use it for reference.<br></div>

<!-- sce_hd4 -->
<a name="Heading4_4_2">
<h3>
<a href="#Heading3_4"> 4. </a>2 
<!-- hp1 --><b>Authoring</b><br>
</a>
</h3>
<div style="margin-left:50px;">Use the simple authoring service provided by SCE to perform authoring on the zip archive that you created, to create the PSP&trade; additional game data package. For details about how to use the simple authoring service, refer to the "PlayStation&reg;Network SMT Simple Authoring Service User's Guide" document.<br>If there are any problems with the uploaded file, the following error codes will be reported. If any other error code is reported, notify SCE of the error code and message you received.<br></div>

<!-- sce_hd6 -->
<a name="Heading6_4_2_1">
<div style="margin-left:63px;"><h4><b>List of Additional Game Data Package Authoring Errors</b><br><br></h4></a></div>
<div style="margin-left:90px;">
<table border=1>
<tr>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>Code</b>&nbsp;&nbsp;</td>
<td valign="TOP" bgcolor="#cccccc">&nbsp;&nbsp;<b>Cause/Response</b>&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;16&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;NPDRM.CONF not found.&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;17&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;PARAM.SFO not found.&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;18&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;PSP&trade; ICON0.PNG not found.&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;19&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;PlayStation&reg;3 ICON0.PNG not found.&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;20&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;PlayStation&reg;3 PIC0.PNG not found.&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;21&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;PlayStation&reg;3 PIC2.PNG not found.&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;22&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Unnecessary file found under PS3_CONT/.&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;23&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Unnecessary file included.&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;24&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Multiple files whose names differ only in their case are in the same directory.&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;25&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;File found that cannot be included under PSP_DATA/.&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;31&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;NPDRM.CONF description is insufficient or invalid.&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;33&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;NPDRM.CONF Content-ID specification is invalid.&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;35&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;A problem with PARAM.SFO was detected.&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;36&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;PARAM.PBP generation failed.&nbsp;&nbsp;<br>&nbsp;&nbsp;There may be a problem in a file under PSP_CONT/.&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;37&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;Content-ID specified in NPDRM.CONF is not contained in ZIP filename to be processed.&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;39&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;NPDRM.CONF K-Licensee specification is invalid.&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;40&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;NPDRM.CONF PackageVersion specification is invalid.&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;41&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;NPDRM SPRX file is included, but no K-Licensee specification in NPDRM.CONF.&nbsp;&nbsp;</td>
</tr>
<tr>
<td valign="TOP">&nbsp;&nbsp;42&nbsp;&nbsp;</td>
<td valign="TOP">&nbsp;&nbsp;NPDRM SPRX file conversion processing failed.&nbsp;&nbsp;<br>&nbsp;&nbsp;PRX file may be invalid.&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<br>
<br>
<div style="margin-left:50px;">When authoring is performed correctly, the following two files will be obtained.<br></div>
<div style="margin-left:40px;"><ul>
<li> <i>ContentID</i>.ZIP:  ZIP package for performing operational testing on the PSP&trade; development tool
<li> <i>ContentID</i>.PKG:  PKG package for verifying content information on the PlayStation&reg;3 development tool 
</ul></div>

<!-- sce_hd4 -->
<a name="Heading4_4_3">
<h3>
<a href="#Heading3_4"> 4. </a>3 
<!-- hp1 --><b>Operational Testing on the Development Tool</b><br>
</a>
</h3>
<div style="margin-left:50px;">Expand the ZIP package in the root directory of the Memory Stick&trade; and insert the <br>Memory Stick&trade; into the PSP&trade; development tool.<br>Check the game list displayed by PSP&trade; system software and verify that the additional game data is displayed properly on the list. Use the content information check feature of PSP&trade; system software to verify that the PSP&trade; content information is correct (to use this feature, PSP&trade; system software must be updated beforehand to the proper version).<br>At this time verify that Warning PARAM.SFO - BOOTABLE: 0(0x0) is displayed in addition to the normal results from the content information check feature. This indicates that MSGamedata_SystemFile_Config.sfc was used. In addition, when overriding content information that is contained in the downloadable game, be sure to execute the content information check feature for the downloadable game and make sure that Warning PARAM.SFO - ATTRIBUTE: 1(0x1) is displayed. <br>Also perform operational testing and debugging of programs contained in the additional game data, as well as programs that will access the additional game data. To check correct program behavior when the user does not have access rights, always run a test by deleting the "<i>contentID</i>.RIF" file from the /LICENSE folder of the Memory Stick&trade; before running the programs. Note that the load will increase somewhat in this case, even before authoring.<br><br>Save the PKG package directly on the Memory Stick&trade;, a USB mass storage device, or in the root directory of an optical disc. Insert that storage media or device into the PlayStation&reg;3 development tool and select the item "Install Package Files" from the game list displayed by system software; this will install the package. After the package is installed, verify that the PlayStation&reg;3 content information is properly displayed on system software screens.<br>Also, if a PSP&trade; development tool is connected to the PlayStation&reg;3 development tool by a USB connection, you can confirm the operation when the package is copied from the PlayStation&reg;3 to the PSP&trade; by selecting the installed content. Sign in to the PlayStation&reg;Network before performing this operation.<br>If you do not have a PlayStation&reg;3 development tool, check with the SCE Publisher Relations Department.<br></div>

<!-- sce_hd4 -->
<a name="Heading4_4_4">
<h3>
<a href="#Heading3_4"> 4. </a>4 
<!-- hp1 --><b>Checking the Package</b><br>
</a>
</h3>
<div style="margin-left:50px;">The make_package_npdrm command can be used to check the validity of the PKG package that was obtained from the simple authoring service.<br>To check the validity of the package, use the --check option.<br></div>
        <div style="margin-left:80px;"><pre><font size=3>
Example) % make_package_npdrm  --check  IV0002-NPXS00004_00-0000111122223333.pkg

</font></pre></div>
<div style="margin-left:50px;">Also, the --list option can be used to display the files contained in the package.<br></div>
        <div style="margin-left:80px;"><pre><font size=3>
Example) % make_package_npdrm  --list  IV0002-NPXS00004_00-0000111122223333.pkg
</font></pre></div>
<div style="margin-left:50px;"><br><br></div>

<!-- sce_hd3 -->
<a name="Heading3_5">
<h2>
 5 <!-- hp --><b>Submitting the Master and Performing QA Testing</b>
<hr noshade>
</h2>


<!-- sce_hd4 -->
<a name="Heading4_5_1">
<h3>
<a href="#Heading3_5"> 5. </a>1 
<!-- hp1 --><b>Submitting the Master</b><br>
</a>
</h3>
<div style="margin-left:50px;">After you've completed operational testing, submit just the PKG package to SCE along with a checked "Technical Requirements Checklist for PSP&trade; (PlayStation&reg;Portable) Software" (TRC) and other required documentation.<br>Verify at this time that the filename of the PKG package is the same as when it was created. The filename contains the content ID and proper operation is not guaranteed if the filename has changed.<br>After SCE has completed QA testing, the PSP&trade; additional game data package will be moved to the public server where it will become available to end users for downloading.<br></div>

<!-- sce_title -->
<a Name ="HeadingT_5_1_13">
<div style="margin-left:40px;"><h4><b>Special QA Tests</b><br><br></h4></div></a>

<div style="margin-left:67px;">Some QA tests require a special process. If you need the tests below performed, please discuss this beforehand with the SCE Publisher Relations Department.<br></div>
</ul>
<div style="margin-left:70px;"><ul>
<li> Testing compatibility between PSP&trade; system models
<li> Testing output to an external display
<li> Testing the use of accessories
</ul></div>

<!-- sce_hd3 -->
<a name="Heading3_6">
<h2>
 6 <!-- hp --><b>Reference Information</b>
<hr noshade>
</h2>


<!-- sce_hd4 -->
<a name="Heading4_6_1">
<h3>
<a href="#Heading3_6"> 6. </a>1 
<!-- hp1 --><b>Directory Structure on a Memory Stick&trade; </b><br>
</a>
</h3>
<div style="margin-left:50px;">The following figure shows the directory structure when a PSP&trade; additional game package is installed on a Memory Stick&trade;.<br></div>

<div style="margin-left:67px;">
<p>
<img src="gif/Additional_Game_Data-Packaging-English002.gif">
</div>
<div style="margin-left:50px;"><br></div>
<div style="margin-left:50px;"><b>Figure 2  Directory Structure on a Memory Stick&trade;</b> <br><br>Note that the name of the additional game data directory corresponds to the product number in PARAM.SFO, so it may be different from the product number that is part of the content ID.<br>Also, since the rights information file is a hidden file, it may seem as though it does not exist when the Memory Stick&trade; contents are viewed on a PC.<br></div>
<p><p><hr>
<div ALIGN="right">
    &copy;2010 Sony Computer Entertainment Inc.  All Rights Reserved.<br>
    SCE CONFIDENTIAL
</div>
</body>
</html>
